<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-柯里化</title><meta name="next-head-count" content="3"/><link rel="preload" href="/next-blog/_next/static/css/d3bd3b56eb8829d9.css" as="style"/><link rel="stylesheet" href="/next-blog/_next/static/css/d3bd3b56eb8829d9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/next-blog/_next/static/chunks/webpack-cf185e4b59cdddcf.js" defer=""></script><script src="/next-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-blog/_next/static/chunks/main-1c9e93b8392c1bc9.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/next-blog/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/post/%5Btitle%5D-216eae5ddb3b6d26.js" defer=""></script><script src="/next-blog/_next/static/wM6hT0st-f9k9wXO8yn1V/_buildManifest.js" defer=""></script><script src="/next-blog/_next/static/wM6hT0st-f9k9wXO8yn1V/_ssgManifest.js" defer=""></script><script src="/next-blog/_next/static/wM6hT0st-f9k9wXO8yn1V/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/next-blog">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/next-blog/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">柯里化</h1><div class="text-sm space-x-2 text-skin-muted grid grid-cols-5"><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2019-10-16 20:48:43</span><span class="flex align-middle"><svg class="w-5 h-5 inline-block mr-1" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1903" width="20" height="20"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" p-id="1904"></path></svg>10/1/2021, 3:34:43 AM</span><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h1 id="what">WHAT</h1>
<p>柯里化是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术</p>
<h1 id="why">WHY</h1>
<ul>
<li>参数复用
如果是相同的参数，在计算之后不需要再次重新传参计算</li>
<li>提前返回
多次调用多次内部判断，可以直接把第一次判断的结果返回外部接收</li>
<li>延迟执行
缓存参数，避免重复的去执行程序，等真正需要结果的时候再执行</li>
</ul>
<h1 id="how">HOW</h1>
<h2 id="参数复用">参数复用</h2>
<p>常见于函数式编程(functional programing)</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">z</span>) {
      <span class="hljs-keyword">return</span> x + y + z;
    };
  };
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)); <span class="hljs-comment">// 6</span>
</code></pre>
<h2 id="提前返回">提前返回</h2>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">addEvent</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">addEventListener</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">el, type, fn, capture</span>) {
      el.<span class="hljs-title function_">addEventListener</span>(type, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> fn.<span class="hljs-title function_">call</span>(el, e), capture);
    };
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">el, type, fn</span>) {
      el.<span class="hljs-title function_">attachEvent</span>(<span class="hljs-string">&quot;on&quot;</span> + type, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> fn.<span class="hljs-title function_">call</span>(el, e));
    };
  }
}

<span class="hljs-keyword">const</span> elBind = <span class="hljs-title function_">addEvent</span>();
<span class="hljs-title function_">elBind</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;button&quot;</span>), <span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e), <span class="hljs-literal">true</span>);
</code></pre>
<h2 id="延迟执行">延迟执行</h2>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curryScore</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">let</span> _allScore = [];
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> fn.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, _allScore);
    <span class="hljs-keyword">else</span> _allScore = _allScore.<span class="hljs-title function_">concat</span>([].<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>));
  };
}
<span class="hljs-keyword">let</span> allScore = <span class="hljs-number">0</span>;
<span class="hljs-keyword">const</span> curryAllScore = <span class="hljs-title function_">curryScore</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; ++i) allScore += <span class="hljs-variable language_">arguments</span>[i];
});

<span class="hljs-title function_">curryAllScore</span>(<span class="hljs-number">2</span>);
<span class="hljs-title function_">curryAllScore</span>(<span class="hljs-number">3</span>);
<span class="hljs-title function_">curryAllScore</span>(<span class="hljs-number">4</span>);
<span class="hljs-title function_">curryAllScore</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allScore);
</code></pre>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"柯里化","tags":["函数式编程","柯里化"],"categories":"awesome","description":"# WHAT\n\n柯里化是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术\n\n# WHY\n\n- 参数复用\n  如果是相同的参数，在计算之后不需要再次重新传参计算\n- 提前返回\n  多次调用多次内部判断，可以直接把第一次判断的结果返回外部接收\n- 延迟执行\n  缓存参数，避免重复的去执行程序，等真正需要结果的时候再执行\n\n# HOW\n\n## 参数复用\n\n常见于函数式编程(funct","createDate":"2019-10-16 20:48:43","updateDate":"10/1/2021, 3:34:43 AM","body":"\u003ch1 id=\"what\"\u003eWHAT\u003c/h1\u003e\n\u003cp\u003e柯里化是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术\u003c/p\u003e\n\u003ch1 id=\"why\"\u003eWHY\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e参数复用\n如果是相同的参数，在计算之后不需要再次重新传参计算\u003c/li\u003e\n\u003cli\u003e提前返回\n多次调用多次内部判断，可以直接把第一次判断的结果返回外部接收\u003c/li\u003e\n\u003cli\u003e延迟执行\n缓存参数，避免重复的去执行程序，等真正需要结果的时候再执行\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"how\"\u003eHOW\u003c/h1\u003e\n\u003ch2 id=\"参数复用\"\u003e参数复用\u003c/h2\u003e\n\u003cp\u003e常见于函数式编程(functional programing)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eadd\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ey\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ez\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e x + y + z;\n    };\n  };\n}\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eadd\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// 6\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"提前返回\"\u003e提前返回\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddEvent\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaddEventListener\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eel, type, fn, capture\u003c/span\u003e) {\n      el.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(type, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e =\u0026gt;\u003c/span\u003e fn.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(el, e), capture);\n    };\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eel, type, fn\u003c/span\u003e) {\n      el.\u003cspan class=\"hljs-title function_\"\u003eattachEvent\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;on\u0026quot;\u003c/span\u003e + type, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e =\u0026gt;\u003c/span\u003e fn.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(el, e));\n    };\n  }\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e elBind = \u003cspan class=\"hljs-title function_\"\u003eaddEvent\u003c/span\u003e();\n\u003cspan class=\"hljs-title function_\"\u003eelBind\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;button\u0026quot;\u003c/span\u003e), \u003cspan class=\"hljs-string\"\u003e\u0026quot;click\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(e), \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"延迟执行\"\u003e延迟执行\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurryScore\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e _allScore = [];\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e === \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e fn.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, _allScore);\n    \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e _allScore = _allScore.\u003cspan class=\"hljs-title function_\"\u003econcat\u003c/span\u003e([].\u003cspan class=\"hljs-property\"\u003eslice\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e));\n  };\n}\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e allScore = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e curryAllScore = \u003cspan class=\"hljs-title function_\"\u003ecurryScore\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e; ++i) allScore += \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e[i];\n});\n\n\u003cspan class=\"hljs-title function_\"\u003ecurryAllScore\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_\"\u003ecurryAllScore\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_\"\u003ecurryAllScore\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_\"\u003ecurryAllScore\u003c/span\u003e();\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(allScore);\n\u003c/code\u003e\u003c/pre\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"柯里化"},"buildId":"wM6hT0st-f9k9wXO8yn1V","assetPrefix":"/next-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>