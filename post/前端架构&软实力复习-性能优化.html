<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-前端架构&amp;软实力复习-性能优化</title><meta name="next-head-count" content="3"/><link rel="preload" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" as="style"/><link rel="stylesheet" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/next-blog/_next/static/chunks/webpack-cf185e4b59cdddcf.js" defer=""></script><script src="/next-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-blog/_next/static/chunks/main-1c9e93b8392c1bc9.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/next-blog/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/post/%5Btitle%5D-406bad804ceffd1d.js" defer=""></script><script src="/next-blog/_next/static/K0fX8bqwfsokZurqUU2xf/_buildManifest.js" defer=""></script><script src="/next-blog/_next/static/K0fX8bqwfsokZurqUU2xf/_ssgManifest.js" defer=""></script><script src="/next-blog/_next/static/K0fX8bqwfsokZurqUU2xf/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/next-blog">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/next-blog/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">前端架构&amp;软实力复习-性能优化</h1><div class="text-sm space-x-2 text-skin-muted"><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2021-06-30 05:48:56</span><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h2 id="性能优化">性能优化</h2>
<h3 id="网络层面">网络层面</h3>
<ol>
<li><p>压缩代码，删除不必要的代码和注释以及空格，尽量做到最小化文件</p>
</li>
<li><p>合理的代码合并与分割，降低资源请求时间</p>
</li>
<li><p>合理使用缓存</p>
</li>
<li><p>静态资源存放cdn</p>
</li>
</ol>
<h4 id="渲染过程">渲染过程</h4>
<p>优化dom结构</p>
<ul>
<li><p>css文件放在head中，JavaScript文件放在body底部</p>
<p>js的执行会阻碍render（两个不同的线程）</p>
</li>
</ul>
<p>优化css</p>
<ul>
<li><p>减少重绘回流</p>
<p>重绘会在设置节点样式时频繁出现，同时也会很大程度上影响性能，重绘是当节点需要更改外观而不会影响布局的时候发生，比如改变 color 就叫重绘
回流是布局或者几何属性需要改变就称为回流，回流必然会引起重绘，重绘不一定为引发回流</p>
<ol>
<li>使用transform代替top</li>
<li>使用visibility代替display:none</li>
<li>直接改变className（把要修改的样式集中到一个class内统一修改）</li>
<li>避免使用table布局（尽量不要使用table布局。如果没有定宽，表格一列的宽度则由最宽的一列决定，那个很可能在最后一行的宽度超出之前的列宽，引起整体回流造成table可能需要多次计算才能确定- 好其在渲染树中节点的属性）</li>
</ol>
</li>
<li><p>扁平化css选择器，避免嵌套过深</p>
<p>选择器嵌套不超过三级</p>
</li>
</ul>
<p>优化JavaScript</p>
<ul>
<li><p>事件委托（<strong>慎用，存在兼容性</strong>），减少事件绑定</p>
</li>
<li><p>合理更新dom</p>
<ol>
<li><p>dom离线操作</p>
</li>
<li><p><a href="https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a">异步更新（包装成micro任务）</a></p>
</li>
</ol>
</li>
<li><p>减少重绘回流</p>
<p>一些api会引起回流（getBoundingClientRect/getComputedStyle/clientTop/scrollTop/offsetTop），避免频繁使用</p>
</li>
</ul>
<h2 id="开发工具优化">开发工具优化</h2>
<p>使用一系列工具使得开发更加方便、高效</p>
<h3 id="使用webpack打包代码">使用webpack打包代码</h3>
<p><img src="https://pics.sdoprofile.com/sdo5/M01/A1/13/CoEpPGAc-0aAIGWzABDaeq_2mCc412_x.png" alt="使用webpack打包代码"></p>
<ul>
<li><p>版本号问题</p>
<p>打包后资源文件名自动添加8位hash值</p>
</li>
<li><p>代码压缩/混淆</p>
<p>使用webpack插件压缩/混淆代码，减小文件体积</p>
</li>
</ul>
<h3 id="使用babel处理兼容性">使用babel处理兼容性</h3>
<p>可以使用es6+高级语法进行开发</p>
<h3 id="使用eslint规范代码">使用eslint规范代码</h3>
<p>参考：</p>
<ul>
<li><a href="https://web.dev">web dev</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/98880815">Web性能领域常见的专业术语</a></li>
<li><a href="https://blog.mrrs.top/blog/view/5f68c0ee414166469a5c4a38">浏览器相关-渲染</a></li>
<li><a href="https://blog.mrrs.top/blog/view/5f68c0ee41416663715c4a39">浏览器相关-模型</a></li>
<li><a href="https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a">JavaScript-执行机制</a></li>
</ul>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"前端架构\u0026软实力复习-性能优化","tags":["性能优化"],"categories":"2021复习","description":"## 性能优化\n\n### 网络层面\n\n1. 压缩代码，删除不必要的代码和注释以及空格，尽量做到最小化文件\n\n2. 合理的代码合并与分割，降低资源请求时间\n\n3. 合理使用缓存\n\n4. 静态资源存放cdn\n\n#### 渲染过程\n\n优化dom结构\n\n- css文件放在head中，JavaScript文件放在body底部\n\n  js的执行会阻碍render（两个不同的线程）\n\n优化css\n\n- 减少","createDate":"2021-06-30 05:48:56","updateDate":"2021-07-01 12:29:25","body":"\u003ch2 id=\"性能优化\"\u003e性能优化\u003c/h2\u003e\n\u003ch3 id=\"网络层面\"\u003e网络层面\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e压缩代码，删除不必要的代码和注释以及空格，尽量做到最小化文件\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e合理的代码合并与分割，降低资源请求时间\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e合理使用缓存\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e静态资源存放cdn\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch4 id=\"渲染过程\"\u003e渲染过程\u003c/h4\u003e\n\u003cp\u003e优化dom结构\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003ecss文件放在head中，JavaScript文件放在body底部\u003c/p\u003e\n\u003cp\u003ejs的执行会阻碍render（两个不同的线程）\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e优化css\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e减少重绘回流\u003c/p\u003e\n\u003cp\u003e重绘会在设置节点样式时频繁出现，同时也会很大程度上影响性能，重绘是当节点需要更改外观而不会影响布局的时候发生，比如改变 color 就叫重绘\n回流是布局或者几何属性需要改变就称为回流，回流必然会引起重绘，重绘不一定为引发回流\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e使用transform代替top\u003c/li\u003e\n\u003cli\u003e使用visibility代替display:none\u003c/li\u003e\n\u003cli\u003e直接改变className（把要修改的样式集中到一个class内统一修改）\u003c/li\u003e\n\u003cli\u003e避免使用table布局（尽量不要使用table布局。如果没有定宽，表格一列的宽度则由最宽的一列决定，那个很可能在最后一行的宽度超出之前的列宽，引起整体回流造成table可能需要多次计算才能确定- 好其在渲染树中节点的属性）\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e扁平化css选择器，避免嵌套过深\u003c/p\u003e\n\u003cp\u003e选择器嵌套不超过三级\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e优化JavaScript\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e事件委托（\u003cstrong\u003e慎用，存在兼容性\u003c/strong\u003e），减少事件绑定\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e合理更新dom\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003edom离线操作\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a\"\u003e异步更新（包装成micro任务）\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e减少重绘回流\u003c/p\u003e\n\u003cp\u003e一些api会引起回流（getBoundingClientRect/getComputedStyle/clientTop/scrollTop/offsetTop），避免频繁使用\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"开发工具优化\"\u003e开发工具优化\u003c/h2\u003e\n\u003cp\u003e使用一系列工具使得开发更加方便、高效\u003c/p\u003e\n\u003ch3 id=\"使用webpack打包代码\"\u003e使用webpack打包代码\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"https://pics.sdoprofile.com/sdo5/M01/A1/13/CoEpPGAc-0aAIGWzABDaeq_2mCc412_x.png\" alt=\"使用webpack打包代码\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e版本号问题\u003c/p\u003e\n\u003cp\u003e打包后资源文件名自动添加8位hash值\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e代码压缩/混淆\u003c/p\u003e\n\u003cp\u003e使用webpack插件压缩/混淆代码，减小文件体积\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"使用babel处理兼容性\"\u003e使用babel处理兼容性\u003c/h3\u003e\n\u003cp\u003e可以使用es6+高级语法进行开发\u003c/p\u003e\n\u003ch3 id=\"使用eslint规范代码\"\u003e使用eslint规范代码\u003c/h3\u003e\n\u003cp\u003e参考：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://web.dev\"\u003eweb dev\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://zhuanlan.zhihu.com/p/98880815\"\u003eWeb性能领域常见的专业术语\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.mrrs.top/blog/view/5f68c0ee414166469a5c4a38\"\u003e浏览器相关-渲染\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416663715c4a39\"\u003e浏览器相关-模型\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a\"\u003eJavaScript-执行机制\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"前端架构\u0026软实力复习-性能优化"},"buildId":"K0fX8bqwfsokZurqUU2xf","assetPrefix":"/next-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>