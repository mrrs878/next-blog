<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RSçš„ä¸ªäººåšå®¢-JavaScriptç›¸å…³-1</title><meta name="next-head-count" content="3"/><link rel="preload" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" as="style"/><link rel="stylesheet" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/next-blog/_next/static/chunks/webpack-cf185e4b59cdddcf.js" defer=""></script><script src="/next-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-blog/_next/static/chunks/main-1c9e93b8392c1bc9.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/next-blog/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/post/%5Btitle%5D-406bad804ceffd1d.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_buildManifest.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_ssgManifest.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/next-blog">é¦–é¡µ</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/categories">åˆ†ç±»</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/tags">æ ‡ç­¾</a></li><li class="ml-4 hover:text-yellow"><a href="/next-blog/timeline">å½’æ¡£</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">JavaScriptç›¸å…³-1</h1><div class="text-sm space-x-2 text-skin-muted"><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2020-02-11 23:33:22</span><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h2 id="documentwrite">document.write</h2>
<p><code>document.write()</code> æ–¹æ³•å°†ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å†™å…¥ä¸€ä¸ªç”± <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/open"><code>document.open()</code></a> æ‰“å¼€çš„æ–‡æ¡£æµï¼ˆdocument streamï¼‰ã€‚ï¼ˆ<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/write">MDN</a>ï¼‰</p>
<p>ä½œç”¨ï¼š</p>
<p>åŠ è½½åªæœ‰å¯ç”¨JavaScriptåçš„æ ·å¼æ–‡ä»¶</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">open</span>()
    docuemnt.<span class="hljs-title function_">write</span>(<span class="hljs-string">&#x27;&lt;link rel=&quot;stylesheet&quot; href=&quot;style_neads_js.css&quot; /&gt;&#x27;</span>)
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">close</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å¼Šç«¯ï¼š</p>
<ul>
<li>åœ¨éloadingé˜¶æ®µä½¿ç”¨<code>docuemnt.write</code>ä¼šæ¸…é™¤å·²åŠ è½½çš„é¡µé¢</li>
<li><code>docuemnt.write</code>ä¸èƒ½å¤Ÿåœ¨XHTMLä¸­ä½¿ç”¨</li>
<li>åµŒå…¥scriptä¸­çš„<code>docuemnt.write</code>ä¸èƒ½ç»™ä»»æ„èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹ï¼Œå› ä¸ºå®ƒæ˜¯éšç€DOMçš„æ„å»ºæ‰§è¡Œçš„</li>
<li>åˆ©ç”¨<code>docuemnt.write</code>å†™å…¥HTMLå­—ç¬¦æµå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œå®ƒæœ‰è¿DOMæ“ä½œçš„æ¦‚å¿µ</li>
<li>åˆ©ç”¨<code>docuemnt.write</code>æ·»åŠ scriptåŠ è½½å¤–éƒ¨è„šæœ¬æ—¶ï¼Œæµè§ˆå™¨çš„HTMLè§£æä¼šè¢«scriptçš„åŠ è½½æ‰€é˜»å¡</li>
</ul>
<h2 id="åŠŸèƒ½æ£€æµ‹ï¼ˆfeature-detectionï¼‰ã€åŠŸèƒ½æ¨æ–­ï¼ˆfeature-inferenceï¼‰ã€å’Œä½¿ç”¨uaå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«">åŠŸèƒ½æ£€æµ‹ï¼ˆfeature detectionï¼‰ã€åŠŸèƒ½æ¨æ–­ï¼ˆfeature inferenceï¼‰ã€å’Œä½¿ç”¨UAå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«</h2>
<p>åŠŸèƒ½æ£€æµ‹ï¼ˆfeature detectionï¼‰ ğŸ‘</p>
<p>åŠŸèƒ½æ£€æµ‹åŒ…æ‹¬ç¡®å®šæµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸæ®µä»£ç ï¼Œä»¥åŠæ˜¯å¦èƒ½è¿è¡Œä¸åŒçš„ä»£ç ï¼ˆå–å†³äºå®ƒæ˜¯å¦æ‰§è¡Œï¼‰ï¼Œä¸€è¾¹æµè§ˆå™¨èƒ½å§‹ç»ˆæ­£ç¡®è¿è¡Œä»£ç åŠŸèƒ½ï¼Œè€Œä¸ä¼šåœ¨æŸäº›æµè§ˆå™¨ä¸­å‡ºç°å´©æºƒå’Œé”™è¯¯</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;geolocation&quot;</span> <span class="hljs-keyword">in</span> navigator) {
    <span class="hljs-comment">// å¯ä»¥ä½¿ç”¨ navigator.geolocation</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å¤„ç† navigator.geolocation åŠŸèƒ½ç¼ºå¤±</span>
}
</code></pre>
<p>åŠŸèƒ½æ¨æ–­ï¼ˆfeature inferenceï¼‰ğŸ‘</p>
<p>åŠŸèƒ½æ¨æ–­ä¸åŠŸèƒ½æ£€æµ‹ä¸€æ ·ï¼Œä¼šå¯¹åŠŸèƒ½å¯ç”¨æ€§è¿›è¡Œæ£€æŸ¥ï¼Œä½†æ˜¯åœ¨åˆ¤æ–­é€šè¿‡åè¿˜ä¼šä½¿ç”¨å…¶ä»–åŠŸèƒ½ï¼Œå› ä¸ºå®ƒå‡è®¾å…¶ä»–åŠŸèƒ½ä¹Ÿå¯ç”¨</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">getElementsByTagName</span>) {
  element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(id);
}
</code></pre>
<p>UA ğŸ‘</p>
<p>è¿™æ˜¯ä¸€ä¸ªæµè§ˆå™¨æŠ¥å‘Šçš„å­—ç¬¦ä¸²ï¼Œå®ƒå…è®¸ç½‘ç»œåè®®å¯¹ç­‰æ–¹ï¼ˆnetwork protocol peersï¼‰è¯†åˆ«è¯·æ±‚ç”¨æˆ·ä»£ç†çš„åº”ç”¨ç±»å‹ã€æ“ä½œç³»ç»Ÿã€åº”ç”¨ä¾›åº”å•†å’Œåº”ç”¨ç‰ˆæœ¬ã€‚å®ƒå¯ä»¥é€šè¿‡<code>navigator.userAgent</code>è®¿é—®ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¾ˆå¯èƒ½å­˜åœ¨æ¬ºéª—æ€§ï¼Œä¾‹å¦‚ï¼Œchromeä¼šåŒæ—¶ä½œä¸ºchromeå’Œsafariè¿›è¡ŒæŠ¥å‘Šï¼Œå› æ­¤ï¼Œè¦æ£€æµ‹safariï¼Œé™¤äº†æ£€æŸ¥safariå­—ç¬¦ä¸²ï¼Œè¿˜è¦æ£€æŸ¥æ˜¯å¦åŒæ—¶å­˜åœ¨chromeå­—ç¬¦ä¸²ã€‚</p>
<h2 id="ajax">Ajax</h2>
<p><strong>WHAT</strong></p>
<p>Ajaxï¼ˆasynchronous JavaScript and XMLï¼‰æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯ä¸Šçš„è®¸å¤šwebæŠ€æœ¯ï¼Œåˆ›å»ºå¼‚æ­¥webåº”ç”¨çš„ä¸€ç§<strong>æŠ€æœ¯ç»“åˆä½“</strong>ã€‚å€ŸåŠ©Ajaxï¼Œwebåº”ç”¨å¯ä»¥<strong>å¼‚æ­¥</strong>ï¼ˆåœ¨åå°ï¼‰å‘æœåŠ¡å™¨å‘é€æ•°æ®å¯ä»æœåŠ¡å™¨æ£€ç´¢æ•°æ®è€Œä¸ä¼šå¹²æ‰°ç°æœ‰é¡µé¢çš„æ˜¾ç¤ºå’Œè¡Œä¸ºã€‚é€šè¿‡å°†<strong>æ•°æ®äº¤äº’å±‚ä¸è¡¨ç¤ºå±‚åˆ†ç¦»</strong>ï¼ŒAjaxå…è®¸ç½‘é¡µå’Œæ‰©å±•webåº”ç”¨ç¨‹åºåŠ¨æ€æ›´æ”¹å†…å®¹è€Œ<strong>ä¸éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</strong>ï¼Œå®é™…ä¸Šï¼Œç°åœ¨é€šå¸¸å°†XMLæ›¿æ¢ä¸ºJSONï¼Œå› ä¸ºJavaScriptå¯¹JSONæœ‰åŸç”Ÿæ”¯æŒä¼˜åŠ¿</p>
<p><strong>WHY</strong></p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>äº¤äº’æ€§æ›´å¥½ï¼Œæ¥è‡ªæœåŠ¡å™¨çš„æ–°å†…å®¹å¯ä»¥åŠ¨æ€æ›´æ”¹ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</li>
<li>å‡å°‘ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå› ä¸ºè„šæœ¬å’Œæ ·å¼åªéœ€è¦è¢«è¯·æ±‚ä¸€æ¬¡</li>
<li>çŠ¶æ€å¯ä»¥ç»´æŠ¤åœ¨ä¸€ä¸ªé¡µé¢ä¸Šï¼ŒJavaScriptå˜é‡å’ŒDOMçŠ¶æ€å°†çš„åˆ°ä¿æŒï¼Œå› ä¸ºä¸»å®¹å™¨é¡µé¢æœªè¢«é‡æ–°åŠ è½½</li>
<li>åŸºæœ¬ä¸ŠåŒ…å«å¤§éƒ¨åˆ†SPAçš„ä¼˜ç‚¹</li>
</ul>
<p>ç¼ºç‚¹</p>
<ul>
<li>åŠ¨æ€ç½‘é¡µå¾ˆéš¾æ”¶è—</li>
<li>å¦‚æœJavaScriptåœ¨æµè§ˆå™¨ä¸­è¢«ç¦ç”¨åˆ™ä¸èµ·ä½œç”¨</li>
<li>æœ‰äº›ç½‘ç»œçˆ¬è™«ä¸æ‰§è¡ŒJavaScriptï¼Œä¹Ÿä¸ä¼šçœ‹åˆ°JavaScriptåŠ è½½çš„å†…å®¹</li>
</ul>
<p><strong>HOW</strong></p>
<ul>
<li>ä½¿ç”¨<code>CSS</code>å’Œ<code>XHTML</code>æ¥è¡¨ç¤º</li>
<li>ä½¿ç”¨<code>DOM</code>æ¨¡å‹æ¥äº¤äº’å’ŒåŠ¨æ€æ˜¾ç¤º</li>
<li>ä½¿ç”¨<code>XMLHttpRequest</code>æ¥å’ŒæœåŠ¡å™¨è¿›è¡Œå¼‚æ­¥é€šä¿¡</li>
<li>ä½¿ç”¨<code>JavaScript </code>æ¥ç»‘å®šå’Œè°ƒç”¨</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> ajax = {};
ajax.<span class="hljs-property">httpRequest</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">XMLHttpRequest</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
    }
    <span class="hljs-keyword">var</span> versions = [
        <span class="hljs-string">&quot;MSXML2.XmlHttp.6.0&quot;</span>,
        <span class="hljs-string">&quot;MSXML2.XmlHttp.5.0&quot;</span>,
        <span class="hljs-string">&quot;MSXML2.XmlHttp.4.0&quot;</span>,
        <span class="hljs-string">&quot;MSXML2.XmlHttp.3.0&quot;</span>,
        <span class="hljs-string">&quot;MSXML2.XmlHttp.2.0&quot;</span>,
        <span class="hljs-string">&quot;Microsoft.XmlHttp&quot;</span>
    ];
    <span class="hljs-keyword">let</span> xhr;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; versions.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">try</span> {
            xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActiveXObject</span>(versions[i]);
            <span class="hljs-keyword">break</span>;
        } <span class="hljs-keyword">catch</span> (e) {
        }
    }
    <span class="hljs-keyword">return</span> xhr;
};

ajax.<span class="hljs-property">send</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url, callback, method, data, <span class="hljs-keyword">async</span></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">async</span> === <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">async</span> = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">let</span> httpRequest = ajax.<span class="hljs-title function_">httpRequest</span>();
    httpRequest.<span class="hljs-title function_">open</span>(method, url, <span class="hljs-keyword">async</span>);
    httpRequest.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (httpRequest.<span class="hljs-property">readyState</span> == <span class="hljs-number">4</span>) {
            <span class="hljs-title function_">callback</span>(httpRequest.<span class="hljs-property">responseText</span>)
        }
    };
    <span class="hljs-keyword">if</span> (method == <span class="hljs-string">&#x27;POST&#x27;</span>) {
        httpRequest.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">&#x27;Content-type&#x27;</span>, <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>);
    }
    httpRequest.<span class="hljs-title function_">send</span>(data);
};

ajax.<span class="hljs-property">get</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url, data, callback, <span class="hljs-keyword">async</span></span>) {
    <span class="hljs-keyword">let</span> query = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> data) {
        query.<span class="hljs-title function_">push</span>(<span class="hljs-built_in">encodeURIComponent</span>(key) + <span class="hljs-string">&#x27;=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(data[key]));
    }
    ajax.<span class="hljs-title function_">send</span>(url + (query.<span class="hljs-property">length</span> ? <span class="hljs-string">&#x27;?&#x27;</span> + query.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&amp;&#x27;</span>) : <span class="hljs-string">&#x27;&#x27;</span>), callback, <span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">async</span>)
};

ajax.<span class="hljs-property">post</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url, data, callback, <span class="hljs-keyword">async</span></span>) {
    <span class="hljs-keyword">let</span> query = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> data) {
        query.<span class="hljs-title function_">push</span>(<span class="hljs-built_in">encodeURIComponent</span>(key) + <span class="hljs-string">&#x27;=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(data[key]));
    }
    ajax.<span class="hljs-title function_">send</span>(url, callback, <span class="hljs-string">&#x27;POST&#x27;</span>, query.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&amp;&#x27;</span>), <span class="hljs-keyword">async</span>)
};
</code></pre>
<h2 id="jsonp">JSONP</h2>
<p><strong>WHAT</strong></p>
<p>å¸¦å¡«å……çš„jsonï¼ˆp for paddingï¼‰ï¼Œæ˜¯ä¸€ç§é€šå¸¸ç”¨äºç»•è¿‡æµè§ˆå™¨ä¸­çš„è·¨åŸŸé€‰å€çš„æ–¹æ³•ï¼Œå› ä¸ºAjaxä¸å…è®¸è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>åŸç†ï¼šåˆ©ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´ã€‚é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾æŒ‡å‘ä¸€ä¸ªéœ€è¦è®¿é—®çš„åœ°å€å¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ¥æ”¶æ•°æ®ã€‚</p>
<p><strong>WHY</strong></p>
<p>è§£å†³è·¨åŸŸï¼ˆåªé€‚ç”¨äºGETè¯·æ±‚ï¼‰</p>
<p><strong>HOW</strong></p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// jsonp.js</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">jsonp</span>(<span class="hljs-params">{ url, params, cb }</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;script&quot;</span>)
        <span class="hljs-variable language_">window</span>[cb] = <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
            <span class="hljs-title function_">resolve</span>(data)
            <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(script)
        }
        params = { ...params, cb }
        <span class="hljs-keyword">let</span> tmp = []
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> params)
            tmp.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${ key }</span>=<span class="hljs-subst">${ params[key] }</span>`</span>)
        script.<span class="hljs-property">src</span> = <span class="hljs-string">`<span class="hljs-subst">${ url }</span>?<span class="hljs-subst">${ tmp.join(<span class="hljs-string">&quot;&amp;&quot;</span>) }</span>`</span>
    })
}

<span class="hljs-title function_">jsonp</span>({ 
    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http://localhost:3000/say&quot;</span>,
    <span class="hljs-attr">params</span>: { <span class="hljs-attr">wd</span>: <span class="hljs-string">&quot;hello jsonp&quot;</span> },
    <span class="hljs-attr">cb</span>: <span class="hljs-string">&quot;show&quot;</span>
}).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
})

<span class="hljs-comment">// server.js</span>
<span class="hljs-keyword">let</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)
<span class="hljs-keyword">let</span> app = <span class="hljs-title function_">express</span>()
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/say&quot;</span>, <span class="hljs-function">(<span class="hljs-params">res, res</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> { wd, cb } = req.<span class="hljs-property">query</span>
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">`<span class="hljs-subst">${cb}</span>(&#x27;i am fine, and you?&#x27;)`</span>)
})
app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>)
</code></pre>
<h2 id="å˜é‡æå‡">å˜é‡æå‡</h2>
<p>å˜é‡æå‡ï¼ˆhoistingï¼‰ç”¨äºè§£é‡Šä»£ç ä¸­å˜é‡å£°æ˜è¡Œä¸ºçš„æœ¯è¯­ã€‚ä½¿ç”¨<code>var</code>å…³é”®å­—å£°æ˜æˆ–åˆå§‹åŒ–çš„å˜é‡ä¼šå°†å£°æ˜è¯­å¥â€œæå‡â€åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚ä½†æ˜¯åªæœ‰å£°æ˜æ‰ä¼šè§¦å‘æå‡ï¼Œèµ‹å€¼è¯­å¥å°†ä¿æŒåŸæ ·ã€‚</p>
<pre><code class="hljs language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">// 1</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">// ReferenceError: bar is not defined</span>
<span class="hljs-keyword">let</span> foo = <span class="hljs-number">1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo) <span class="hljs-comment">// 1</span>
</code></pre>
<p>å‡½æ•°å£°æ˜ä¼šä½¿å‡½æ•°ä½“æå‡ï¼Œä½†å‡½æ•°è¡¨è¾¾å¼ï¼ˆä»¥å£°æ˜å˜é‡çš„å½¢å¼ä¹¦å†™ï¼‰åªæœ‰å˜é‡å£°æ˜ä¼šæå‡</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// å‡½æ•°å£°æ˜</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo)
<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// &#x27;foo&#x27;</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;foo&#x27;</span>)
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo); <span class="hljs-comment">// [Function: foo]</span>

<span class="hljs-comment">// å‡½æ•°è¡¨è¾¾å¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar) <span class="hljs-comment">// undefined</span>
<span class="hljs-title function_">bar</span>(); <span class="hljs-comment">// Uncaught TypeError: bar is not a function</span>
<span class="hljs-keyword">var</span> bar = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;bar&#x27;</span>)
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar) <span class="hljs-comment">// [Function: bar]</span>
</code></pre>
<h2 id="äº‹ä»¶å†’æ³¡">äº‹ä»¶å†’æ³¡</h2>
<p>å½“ä¸€ä¸ªäº‹ä»¶åœ¨DOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œå¦‚æœæœ‰æ—¶é—´ç›‘å¬å™¨ï¼Œå®ƒå°è¯•å¤„ç†è¯¥äº‹ä»¶ï¼Œç„¶åäº‹ä»¶å†’æ³¡åˆ°å…¶çˆ¶çº§å…ƒç´ ï¼Œå¹¶å‘ç”ŸåŒæ ·çš„äº‹æƒ…ï¼Œæœ€åç›´è‡³åˆ°è¾¾ç¥–å…ˆå…ƒç´ ã€‚æ—¶é—´å†’æ³¡æœºåˆ¶æ˜¯å®ç°äº‹ä»¶å§”æ‰˜ï¼ˆevent delegationï¼‰çš„åŸç†</p>
<h2 id="attributeå’Œproperty">attributeå’Œproperty</h2>
<p>attributeæ˜¯åœ¨HTMLä¸­å®šä¹‰çš„ï¼Œè€Œpropertyå®åœ¨DOMä¸Šå®šä¹‰çš„ã€‚</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input1&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;hello&quot;</span> /&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
    <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;input1&quot;</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;value&quot;</span>)) <span class="hljs-comment">// hello</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-property">value</span>) <span class="hljs-comment">// hello</span>
    
    <span class="hljs-comment">// å½“åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ â€˜worldâ€™ å</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;value&quot;</span>)) <span class="hljs-comment">// hello</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input.<span class="hljs-property">value</span>) <span class="hljs-comment">// world</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="documentçš„loadäº‹ä»¶å’Œdomcontentloadedäº‹ä»¶ä¹‹é—´çš„åŒºåˆ«">documentçš„loadäº‹ä»¶å’ŒDOMContentLoadedäº‹ä»¶ä¹‹é—´çš„åŒºåˆ«</h2>
<p>DOMContentLoadedï¼šğŸ‘</p>
<p>å½“åˆå§‹çš„HTMLæ–‡æ¡£æœ¬å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoadedäº‹ä»¶è¢«è§¦å‘è€Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½</p>
<p>loadï¼š</p>
<p>windowçš„loadäº‹ä»¶ä»…åœ¨DOMå’Œæ‰€æœ‰ç›¸å…³èµ„æºå…¨éƒ¨å®ŒæˆåŠ è½½åæ‰ä¼šè§¦å‘</p>
<pre><code class="hljs language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>);
})
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;window loaded&quot;</span>);
})

<span class="hljs-comment">// DOMContentLoaded</span>
<span class="hljs-comment">// window loaded</span>
</code></pre>
<h2 id="åŒæºç­–ç•¥">åŒæºç­–ç•¥</h2>
<p>åŒæºç­–ç•¥æ˜¯ç”±Netscapeæå‡ºçš„ä¸€ä¸ªè‘—åçš„å®‰å…¨ç­–ç•¥ï¼Œæµè§ˆå™¨å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œåªå…è®¸æœ¬åŸŸåä¸‹çš„æ¥å£äº¤äº’ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬ï¼Œåœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å–å¯¹æ–¹çš„èµ„æºã€‚</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy">åŒæºçš„å®šä¹‰:</a></p>
<p>å¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šï¼‰å’Œä¸»æœºéƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„<strong>æº</strong>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒç§°ä¸ºâ€œåè®®/ä¸»æœº/ç«¯å£ tupleâ€ï¼Œæˆ–ç®€å•åœ°å«åšâ€œtuple&quot;. (&quot;tuple&quot; ï¼Œâ€œå…ƒâ€ï¼Œæ˜¯æŒ‡ä¸€äº›äº‹ç‰©ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ•´ä½“ï¼Œæ¯”å¦‚ï¼ˆ1ï¼Œ2ï¼‰å«äºŒå…ƒï¼Œï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰å«ä¸‰å…ƒ)</p>
<p>ä¸‹è¡¨ç»™å‡ºäº†ç›¸å¯¹<code>http://store.company.com/dir/page.html</code>åŒæºæ£€æµ‹çš„ç¤ºä¾‹:</p>
<p>| URL                                               | ç»“æœ | åŸå›          |
| </p>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>Â©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"JavaScriptç›¸å…³-1","tags":["JavaScript"],"categories":"JavaScript","description":"## document.write\n\n`document.write()` æ–¹æ³•å°†ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å†™å…¥ä¸€ä¸ªç”± [`document.open()`](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/open) æ‰“å¼€çš„æ–‡æ¡£æµï¼ˆdocument streamï¼‰ã€‚ï¼ˆ[MDN](https://developer.mozilla.org","createDate":"2020-02-11 23:33:22","updateDate":"10/1/2021, 3:34:43 AM","body":"\u003ch2 id=\"documentwrite\"\u003edocument.write\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003edocument.write()\u003c/code\u003e æ–¹æ³•å°†ä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å†™å…¥ä¸€ä¸ªç”± \u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/open\"\u003e\u003ccode\u003edocument.open()\u003c/code\u003e\u003c/a\u003e æ‰“å¼€çš„æ–‡æ¡£æµï¼ˆdocument streamï¼‰ã€‚ï¼ˆ\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Document/write\"\u003eMDN\u003c/a\u003eï¼‰\u003c/p\u003e\n\u003cp\u003eä½œç”¨ï¼š\u003c/p\u003e\n\u003cp\u003eåŠ è½½åªæœ‰å¯ç”¨JavaScriptåçš„æ ·å¼æ–‡ä»¶\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-javascript\"\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e()\n    docuemnt.\u003cspan class=\"hljs-title function_\"\u003ewrite\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;style_neads_js.css\u0026quot; /\u0026gt;\u0026#x27;\u003c/span\u003e)\n    \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e()\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¼Šç«¯ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåœ¨éloadingé˜¶æ®µä½¿ç”¨\u003ccode\u003edocuemnt.write\u003c/code\u003eä¼šæ¸…é™¤å·²åŠ è½½çš„é¡µé¢\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocuemnt.write\u003c/code\u003eä¸èƒ½å¤Ÿåœ¨XHTMLä¸­ä½¿ç”¨\u003c/li\u003e\n\u003cli\u003eåµŒå…¥scriptä¸­çš„\u003ccode\u003edocuemnt.write\u003c/code\u003eä¸èƒ½ç»™ä»»æ„èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹ï¼Œå› ä¸ºå®ƒæ˜¯éšç€DOMçš„æ„å»ºæ‰§è¡Œçš„\u003c/li\u003e\n\u003cli\u003eåˆ©ç”¨\u003ccode\u003edocuemnt.write\u003c/code\u003eå†™å…¥HTMLå­—ç¬¦æµå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œå®ƒæœ‰è¿DOMæ“ä½œçš„æ¦‚å¿µ\u003c/li\u003e\n\u003cli\u003eåˆ©ç”¨\u003ccode\u003edocuemnt.write\u003c/code\u003eæ·»åŠ scriptåŠ è½½å¤–éƒ¨è„šæœ¬æ—¶ï¼Œæµè§ˆå™¨çš„HTMLè§£æä¼šè¢«scriptçš„åŠ è½½æ‰€é˜»å¡\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"åŠŸèƒ½æ£€æµ‹ï¼ˆfeature-detectionï¼‰ã€åŠŸèƒ½æ¨æ–­ï¼ˆfeature-inferenceï¼‰ã€å’Œä½¿ç”¨uaå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«\"\u003eåŠŸèƒ½æ£€æµ‹ï¼ˆfeature detectionï¼‰ã€åŠŸèƒ½æ¨æ–­ï¼ˆfeature inferenceï¼‰ã€å’Œä½¿ç”¨UAå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«\u003c/h2\u003e\n\u003cp\u003eåŠŸèƒ½æ£€æµ‹ï¼ˆfeature detectionï¼‰ ğŸ‘\u003c/p\u003e\n\u003cp\u003eåŠŸèƒ½æ£€æµ‹åŒ…æ‹¬ç¡®å®šæµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸæ®µä»£ç ï¼Œä»¥åŠæ˜¯å¦èƒ½è¿è¡Œä¸åŒçš„ä»£ç ï¼ˆå–å†³äºå®ƒæ˜¯å¦æ‰§è¡Œï¼‰ï¼Œä¸€è¾¹æµè§ˆå™¨èƒ½å§‹ç»ˆæ­£ç¡®è¿è¡Œä»£ç åŠŸèƒ½ï¼Œè€Œä¸ä¼šåœ¨æŸäº›æµè§ˆå™¨ä¸­å‡ºç°å´©æºƒå’Œé”™è¯¯\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-string\"\u003e\u0026quot;geolocation\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e navigator) {\n    \u003cspan class=\"hljs-comment\"\u003e// å¯ä»¥ä½¿ç”¨ navigator.geolocation\u003c/span\u003e\n} \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// å¤„ç† navigator.geolocation åŠŸèƒ½ç¼ºå¤±\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eåŠŸèƒ½æ¨æ–­ï¼ˆfeature inferenceï¼‰ğŸ‘\u003c/p\u003e\n\u003cp\u003eåŠŸèƒ½æ¨æ–­ä¸åŠŸèƒ½æ£€æµ‹ä¸€æ ·ï¼Œä¼šå¯¹åŠŸèƒ½å¯ç”¨æ€§è¿›è¡Œæ£€æŸ¥ï¼Œä½†æ˜¯åœ¨åˆ¤æ–­é€šè¿‡åè¿˜ä¼šä½¿ç”¨å…¶ä»–åŠŸèƒ½ï¼Œå› ä¸ºå®ƒå‡è®¾å…¶ä»–åŠŸèƒ½ä¹Ÿå¯ç”¨\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003egetElementsByTagName\u003c/span\u003e) {\n  element = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(id);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUA ğŸ‘\u003c/p\u003e\n\u003cp\u003eè¿™æ˜¯ä¸€ä¸ªæµè§ˆå™¨æŠ¥å‘Šçš„å­—ç¬¦ä¸²ï¼Œå®ƒå…è®¸ç½‘ç»œåè®®å¯¹ç­‰æ–¹ï¼ˆnetwork protocol peersï¼‰è¯†åˆ«è¯·æ±‚ç”¨æˆ·ä»£ç†çš„åº”ç”¨ç±»å‹ã€æ“ä½œç³»ç»Ÿã€åº”ç”¨ä¾›åº”å•†å’Œåº”ç”¨ç‰ˆæœ¬ã€‚å®ƒå¯ä»¥é€šè¿‡\u003ccode\u003enavigator.userAgent\u003c/code\u003eè®¿é—®ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¾ˆå¯èƒ½å­˜åœ¨æ¬ºéª—æ€§ï¼Œä¾‹å¦‚ï¼Œchromeä¼šåŒæ—¶ä½œä¸ºchromeå’Œsafariè¿›è¡ŒæŠ¥å‘Šï¼Œå› æ­¤ï¼Œè¦æ£€æµ‹safariï¼Œé™¤äº†æ£€æŸ¥safariå­—ç¬¦ä¸²ï¼Œè¿˜è¦æ£€æŸ¥æ˜¯å¦åŒæ—¶å­˜åœ¨chromeå­—ç¬¦ä¸²ã€‚\u003c/p\u003e\n\u003ch2 id=\"ajax\"\u003eAjax\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWHAT\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAjaxï¼ˆasynchronous JavaScript and XMLï¼‰æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯ä¸Šçš„è®¸å¤šwebæŠ€æœ¯ï¼Œåˆ›å»ºå¼‚æ­¥webåº”ç”¨çš„ä¸€ç§\u003cstrong\u003eæŠ€æœ¯ç»“åˆä½“\u003c/strong\u003eã€‚å€ŸåŠ©Ajaxï¼Œwebåº”ç”¨å¯ä»¥\u003cstrong\u003eå¼‚æ­¥\u003c/strong\u003eï¼ˆåœ¨åå°ï¼‰å‘æœåŠ¡å™¨å‘é€æ•°æ®å¯ä»æœåŠ¡å™¨æ£€ç´¢æ•°æ®è€Œä¸ä¼šå¹²æ‰°ç°æœ‰é¡µé¢çš„æ˜¾ç¤ºå’Œè¡Œä¸ºã€‚é€šè¿‡å°†\u003cstrong\u003eæ•°æ®äº¤äº’å±‚ä¸è¡¨ç¤ºå±‚åˆ†ç¦»\u003c/strong\u003eï¼ŒAjaxå…è®¸ç½‘é¡µå’Œæ‰©å±•webåº”ç”¨ç¨‹åºåŠ¨æ€æ›´æ”¹å†…å®¹è€Œ\u003cstrong\u003eä¸éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢\u003c/strong\u003eï¼Œå®é™…ä¸Šï¼Œç°åœ¨é€šå¸¸å°†XMLæ›¿æ¢ä¸ºJSONï¼Œå› ä¸ºJavaScriptå¯¹JSONæœ‰åŸç”Ÿæ”¯æŒä¼˜åŠ¿\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWHY\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eä¼˜ç‚¹ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eäº¤äº’æ€§æ›´å¥½ï¼Œæ¥è‡ªæœåŠ¡å™¨çš„æ–°å†…å®¹å¯ä»¥åŠ¨æ€æ›´æ”¹ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢\u003c/li\u003e\n\u003cli\u003eå‡å°‘ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œå› ä¸ºè„šæœ¬å’Œæ ·å¼åªéœ€è¦è¢«è¯·æ±‚ä¸€æ¬¡\u003c/li\u003e\n\u003cli\u003eçŠ¶æ€å¯ä»¥ç»´æŠ¤åœ¨ä¸€ä¸ªé¡µé¢ä¸Šï¼ŒJavaScriptå˜é‡å’ŒDOMçŠ¶æ€å°†çš„åˆ°ä¿æŒï¼Œå› ä¸ºä¸»å®¹å™¨é¡µé¢æœªè¢«é‡æ–°åŠ è½½\u003c/li\u003e\n\u003cli\u003eåŸºæœ¬ä¸ŠåŒ…å«å¤§éƒ¨åˆ†SPAçš„ä¼˜ç‚¹\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eç¼ºç‚¹\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåŠ¨æ€ç½‘é¡µå¾ˆéš¾æ”¶è—\u003c/li\u003e\n\u003cli\u003eå¦‚æœJavaScriptåœ¨æµè§ˆå™¨ä¸­è¢«ç¦ç”¨åˆ™ä¸èµ·ä½œç”¨\u003c/li\u003e\n\u003cli\u003eæœ‰äº›ç½‘ç»œçˆ¬è™«ä¸æ‰§è¡ŒJavaScriptï¼Œä¹Ÿä¸ä¼šçœ‹åˆ°JavaScriptåŠ è½½çš„å†…å®¹\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eHOW\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eä½¿ç”¨\u003ccode\u003eCSS\u003c/code\u003eå’Œ\u003ccode\u003eXHTML\u003c/code\u003eæ¥è¡¨ç¤º\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨\u003ccode\u003eDOM\u003c/code\u003eæ¨¡å‹æ¥äº¤äº’å’ŒåŠ¨æ€æ˜¾ç¤º\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨\u003ccode\u003eXMLHttpRequest\u003c/code\u003eæ¥å’ŒæœåŠ¡å™¨è¿›è¡Œå¼‚æ­¥é€šä¿¡\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨\u003ccode\u003eJavaScript \u003c/code\u003eæ¥ç»‘å®šå’Œè°ƒç”¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e ajax = {};\najax.\u003cspan class=\"hljs-property\"\u003ehttpRequest\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eXMLHttpRequest\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eXMLHttpRequest\u003c/span\u003e();\n    }\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e versions = [\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;MSXML2.XmlHttp.6.0\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;MSXML2.XmlHttp.5.0\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;MSXML2.XmlHttp.4.0\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;MSXML2.XmlHttp.3.0\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;MSXML2.XmlHttp.2.0\u0026quot;\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\u0026quot;Microsoft.XmlHttp\u0026quot;\u003c/span\u003e\n    ];\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e xhr;\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; versions.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e; i++) {\n        \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n            xhr = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eActiveXObject\u003c/span\u003e(versions[i]);\n            \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n        } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (e) {\n        }\n    }\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e xhr;\n};\n\najax.\u003cspan class=\"hljs-property\"\u003esend\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eurl, callback, method, data, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e === \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n    }\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e httpRequest = ajax.\u003cspan class=\"hljs-title function_\"\u003ehttpRequest\u003c/span\u003e();\n    httpRequest.\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e(method, url, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e);\n    httpRequest.\u003cspan class=\"hljs-property\"\u003eonreadystatechange\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpRequest.\u003cspan class=\"hljs-property\"\u003ereadyState\u003c/span\u003e == \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) {\n            \u003cspan class=\"hljs-title function_\"\u003ecallback\u003c/span\u003e(httpRequest.\u003cspan class=\"hljs-property\"\u003eresponseText\u003c/span\u003e)\n        }\n    };\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (method == \u003cspan class=\"hljs-string\"\u003e\u0026#x27;POST\u0026#x27;\u003c/span\u003e) {\n        httpRequest.\u003cspan class=\"hljs-title function_\"\u003esetRequestHeader\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Content-type\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;application/x-www-form-urlencoded\u0026#x27;\u003c/span\u003e);\n    }\n    httpRequest.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(data);\n};\n\najax.\u003cspan class=\"hljs-property\"\u003eget\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eurl, data, callback, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e query = [];\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e key \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e data) {\n        query.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(\u003cspan class=\"hljs-built_in\"\u003eencodeURIComponent\u003c/span\u003e(key) + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;=\u0026#x27;\u003c/span\u003e + \u003cspan class=\"hljs-built_in\"\u003eencodeURIComponent\u003c/span\u003e(data[key]));\n    }\n    ajax.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(url + (query.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e ? \u003cspan class=\"hljs-string\"\u003e\u0026#x27;?\u0026#x27;\u003c/span\u003e + query.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026amp;\u0026#x27;\u003c/span\u003e) : \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e), callback, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;GET\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e)\n};\n\najax.\u003cspan class=\"hljs-property\"\u003epost\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eurl, data, callback, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e query = [];\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e key \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e data) {\n        query.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(\u003cspan class=\"hljs-built_in\"\u003eencodeURIComponent\u003c/span\u003e(key) + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;=\u0026#x27;\u003c/span\u003e + \u003cspan class=\"hljs-built_in\"\u003eencodeURIComponent\u003c/span\u003e(data[key]));\n    }\n    ajax.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(url, callback, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;POST\u0026#x27;\u003c/span\u003e, query.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026amp;\u0026#x27;\u003c/span\u003e), \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e)\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"jsonp\"\u003eJSONP\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eWHAT\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå¸¦å¡«å……çš„jsonï¼ˆp for paddingï¼‰ï¼Œæ˜¯ä¸€ç§é€šå¸¸ç”¨äºç»•è¿‡æµè§ˆå™¨ä¸­çš„è·¨åŸŸé€‰å€çš„æ–¹æ³•ï¼Œå› ä¸ºAjaxä¸å…è®¸è·¨åŸŸè¯·æ±‚ã€‚\u003c/p\u003e\n\u003cp\u003eåŸç†ï¼šåˆ©ç”¨ \u003ccode\u003e\u0026lt;script\u0026gt;\u003c/code\u003e æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´ã€‚é€šè¿‡ \u003ccode\u003e\u0026lt;script\u0026gt;\u003c/code\u003e æ ‡ç­¾æŒ‡å‘ä¸€ä¸ªéœ€è¦è®¿é—®çš„åœ°å€å¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ¥æ”¶æ•°æ®ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWHY\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eè§£å†³è·¨åŸŸï¼ˆåªé€‚ç”¨äºGETè¯·æ±‚ï¼‰\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eHOW\u003c/strong\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// jsonp.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ejsonp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ url, params, cb }\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve, reject\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e script = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;script\u0026quot;\u003c/span\u003e)\n        \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e[cb] = \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n            \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(data)\n            \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eremoveChild\u003c/span\u003e(script)\n        }\n        params = { ...params, cb }\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e tmp = []\n        \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e key \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e params)\n            tmp.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${ key }\u003c/span\u003e=\u003cspan class=\"hljs-subst\"\u003e${ params[key] }\u003c/span\u003e`\u003c/span\u003e)\n        script.\u003cspan class=\"hljs-property\"\u003esrc\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${ url }\u003c/span\u003e?\u003cspan class=\"hljs-subst\"\u003e${ tmp.join(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026amp;\u0026quot;\u003c/span\u003e) }\u003c/span\u003e`\u003c/span\u003e\n    })\n}\n\n\u003cspan class=\"hljs-title function_\"\u003ejsonp\u003c/span\u003e({ \n    \u003cspan class=\"hljs-attr\"\u003eurl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;http://localhost:3000/say\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eparams\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003ewd\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;hello jsonp\u0026quot;\u003c/span\u003e },\n    \u003cspan class=\"hljs-attr\"\u003ecb\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;show\u0026quot;\u003c/span\u003e\n}).\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(data);\n})\n\n\u003cspan class=\"hljs-comment\"\u003e// server.js\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e express = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;express\u0026quot;\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e app = \u003cspan class=\"hljs-title function_\"\u003eexpress\u003c/span\u003e()\napp.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/say\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres, res\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e { wd, cb } = req.\u003cspan class=\"hljs-property\"\u003equery\u003c/span\u003e\n    res.\u003cspan class=\"hljs-title function_\"\u003eend\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${cb}\u003c/span\u003e(\u0026#x27;i am fine, and you?\u0026#x27;)`\u003c/span\u003e)\n})\napp.\u003cspan class=\"hljs-title function_\"\u003elisten\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"å˜é‡æå‡\"\u003eå˜é‡æå‡\u003c/h2\u003e\n\u003cp\u003eå˜é‡æå‡ï¼ˆhoistingï¼‰ç”¨äºè§£é‡Šä»£ç ä¸­å˜é‡å£°æ˜è¡Œä¸ºçš„æœ¯è¯­ã€‚ä½¿ç”¨\u003ccode\u003evar\u003c/code\u003eå…³é”®å­—å£°æ˜æˆ–åˆå§‹åŒ–çš„å˜é‡ä¼šå°†å£°æ˜è¯­å¥â€œæå‡â€åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚ä½†æ˜¯åªæœ‰å£°æ˜æ‰ä¼šè§¦å‘æå‡ï¼Œèµ‹å€¼è¯­å¥å°†ä¿æŒåŸæ ·ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo) \u003cspan class=\"hljs-comment\"\u003e// undefined\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e foo = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo) \u003cspan class=\"hljs-comment\"\u003e// 1\u003c/span\u003e\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo) \u003cspan class=\"hljs-comment\"\u003e// ReferenceError: bar is not defined\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e foo = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo) \u003cspan class=\"hljs-comment\"\u003e// 1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå‡½æ•°å£°æ˜ä¼šä½¿å‡½æ•°ä½“æå‡ï¼Œä½†å‡½æ•°è¡¨è¾¾å¼ï¼ˆä»¥å£°æ˜å˜é‡çš„å½¢å¼ä¹¦å†™ï¼‰åªæœ‰å˜é‡å£°æ˜ä¼šæå‡\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-comment\"\u003e// å‡½æ•°å£°æ˜\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo)\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(); \u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;foo\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;foo\u0026#x27;\u003c/span\u003e)\n}\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(foo); \u003cspan class=\"hljs-comment\"\u003e// [Function: foo]\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// å‡½æ•°è¡¨è¾¾å¼\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(bar) \u003cspan class=\"hljs-comment\"\u003e// undefined\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003ebar\u003c/span\u003e(); \u003cspan class=\"hljs-comment\"\u003e// Uncaught TypeError: bar is not a function\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e bar = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;bar\u0026#x27;\u003c/span\u003e)\n}\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(bar) \u003cspan class=\"hljs-comment\"\u003e// [Function: bar]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"äº‹ä»¶å†’æ³¡\"\u003eäº‹ä»¶å†’æ³¡\u003c/h2\u003e\n\u003cp\u003eå½“ä¸€ä¸ªäº‹ä»¶åœ¨DOMå…ƒç´ ä¸Šè§¦å‘æ—¶ï¼Œå¦‚æœæœ‰æ—¶é—´ç›‘å¬å™¨ï¼Œå®ƒå°è¯•å¤„ç†è¯¥äº‹ä»¶ï¼Œç„¶åäº‹ä»¶å†’æ³¡åˆ°å…¶çˆ¶çº§å…ƒç´ ï¼Œå¹¶å‘ç”ŸåŒæ ·çš„äº‹æƒ…ï¼Œæœ€åç›´è‡³åˆ°è¾¾ç¥–å…ˆå…ƒç´ ã€‚æ—¶é—´å†’æ³¡æœºåˆ¶æ˜¯å®ç°äº‹ä»¶å§”æ‰˜ï¼ˆevent delegationï¼‰çš„åŸç†\u003c/p\u003e\n\u003ch2 id=\"attributeå’Œproperty\"\u003eattributeå’Œproperty\u003c/h2\u003e\n\u003cp\u003eattributeæ˜¯åœ¨HTMLä¸­å®šä¹‰çš„ï¼Œè€Œpropertyå®åœ¨DOMä¸Šå®šä¹‰çš„ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;input1\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-javascript\"\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e input = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;input1\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(input.\u003cspan class=\"hljs-title function_\"\u003egetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;value\u0026quot;\u003c/span\u003e)) \u003cspan class=\"hljs-comment\"\u003e// hello\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(input.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// hello\u003c/span\u003e\n    \n    \u003cspan class=\"hljs-comment\"\u003e// å½“åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ â€˜worldâ€™ å\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(input.\u003cspan class=\"hljs-title function_\"\u003egetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;value\u0026quot;\u003c/span\u003e)) \u003cspan class=\"hljs-comment\"\u003e// hello\u003c/span\u003e\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(input.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// world\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"documentçš„loadäº‹ä»¶å’Œdomcontentloadedäº‹ä»¶ä¹‹é—´çš„åŒºåˆ«\"\u003edocumentçš„loadäº‹ä»¶å’ŒDOMContentLoadedäº‹ä»¶ä¹‹é—´çš„åŒºåˆ«\u003c/h2\u003e\n\u003cp\u003eDOMContentLoadedï¼šğŸ‘\u003c/p\u003e\n\u003cp\u003eå½“åˆå§‹çš„HTMLæ–‡æ¡£æœ¬å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoadedäº‹ä»¶è¢«è§¦å‘è€Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½\u003c/p\u003e\n\u003cp\u003eloadï¼š\u003c/p\u003e\n\u003cp\u003ewindowçš„loadäº‹ä»¶ä»…åœ¨DOMå’Œæ‰€æœ‰ç›¸å…³èµ„æºå…¨éƒ¨å®ŒæˆåŠ è½½åæ‰ä¼šè§¦å‘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;DOMContentLoaded\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;DOMContentLoaded\u0026quot;\u003c/span\u003e);\n})\n\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;load\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;window loaded\u0026quot;\u003c/span\u003e);\n})\n\n\u003cspan class=\"hljs-comment\"\u003e// DOMContentLoaded\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// window loaded\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"åŒæºç­–ç•¥\"\u003eåŒæºç­–ç•¥\u003c/h2\u003e\n\u003cp\u003eåŒæºç­–ç•¥æ˜¯ç”±Netscapeæå‡ºçš„ä¸€ä¸ªè‘—åçš„å®‰å…¨ç­–ç•¥ï¼Œæµè§ˆå™¨å‡ºäºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œåªå…è®¸æœ¬åŸŸåä¸‹çš„æ¥å£äº¤äº’ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬ï¼Œåœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å–å¯¹æ–¹çš„èµ„æºã€‚\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy\"\u003eåŒæºçš„å®šä¹‰:\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eå¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šï¼‰å’Œä¸»æœºéƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„\u003cstrong\u003eæº\u003c/strong\u003eã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒç§°ä¸ºâ€œåè®®/ä¸»æœº/ç«¯å£ tupleâ€ï¼Œæˆ–ç®€å•åœ°å«åšâ€œtuple\u0026quot;. (\u0026quot;tuple\u0026quot; ï¼Œâ€œå…ƒâ€ï¼Œæ˜¯æŒ‡ä¸€äº›äº‹ç‰©ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ•´ä½“ï¼Œæ¯”å¦‚ï¼ˆ1ï¼Œ2ï¼‰å«äºŒå…ƒï¼Œï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰å«ä¸‰å…ƒ)\u003c/p\u003e\n\u003cp\u003eä¸‹è¡¨ç»™å‡ºäº†ç›¸å¯¹\u003ccode\u003ehttp://store.company.com/dir/page.html\u003c/code\u003eåŒæºæ£€æµ‹çš„ç¤ºä¾‹:\u003c/p\u003e\n\u003cp\u003e| URL                                               | ç»“æœ | åŸå›          |\n| \u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"JavaScriptç›¸å…³-1"},"buildId":"OxTEt_YhStn7hb0to8717","assetPrefix":"/next-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>