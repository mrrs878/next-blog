<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-前端架构&amp;软实力-移动端适配</title><meta name="next-head-count" content="3"/><link rel="preload" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" as="style"/><link rel="stylesheet" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/next-blog/_next/static/chunks/webpack-cf185e4b59cdddcf.js" defer=""></script><script src="/next-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-blog/_next/static/chunks/main-1c9e93b8392c1bc9.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/next-blog/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/post/%5Btitle%5D-406bad804ceffd1d.js" defer=""></script><script src="/next-blog/_next/static/iP4y6L48AljdMF4jEsFqW/_buildManifest.js" defer=""></script><script src="/next-blog/_next/static/iP4y6L48AljdMF4jEsFqW/_ssgManifest.js" defer=""></script><script src="/next-blog/_next/static/iP4y6L48AljdMF4jEsFqW/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/next-blog">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/next-blog/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">前端架构&amp;软实力-移动端适配</h1><div class="text-sm space-x-2 text-skin-muted"><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2020-04-21 22:33:00</span><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h1 id="移动端适配具体含义">移动端适配具体含义</h1>
<p>为了在移动端让页面获得更好的显示效果，我们必须让<strong>布局视口、视觉视口都尽可能等于理想视口</strong>，但这并不能保证它们显示完全一致，我们需要一种方案（rem + vw适配）来让设计稿得到更完美的适配。</p>
<h1 id="三个视口">三个视口</h1>
<ol>
<li><p>布局视口</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/17/16ac3a666e96ff01?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="布局视口">
布局视口(<code>layout viewport</code>)：当我们以百分比来指定一个元素的大小时，它的计算值是由这个元素的包含块计算而来的。当这个元素是最顶级的元素时，它就是基于布局视口来计算的。</p>
<p>所以，布局视口是网页布局的基准窗口，在<code>PC</code>浏览器上，布局视口就等于当前浏览器的窗口大小（不包括<code>borders</code> 、<code>margins</code>、滚动条）。</p>
<p>在移动端，布局视口被赋予一个默认值，大部分为<code>980px</code>，这保证<code>PC</code>的网页可以在手机浏览器上呈现，但是非常小，用户可以手动对网页进行放大。</p>
<p>我们可以通过调用<code>document.documentElement.clientWidth / clientHeight</code>来获取布局视口大小。</p>
</li>
<li><p>视觉视口</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/17/16ac3a66924ef751?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="视觉视口">
视觉视口(<code>visual viewport</code>)：用户通过屏幕真实看到的区域。</p>
<p>视觉视口默认等于当前浏览器的窗口大小（包括滚动条宽度）。</p>
<p>当用户对浏览器进行缩放时，不会改变布局视口的大小，所以页面布局是不变的，但是<strong>缩放会改变视觉视口</strong>的大小。</p>
<p>例如：用户将浏览器窗口放大了<code>200%</code>，这时浏览器窗口中的<code>CSS像素</code>会随着视觉视口的放大而放大，这时一个<code>CSS</code>像素会跨越更多的物理像素。</p>
<p>所以，布局视口会限制你的<code>CSS</code>布局，而视觉视口决定用户具体能看到什么。</p>
<p>我们可以通过调用<code>window.innerWidth / innerHeight</code>来获取视觉视口大小。</p>
</li>
<li><p>理想视口</p>
<p>布局视口在移动端展示的效果并不是一个理想的效果，所以理想视口(<code>ideal viewport</code>)就诞生了：网站页面在移动端展示的理想大小 === 设备独立像素</p>
<p>当页面缩放比例为<code>100%</code>时，<code>CSS像素 = 设备独立像素</code>，<code>理想视口 = 视觉视口</code>。</p>
<p>我们可以通过调用<code>screen.width / height</code>来获取理想视口大小。</p>
</li>
</ol>
<h1 id="meta-viewport">Meta viewport</h1>
<meta> 元素表示那些不能由其它HTML元相关元素之一表示的任何元数据信息，它可以告诉浏览器如何解析页面

<p>我们可以借助``元素的<code>viewport</code>来帮助我们设置视口、缩放等，从而让移动端得到更好的展示效果。</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span>  <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span>  <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;</span>&gt;</span>
</code></pre>
<p><code>device-width</code>就等于理想视口的宽度，所以设置<code>width=device-width</code>就相当于让布局视口等于理想视口。</p>
<p>由于<code>initial-scale = 理想视口宽度 / 视觉视口宽度</code>，所以我们设置<code>initial-scale=1;</code>就相当于让视觉视口等于理想视口。</p>
<p>这时，1个<code>CSS</code>像素就等于1个设备独立像素，而且我们也是基于理想视口来进行布局的，所以呈现出来的页面布局在各种设备上都能大致相似。</p>
<h1 id="rem--vw适配">rem + vw适配</h1>
<ul>
<li><p>rem是相对于根元素的字体大小的单位，也就是html的font-size大小，浏览器默认的字体大小是16px，所以默认的1rem=16px，我们可以根据设备宽度动态设置根元素的font-size，使得以rem为单位的元素在不同终端上以相对一致的视觉效果呈现。</p>
</li>
<li><p><code>vh、vw</code>分别对应于视觉视口宽度 <code>window.innerHeight</code>和视觉视口高度 <code>window.innerWidth</code></p>
<p><code>100vh === window.innerHeight</code>，<code>100vw === window.innerWidth</code></p>
</li>
</ul>
<ol>
<li><p>设置meta标签</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span>  <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span>  <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;</span>&gt;</span>
</code></pre>
</li>
<li><p>设置根<code>font-size</code>（对应于750px设计稿）</p>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">html</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13.3333vw</span>
}

<span class="hljs-comment">/*
750px = 100vw
1px = 0.13333vw

假定1rem = 100px
则1rem = 13.333vw
*/</span>
</code></pre>
</li>
</ol>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"前端架构\u0026软实力-移动端适配","tags":["移动端适配"],"categories":"前端架构\u0026软实力","description":"# 移动端适配具体含义\n\n为了在移动端让页面获得更好的显示效果，我们必须让**布局视口、视觉视口都尽可能等于理想视口**，但这并不能保证它们显示完全一致，我们需要一种方案（rem + vw适配）来让设计稿得到更完美的适配。\n\n# 三个视口\n\n1. 布局视口\n\n   ![布局视口](https://user-gold-cdn.xitu.io/2019/5/17/16ac3a666e96ff01?","createDate":"2020-04-21 22:33:00","updateDate":"2021-02-20 17:16:39","body":"\u003ch1 id=\"移动端适配具体含义\"\u003e移动端适配具体含义\u003c/h1\u003e\n\u003cp\u003e为了在移动端让页面获得更好的显示效果，我们必须让\u003cstrong\u003e布局视口、视觉视口都尽可能等于理想视口\u003c/strong\u003e，但这并不能保证它们显示完全一致，我们需要一种方案（rem + vw适配）来让设计稿得到更完美的适配。\u003c/p\u003e\n\u003ch1 id=\"三个视口\"\u003e三个视口\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e布局视口\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://user-gold-cdn.xitu.io/2019/5/17/16ac3a666e96ff01?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" alt=\"布局视口\"\u003e\n布局视口(\u003ccode\u003elayout viewport\u003c/code\u003e)：当我们以百分比来指定一个元素的大小时，它的计算值是由这个元素的包含块计算而来的。当这个元素是最顶级的元素时，它就是基于布局视口来计算的。\u003c/p\u003e\n\u003cp\u003e所以，布局视口是网页布局的基准窗口，在\u003ccode\u003ePC\u003c/code\u003e浏览器上，布局视口就等于当前浏览器的窗口大小（不包括\u003ccode\u003eborders\u003c/code\u003e 、\u003ccode\u003emargins\u003c/code\u003e、滚动条）。\u003c/p\u003e\n\u003cp\u003e在移动端，布局视口被赋予一个默认值，大部分为\u003ccode\u003e980px\u003c/code\u003e，这保证\u003ccode\u003ePC\u003c/code\u003e的网页可以在手机浏览器上呈现，但是非常小，用户可以手动对网页进行放大。\u003c/p\u003e\n\u003cp\u003e我们可以通过调用\u003ccode\u003edocument.documentElement.clientWidth / clientHeight\u003c/code\u003e来获取布局视口大小。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e视觉视口\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://user-gold-cdn.xitu.io/2019/5/17/16ac3a66924ef751?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" alt=\"视觉视口\"\u003e\n视觉视口(\u003ccode\u003evisual viewport\u003c/code\u003e)：用户通过屏幕真实看到的区域。\u003c/p\u003e\n\u003cp\u003e视觉视口默认等于当前浏览器的窗口大小（包括滚动条宽度）。\u003c/p\u003e\n\u003cp\u003e当用户对浏览器进行缩放时，不会改变布局视口的大小，所以页面布局是不变的，但是\u003cstrong\u003e缩放会改变视觉视口\u003c/strong\u003e的大小。\u003c/p\u003e\n\u003cp\u003e例如：用户将浏览器窗口放大了\u003ccode\u003e200%\u003c/code\u003e，这时浏览器窗口中的\u003ccode\u003eCSS像素\u003c/code\u003e会随着视觉视口的放大而放大，这时一个\u003ccode\u003eCSS\u003c/code\u003e像素会跨越更多的物理像素。\u003c/p\u003e\n\u003cp\u003e所以，布局视口会限制你的\u003ccode\u003eCSS\u003c/code\u003e布局，而视觉视口决定用户具体能看到什么。\u003c/p\u003e\n\u003cp\u003e我们可以通过调用\u003ccode\u003ewindow.innerWidth / innerHeight\u003c/code\u003e来获取视觉视口大小。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e理想视口\u003c/p\u003e\n\u003cp\u003e布局视口在移动端展示的效果并不是一个理想的效果，所以理想视口(\u003ccode\u003eideal viewport\u003c/code\u003e)就诞生了：网站页面在移动端展示的理想大小 === 设备独立像素\u003c/p\u003e\n\u003cp\u003e当页面缩放比例为\u003ccode\u003e100%\u003c/code\u003e时，\u003ccode\u003eCSS像素 = 设备独立像素\u003c/code\u003e，\u003ccode\u003e理想视口 = 视觉视口\u003c/code\u003e。\u003c/p\u003e\n\u003cp\u003e我们可以通过调用\u003ccode\u003escreen.width / height\u003c/code\u003e来获取理想视口大小。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 id=\"meta-viewport\"\u003eMeta viewport\u003c/h1\u003e\n\u003cmeta\u003e 元素表示那些不能由其它HTML元相关元素之一表示的任何元数据信息，它可以告诉浏览器如何解析页面\n\n\u003cp\u003e我们可以借助``元素的\u003ccode\u003eviewport\u003c/code\u003e来帮助我们设置视口、缩放等，从而让移动端得到更好的展示效果。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003edevice-width\u003c/code\u003e就等于理想视口的宽度，所以设置\u003ccode\u003ewidth=device-width\u003c/code\u003e就相当于让布局视口等于理想视口。\u003c/p\u003e\n\u003cp\u003e由于\u003ccode\u003einitial-scale = 理想视口宽度 / 视觉视口宽度\u003c/code\u003e，所以我们设置\u003ccode\u003einitial-scale=1;\u003c/code\u003e就相当于让视觉视口等于理想视口。\u003c/p\u003e\n\u003cp\u003e这时，1个\u003ccode\u003eCSS\u003c/code\u003e像素就等于1个设备独立像素，而且我们也是基于理想视口来进行布局的，所以呈现出来的页面布局在各种设备上都能大致相似。\u003c/p\u003e\n\u003ch1 id=\"rem--vw适配\"\u003erem + vw适配\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003erem是相对于根元素的字体大小的单位，也就是html的font-size大小，浏览器默认的字体大小是16px，所以默认的1rem=16px，我们可以根据设备宽度动态设置根元素的font-size，使得以rem为单位的元素在不同终端上以相对一致的视觉效果呈现。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003evh、vw\u003c/code\u003e分别对应于视觉视口宽度 \u003ccode\u003ewindow.innerHeight\u003c/code\u003e和视觉视口高度 \u003ccode\u003ewindow.innerWidth\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e100vh === window.innerHeight\u003c/code\u003e，\u003ccode\u003e100vw === window.innerWidth\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e设置meta标签\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e设置根\u003ccode\u003efont-size\u003c/code\u003e（对应于750px设计稿）\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-tag\"\u003ehtml\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003efont-size\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e13.3333vw\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-comment\"\u003e/*\n750px = 100vw\n1px = 0.13333vw\n\n假定1rem = 100px\n则1rem = 13.333vw\n*/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"前端架构\u0026软实力-移动端适配"},"buildId":"iP4y6L48AljdMF4jEsFqW","assetPrefix":"/next-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>