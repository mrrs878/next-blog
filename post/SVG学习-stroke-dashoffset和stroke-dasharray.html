<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-SVG学习-stroke-dashoffset和stroke-dasharray</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/c254d3655a5edcea.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c254d3655a5edcea.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-1e7421553b9673ee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9cd1d19dd7237c4c.js" defer=""></script><script src="/_next/static/chunks/443-78ba638de598a708.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Btitle%5D-8e525edef48fb7d5.js" defer=""></script><script src="/_next/static/uQJHLsOjU_t-1I9pLYt1c/_buildManifest.js" defer=""></script><script src="/_next/static/uQJHLsOjU_t-1I9pLYt1c/_ssgManifest.js" defer=""></script><script src="/_next/static/uQJHLsOjU_t-1I9pLYt1c/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/">分类</a></li><li class="ml-4 hover:text-yellow"><a href="/">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">SVG学习-stroke-dashoffset和stroke-dasharray</h1><div class="text-sm space-x-2 text-skin-muted"><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2021-11-24 13:35:30</span><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h2 id="起因">起因</h2>
<p>周末玩游戏的时候发现游戏内有一个按钮的交互挺有趣，类似于这种效果</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/button-svg.gif" alt="button-svg"></p>
<p>点击后边框有一个进度条，鼠标长按进度会增加，抬起后回到起始位置</p>
<p>咦，有点意思</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting.gif" alt="因垂斯汀"></p>
<p>于是就想着能不能使用前端的一些技术实现🤔</p>
<p>于是开始一系列的尝试（此处省略若干字），发现触及到知识盲区了😭，根本无从下手</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting2.png" alt="知识盲区"></p>
<h2 id="转机">转机</h2>
<p>突然不知道怎么就想到SVG了，想着要不试试？没准能行，然后一顿搜索，眼前一亮</p>
<p>有大佬使用<code>stroke</code>和<code>stroke-dashoffset</code>及<code>stroke-dasharray</code>做出进度条，同时又想到SVG可以和JavaScript交互，貌似可以实现我的需求</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting3.png" alt="奇怪的知识增加了"></p>
<h2 id="stork-dashoffset和stork-dasharray">stork-dashoffset和stork-dasharray</h2>
<p>那么<code>stroke</code>和<code>stroke-dashoffset</code>以及<code>stroke-dasharray</code>是何方神圣腻？🤔</p>
<p><code>stroke</code>: 描边，接受一个颜色值。可作用于大部分SVG元素</p>
<p><code>stroke-dasharray</code>: 用于创建虚线描边</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// 表示：虚线长10，间距10，然后重复 虚线长10，间距10</span>
stroke-dasharray = <span class="hljs-string">&#x27;10&#x27;</span>

<span class="hljs-comment">// 表示：虚线长10，间距5，然后重复 虚线长10，间距5</span>
stroke-dasharray = <span class="hljs-string">&#x27;10, 5&#x27;</span>

<span class="hljs-comment">// 当然还有更复杂的设置这里就不细讲了</span>
</code></pre>
<p><code>stroke-dashoffset</code>：字如其意，表示stroke的偏移。这个属性是相对于起始点的偏移，<strong>正数</strong>偏移x值的时候，相当于往<strong>左</strong>移动了x个长度单位，<strong>负数</strong>偏移x的时候，相当于往<strong>右</strong>移动了x个长度单位</p>
<p>需要注意的是，不管偏移的方向是哪边，要记得dasharray 是循环的，也就是 虚线-间隔-虚线-间隔。
<code>stroke-dashoffset</code>要搭配<code>stroke-dasharray</code>才能看得出来效果，非虚线的话，是无法看出偏移的。</p>
<p>概念有点抽象，来看一个MDN的例子，图中红线段是偏移的距离</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/stroke-dashoffset.png" alt="stroke-dashoffset"></p>
<p>上图效果分别是：</p>
<ol>
<li>没有虚线</li>
<li><code>stroke-dasharray=&quot;3 1&quot;</code> ，虚线没有设置偏移，也就是stroke-dashoffset值为0</li>
<li><code>stroke-dashoffset=&quot;3&quot;</code>，偏移正数，虚线整体左移了3个单位，图中3后面的红线段，就是起始线段，线段之后是1个单位的间隔，我们可见区域从这个间隔开始，然后循环 3-1,3-1的虚线-间隔-虚线-间隔</li>
<li><code>stroke-dashoffset=&quot;-3&quot;</code>，偏移负数，虚线整体右移动了3个单位，由于dasharray 是循环的，前面偏移的位置会有dasharray 填充上</li>
<li><code>stroke-dashoffset=&quot;1&quot;</code>，偏移正数，虚线整体左移了1个单位，最终呈现出来的效果跟 线段4 一样</li>
</ol>
<p><strong>利用这两个属性，我们可以做出好看的动画效果</strong></p>
<ol>
<li><p>设置<code>stroke-dasharray</code>为<em>图形边长</em></p>
</li>
<li><p>设置<code>stroke-dashoffset</code>为<em>图形边长</em></p>
</li>
<li><p>动态减少<code>stroke-dashoffset</code>到0</p>
</li>
</ol>
<p>简析：第一步后就有一个长度为图形边长的<em>长条</em>，第二步由于设置了<code>stroke-dashoffset</code>也为图形边长，因此<em>长条</em>会被推到不可见的位置，再通过第三步中动态减少<code>stroke-dashoffset</code>，第一步中绘制的<em>长条</em>就会慢慢<em>增长</em>并显示出来</p>
<h2 id="再次挑战">再次挑战</h2>
<p>刚开始是想使用<code>rect</code>来做的，但发现游戏中的按钮是有一定的圆角的，<code>rect</code>在设置圆角之后再添加<code>storke</code>有点丑，遂放弃，改用<code>path</code>实现</p>
<p>观察原图，实现思路如下：</p>
<ol>
<li><p>边框可以使用<code>path</code>绘制出来</p>
</li>
<li><p>边框背景也使用<code>path</code>绘制（同一套<code>d</code>属性），设置一下<code>opacity</code>即可</p>
</li>
<li><p>背景色使用SVG的<code>fill</code>填充出来</p>
</li>
<li><p>文字使用<code>text</code>绘制</p>
</li>
</ol>
<p>实现代码如下：</p>
<pre><code class="hljs language-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>SVG<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
        <span class="hljs-selector-id">#svg</span><span class="hljs-selector-pseudo">:active</span> {
            <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;
        }
        <span class="hljs-selector-id">#path</span>, <span class="hljs-selector-id">#background</span> {
            stroke-<span class="hljs-attribute">width</span>: <span class="hljs-number">3</span>;
            stroke: <span class="hljs-number">#f00</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            
            <span class="hljs-comment">/** 
             * 修正位置，设置水平垂直居中
             */</span>
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(<span class="hljs-number">5px</span>, <span class="hljs-number">5px</span>);
        }
        <span class="hljs-selector-id">#background</span> {
            <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.2</span>;
        }
        <span class="hljs-selector-id">#text</span> {
            user-select: none;
            <span class="hljs-attribute">cursor</span>: pointer;
            fill: <span class="hljs-number">#000</span>;
            
            <span class="hljs-comment">/** 
             * 设置水平垂直居中
             */</span>
            dominant-baseline: middle;
            text-anchor: middle;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
        <span class="hljs-keyword">let</span> rafId = -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">WIDTH</span> = <span class="hljs-number">70</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">HEIGHT</span> = <span class="hljs-number">30</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RADIUS</span> = <span class="hljs-number">6</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_OFFSET</span> = <span class="hljs-number">15</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STORK_LENGTH</span> = (<span class="hljs-variable constant_">WIDTH</span> + <span class="hljs-variable constant_">HEIGHT</span>) &lt;&lt; <span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STEP</span> = <span class="hljs-number">5</span>;

        <span class="hljs-comment">/**
         * <span class="hljs-doctag">@description</span>: 生成带有圆角的path
         */</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">roundedRect</span>(<span class="hljs-params">w, h, tlr, trr, brr, blr</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">`M 0 <span class="hljs-subst">${tlr}</span> A <span class="hljs-subst">${tlr}</span> <span class="hljs-subst">${tlr}</span> 0 0 1 <span class="hljs-subst">${tlr}</span> 0 L <span class="hljs-subst">${w - trr}</span> 0 `</span>
                + <span class="hljs-string">`A <span class="hljs-subst">${trr}</span> <span class="hljs-subst">${trr}</span> 0 0 1 <span class="hljs-subst">${w}</span> <span class="hljs-subst">${trr}</span> L <span class="hljs-subst">${w}</span> <span class="hljs-subst">${h - brr}</span> `</span>
                + <span class="hljs-string">`A <span class="hljs-subst">${brr}</span> <span class="hljs-subst">${brr}</span> 0 0 1 <span class="hljs-subst">${w - brr}</span> <span class="hljs-subst">${h}</span> L <span class="hljs-subst">${blr}</span> <span class="hljs-subst">${h}</span> `</span>
                + <span class="hljs-string">`A <span class="hljs-subst">${blr}</span> <span class="hljs-subst">${blr}</span> 0 0 1 0 <span class="hljs-subst">${h - blr}</span> Z`</span>;
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">animation</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">const</span> path = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#path&#x27;</span>);
            <span class="hljs-keyword">const</span> preOffset = path.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;stroke-dashoffset&#x27;</span>);
            <span class="hljs-keyword">const</span> newOffset = preOffset - <span class="hljs-variable constant_">STEP</span>;
            path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;stroke-dashoffset&#x27;</span>, newOffset);
            <span class="hljs-keyword">if</span> (newOffset &gt;= <span class="hljs-number">0</span>) {
                rafId = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">requestAnimationFrame</span>(animation);
            } <span class="hljs-keyword">else</span> {
                path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;stroke-dashoffset&#x27;</span>, <span class="hljs-variable constant_">STORK_LENGTH</span> - <span class="hljs-variable constant_">DEFAULT_OFFSET</span>);
                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;success&#x27;</span>);
            }
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseDown</span>(<span class="hljs-params"></span>) {
            rafId = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">requestAnimationFrame</span>(animation);
        }

        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseUp</span>(<span class="hljs-params"></span>) {
            <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">cancelAnimationFrame</span>(rafId);
            path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;stroke-dashoffset&#x27;</span>, <span class="hljs-variable constant_">STORK_LENGTH</span> - <span class="hljs-variable constant_">DEFAULT_OFFSET</span>);
        }

        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;load&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">const</span> path = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#path&#x27;</span>);
            <span class="hljs-keyword">const</span> background = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#background&#x27;</span>);
            path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;stroke-dashoffset&#x27;</span>, <span class="hljs-variable constant_">STORK_LENGTH</span> - <span class="hljs-variable constant_">DEFAULT_OFFSET</span>);
            path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;stroke-dasharray&#x27;</span>, <span class="hljs-variable constant_">STORK_LENGTH</span>);

            <span class="hljs-keyword">const</span> roundedPath = <span class="hljs-title function_">roundedRect</span>(<span class="hljs-variable constant_">WIDTH</span>, <span class="hljs-variable constant_">HEIGHT</span>, <span class="hljs-variable constant_">RADIUS</span>, <span class="hljs-variable constant_">RADIUS</span>, <span class="hljs-variable constant_">RADIUS</span>, <span class="hljs-variable constant_">RADIUS</span>);
            path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;d&#x27;</span>, roundedPath);
            background.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;d&#x27;</span>, roundedPath);
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;svg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;80&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;40&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;#ccc&quot;</span> <span class="hljs-attr">onmousedown</span>=<span class="hljs-string">&quot;onMouseDown()&quot;</span> <span class="hljs-attr">onmouseup</span>=<span class="hljs-string">&quot;onMouseUp()&quot;</span>
        <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;path&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;background&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">x</span>=<span class="hljs-string">&quot;40&quot;</span> <span class="hljs-attr">y</span>=<span class="hljs-string">&quot;20&quot;</span>&gt;</span>click me<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>最终效果</p>
<p><img src="https://mrrs878.github.io/awesome/static/img/button.gif" alt="最终效果"></p>
<p><a href="https://mrrs878.github.io/awesome/interactive-button/index.html">在线体验</a></p>
<p>参考：</p>
<p><a href="https://www.cnblogs.com/daisygogogo/p/11044353.html">SVG学习之stroke-dasharray 和 stroke-dashoffset 详解</a></p>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><div class="flex items-center justify-center"><span>本网站由 </span><a class="cdn-logo-c" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral"><img class="call-me" src="https://blog.mrrs.top/img/cdn_logo.png" style="width:40px" alt=""/></a><span>提供CDN加速/云存储服务</span></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"SVG学习-stroke-dashoffset和stroke-dasharray","tags":["SVG"],"categories":"前端架构\u0026软实力","description":"## 起因\n\n周末玩游戏的时候发现游戏内有一个按钮的交互挺有趣，类似于这种效果\n\n![button-svg](https://mrrsblog.oss-cn-shanghai.aliyuncs.com/button-svg.gif)\n\n点击后边框有一个进度条，鼠标长按进度会增加，抬起后回到起始位置\n\n咦，有点意思\n\n![因垂斯汀](https://mrrsblog.oss-cn-shangha","createDate":"2021-11-24 13:35:30","updateDate":"2021-11-25 21:54:36","body":"\u003ch2 id=\"起因\"\u003e起因\u003c/h2\u003e\n\u003cp\u003e周末玩游戏的时候发现游戏内有一个按钮的交互挺有趣，类似于这种效果\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/button-svg.gif\" alt=\"button-svg\"\u003e\u003c/p\u003e\n\u003cp\u003e点击后边框有一个进度条，鼠标长按进度会增加，抬起后回到起始位置\u003c/p\u003e\n\u003cp\u003e咦，有点意思\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting.gif\" alt=\"因垂斯汀\"\u003e\u003c/p\u003e\n\u003cp\u003e于是就想着能不能使用前端的一些技术实现🤔\u003c/p\u003e\n\u003cp\u003e于是开始一系列的尝试（此处省略若干字），发现触及到知识盲区了😭，根本无从下手\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting2.png\" alt=\"知识盲区\"\u003e\u003c/p\u003e\n\u003ch2 id=\"转机\"\u003e转机\u003c/h2\u003e\n\u003cp\u003e突然不知道怎么就想到SVG了，想着要不试试？没准能行，然后一顿搜索，眼前一亮\u003c/p\u003e\n\u003cp\u003e有大佬使用\u003ccode\u003estroke\u003c/code\u003e和\u003ccode\u003estroke-dashoffset\u003c/code\u003e及\u003ccode\u003estroke-dasharray\u003c/code\u003e做出进度条，同时又想到SVG可以和JavaScript交互，貌似可以实现我的需求\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/interesting3.png\" alt=\"奇怪的知识增加了\"\u003e\u003c/p\u003e\n\u003ch2 id=\"stork-dashoffset和stork-dasharray\"\u003estork-dashoffset和stork-dasharray\u003c/h2\u003e\n\u003cp\u003e那么\u003ccode\u003estroke\u003c/code\u003e和\u003ccode\u003estroke-dashoffset\u003c/code\u003e以及\u003ccode\u003estroke-dasharray\u003c/code\u003e是何方神圣腻？🤔\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003estroke\u003c/code\u003e: 描边，接受一个颜色值。可作用于大部分SVG元素\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003estroke-dasharray\u003c/code\u003e: 用于创建虚线描边\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 表示：虚线长10，间距10，然后重复 虚线长10，间距10\u003c/span\u003e\nstroke-dasharray = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;10\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// 表示：虚线长10，间距5，然后重复 虚线长10，间距5\u003c/span\u003e\nstroke-dasharray = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;10, 5\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// 当然还有更复杂的设置这里就不细讲了\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003estroke-dashoffset\u003c/code\u003e：字如其意，表示stroke的偏移。这个属性是相对于起始点的偏移，\u003cstrong\u003e正数\u003c/strong\u003e偏移x值的时候，相当于往\u003cstrong\u003e左\u003c/strong\u003e移动了x个长度单位，\u003cstrong\u003e负数\u003c/strong\u003e偏移x的时候，相当于往\u003cstrong\u003e右\u003c/strong\u003e移动了x个长度单位\u003c/p\u003e\n\u003cp\u003e需要注意的是，不管偏移的方向是哪边，要记得dasharray 是循环的，也就是 虚线-间隔-虚线-间隔。\n\u003ccode\u003estroke-dashoffset\u003c/code\u003e要搭配\u003ccode\u003estroke-dasharray\u003c/code\u003e才能看得出来效果，非虚线的话，是无法看出偏移的。\u003c/p\u003e\n\u003cp\u003e概念有点抽象，来看一个MDN的例子，图中红线段是偏移的距离\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/stroke-dashoffset.png\" alt=\"stroke-dashoffset\"\u003e\u003c/p\u003e\n\u003cp\u003e上图效果分别是：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e没有虚线\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estroke-dasharray=\u0026quot;3 1\u0026quot;\u003c/code\u003e ，虚线没有设置偏移，也就是stroke-dashoffset值为0\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estroke-dashoffset=\u0026quot;3\u0026quot;\u003c/code\u003e，偏移正数，虚线整体左移了3个单位，图中3后面的红线段，就是起始线段，线段之后是1个单位的间隔，我们可见区域从这个间隔开始，然后循环 3-1,3-1的虚线-间隔-虚线-间隔\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estroke-dashoffset=\u0026quot;-3\u0026quot;\u003c/code\u003e，偏移负数，虚线整体右移动了3个单位，由于dasharray 是循环的，前面偏移的位置会有dasharray 填充上\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003estroke-dashoffset=\u0026quot;1\u0026quot;\u003c/code\u003e，偏移正数，虚线整体左移了1个单位，最终呈现出来的效果跟 线段4 一样\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003e利用这两个属性，我们可以做出好看的动画效果\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e设置\u003ccode\u003estroke-dasharray\u003c/code\u003e为\u003cem\u003e图形边长\u003c/em\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e设置\u003ccode\u003estroke-dashoffset\u003c/code\u003e为\u003cem\u003e图形边长\u003c/em\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e动态减少\u003ccode\u003estroke-dashoffset\u003c/code\u003e到0\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e简析：第一步后就有一个长度为图形边长的\u003cem\u003e长条\u003c/em\u003e，第二步由于设置了\u003ccode\u003estroke-dashoffset\u003c/code\u003e也为图形边长，因此\u003cem\u003e长条\u003c/em\u003e会被推到不可见的位置，再通过第三步中动态减少\u003ccode\u003estroke-dashoffset\u003c/code\u003e，第一步中绘制的\u003cem\u003e长条\u003c/em\u003e就会慢慢\u003cem\u003e增长\u003c/em\u003e并显示出来\u003c/p\u003e\n\u003ch2 id=\"再次挑战\"\u003e再次挑战\u003c/h2\u003e\n\u003cp\u003e刚开始是想使用\u003ccode\u003erect\u003c/code\u003e来做的，但发现游戏中的按钮是有一定的圆角的，\u003ccode\u003erect\u003c/code\u003e在设置圆角之后再添加\u003ccode\u003estorke\u003c/code\u003e有点丑，遂放弃，改用\u003ccode\u003epath\u003c/code\u003e实现\u003c/p\u003e\n\u003cp\u003e观察原图，实现思路如下：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e边框可以使用\u003ccode\u003epath\u003c/code\u003e绘制出来\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e边框背景也使用\u003ccode\u003epath\u003c/code\u003e绘制（同一套\u003ccode\u003ed\u003c/code\u003e属性），设置一下\u003ccode\u003eopacity\u003c/code\u003e即可\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e背景色使用SVG的\u003ccode\u003efill\u003c/code\u003e填充出来\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e文字使用\u003ccode\u003etext\u003c/code\u003e绘制\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e实现代码如下：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!DOCTYPE \u003cspan class=\"hljs-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;en\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;UTF-8\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehttp-equiv\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;X-UA-Compatible\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;IE=edge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width, initial-scale=1.0\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eSVG\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-css\"\u003e\n        \u003cspan class=\"hljs-selector-id\"\u003e#svg\u003c/span\u003e\u003cspan class=\"hljs-selector-pseudo\"\u003e:active\u003c/span\u003e {\n            \u003cspan class=\"hljs-attribute\"\u003eopacity\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0.9\u003c/span\u003e;\n        }\n        \u003cspan class=\"hljs-selector-id\"\u003e#path\u003c/span\u003e, \u003cspan class=\"hljs-selector-id\"\u003e#background\u003c/span\u003e {\n            stroke-\u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e;\n            stroke: \u003cspan class=\"hljs-number\"\u003e#f00\u003c/span\u003e;\n            \u003cspan class=\"hljs-attribute\"\u003ecursor\u003c/span\u003e: pointer;\n            \n            \u003cspan class=\"hljs-comment\"\u003e/** \n             * 修正位置，设置水平垂直居中\n             */\u003c/span\u003e\n            \u003cspan class=\"hljs-attribute\"\u003etransform\u003c/span\u003e: \u003cspan class=\"hljs-built_in\"\u003etranslate\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e5px\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5px\u003c/span\u003e);\n        }\n        \u003cspan class=\"hljs-selector-id\"\u003e#background\u003c/span\u003e {\n            \u003cspan class=\"hljs-attribute\"\u003eopacity\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e0.2\u003c/span\u003e;\n        }\n        \u003cspan class=\"hljs-selector-id\"\u003e#text\u003c/span\u003e {\n            user-select: none;\n            \u003cspan class=\"hljs-attribute\"\u003ecursor\u003c/span\u003e: pointer;\n            fill: \u003cspan class=\"hljs-number\"\u003e#000\u003c/span\u003e;\n            \n            \u003cspan class=\"hljs-comment\"\u003e/** \n             * 设置水平垂直居中\n             */\u003c/span\u003e\n            dominant-baseline: middle;\n            text-anchor: middle;\n        }\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-javascript\"\u003e\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e rafId = -\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eWIDTH\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e70\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eHEIGHT\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e30\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eRADIUS\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDEFAULT_OFFSET\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eSTORK_LENGTH\u003c/span\u003e = (\u003cspan class=\"hljs-variable constant_\"\u003eWIDTH\u003c/span\u003e + \u003cspan class=\"hljs-variable constant_\"\u003eHEIGHT\u003c/span\u003e) \u0026lt;\u0026lt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eSTEP\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-comment\"\u003e/**\n         * \u003cspan class=\"hljs-doctag\"\u003e@description\u003c/span\u003e: 生成带有圆角的path\n         */\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eroundedRect\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ew, h, tlr, trr, brr, blr\u003c/span\u003e) {\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e`M 0 \u003cspan class=\"hljs-subst\"\u003e${tlr}\u003c/span\u003e A \u003cspan class=\"hljs-subst\"\u003e${tlr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${tlr}\u003c/span\u003e 0 0 1 \u003cspan class=\"hljs-subst\"\u003e${tlr}\u003c/span\u003e 0 L \u003cspan class=\"hljs-subst\"\u003e${w - trr}\u003c/span\u003e 0 `\u003c/span\u003e\n                + \u003cspan class=\"hljs-string\"\u003e`A \u003cspan class=\"hljs-subst\"\u003e${trr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${trr}\u003c/span\u003e 0 0 1 \u003cspan class=\"hljs-subst\"\u003e${w}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${trr}\u003c/span\u003e L \u003cspan class=\"hljs-subst\"\u003e${w}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${h - brr}\u003c/span\u003e `\u003c/span\u003e\n                + \u003cspan class=\"hljs-string\"\u003e`A \u003cspan class=\"hljs-subst\"\u003e${brr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${brr}\u003c/span\u003e 0 0 1 \u003cspan class=\"hljs-subst\"\u003e${w - brr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${h}\u003c/span\u003e L \u003cspan class=\"hljs-subst\"\u003e${blr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${h}\u003c/span\u003e `\u003c/span\u003e\n                + \u003cspan class=\"hljs-string\"\u003e`A \u003cspan class=\"hljs-subst\"\u003e${blr}\u003c/span\u003e \u003cspan class=\"hljs-subst\"\u003e${blr}\u003c/span\u003e 0 0 1 0 \u003cspan class=\"hljs-subst\"\u003e${h - blr}\u003c/span\u003e Z`\u003c/span\u003e;\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eanimation\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;#path\u0026#x27;\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e preOffset = path.\u003cspan class=\"hljs-title function_\"\u003egetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dashoffset\u0026#x27;\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e newOffset = preOffset - \u003cspan class=\"hljs-variable constant_\"\u003eSTEP\u003c/span\u003e;\n            path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dashoffset\u0026#x27;\u003c/span\u003e, newOffset);\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (newOffset \u0026gt;= \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) {\n                rafId = \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erequestAnimationFrame\u003c/span\u003e(animation);\n            } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dashoffset\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eSTORK_LENGTH\u003c/span\u003e - \u003cspan class=\"hljs-variable constant_\"\u003eDEFAULT_OFFSET\u003c/span\u003e);\n                \u003cspan class=\"hljs-title function_\"\u003ealert\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;success\u0026#x27;\u003c/span\u003e);\n            }\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eonMouseDown\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n            rafId = \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003erequestAnimationFrame\u003c/span\u003e(animation);\n        }\n\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eonMouseUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n            \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecancelAnimationFrame\u003c/span\u003e(rafId);\n            path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dashoffset\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eSTORK_LENGTH\u003c/span\u003e - \u003cspan class=\"hljs-variable constant_\"\u003eDEFAULT_OFFSET\u003c/span\u003e);\n        }\n\n        \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;load\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e path = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;#path\u0026#x27;\u003c/span\u003e);\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e background = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;#background\u0026#x27;\u003c/span\u003e);\n            path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dashoffset\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eSTORK_LENGTH\u003c/span\u003e - \u003cspan class=\"hljs-variable constant_\"\u003eDEFAULT_OFFSET\u003c/span\u003e);\n            path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;stroke-dasharray\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eSTORK_LENGTH\u003c/span\u003e);\n\n            \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e roundedPath = \u003cspan class=\"hljs-title function_\"\u003eroundedRect\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eWIDTH\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eHEIGHT\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eRADIUS\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eRADIUS\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eRADIUS\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eRADIUS\u003c/span\u003e);\n            path.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;d\u0026#x27;\u003c/span\u003e, roundedPath);\n            background.\u003cspan class=\"hljs-title function_\"\u003esetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;d\u0026#x27;\u003c/span\u003e, roundedPath);\n        });\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003esvg\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;svg\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewidth\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;80\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eheight\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;40\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efill\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;#ccc\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonmousedown\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;onMouseDown()\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonmouseup\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;onMouseUp()\u0026quot;\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003exmlns\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;http://www.w3.org/2000/svg\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003epath\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;path\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003epath\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003epath\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;background\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003epath\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etext\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;text\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;40\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ey\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;20\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eclick me\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etext\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003esvg\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e最终效果\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://mrrs878.github.io/awesome/static/img/button.gif\" alt=\"最终效果\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mrrs878.github.io/awesome/interactive-button/index.html\"\u003e在线体验\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e参考：\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.cnblogs.com/daisygogogo/p/11044353.html\"\u003eSVG学习之stroke-dasharray 和 stroke-dashoffset 详解\u003c/a\u003e\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"SVG学习-stroke-dashoffset和stroke-dasharray"},"buildId":"uQJHLsOjU_t-1I9pLYt1c","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>