<!DOCTYPE html><html><head><link rel="icon" href="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/avatar.jpg"/><script async="" src="/js/L2Dwidget.min.js"></script><script async="" src="/js/initL2D.js"></script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RSçš„ä¸ªäººåšå®¢-Web Component-åˆè¯†</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/15773988a510c3d3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/15773988a510c3d3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-b927671265afed5e.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-1e7421553b9673ee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/_next/static/chunks/899-3eff910f6206cfe7.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Btitle%5D-d89e1712c82a34ac.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_buildManifest.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_ssgManifest.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/">é¦–é¡µ</a></li><li class="mx-4 hover:text-yellow"><a href="/categories">åˆ†ç±»</a></li><li class="mx-4 hover:text-yellow"><a href="/tags">æ ‡ç­¾</a></li><li class="ml-4 hover:text-yellow"><a href="/timeline">å½’æ¡£</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">Web Component-åˆè¯†</h1><div class="text-sm space-x-2 text-skin-muted grid grid-cols-5"><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2022-04-20 21:16:56</span><span class="flex align-middle"><svg class="w-5 h-5 inline-block mr-1" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1903" width="20" height="20"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" p-id="1904"></path></svg>2022-01-08 22:40:37</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><p>Web Component æœ‰ç‚¹ä¸œè¥¿</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">ä»€ä¹ˆæ˜¯ Web Component</span>
        <span class="suffix"></span>
      </h2>
    <blockquote>
<p>Web Components æ˜¯ä¸€å¥—ä¸åŒçš„æŠ€æœ¯ï¼Œå…è®¸æ‚¨åˆ›å»ºå¯é‡ç”¨çš„å®šåˆ¶å…ƒç´ ï¼ˆå®ƒä»¬çš„åŠŸèƒ½å°è£…åœ¨æ‚¨çš„ä»£ç ä¹‹å¤–ï¼‰å¹¶ä¸”åœ¨æ‚¨çš„ web åº”ç”¨ä¸­ä½¿ç”¨å®ƒä»¬ã€‚--MDN</p>
</blockquote>
<p>ç®€å•æ¥è®²å°±æ˜¯æµè§ˆå™¨æä¾›çš„åŸç”Ÿ<strong>ç»„ä»¶å¤ç”¨</strong>æ–¹æ¡ˆã€‚ä¸»è¦ç”±ä¸‰ç§æŠ€æœ¯æ–¹æ¡ˆå®ç°ï¼š</p>
<ul>
<li><p>Custom elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰ã€‚å¯ä»¥ç”¨æ¥å®šä¹‰æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰</p>
</li>
<li><p>Shadow DOMï¼ˆå½±å­ DOMï¼‰ã€‚å¯ä»¥ç”¨æ¥åšæ ·å¼éš”ç¦»</p>
</li>
<li><p>HTML templatesï¼ˆHTML æ¨¡æ¿ï¼‰ã€‚å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºç¡€çš„ç»„ä»¶çš„domç»“æ„</p>
</li>
</ul>

      <h2>
        <span class="prefix"></span>
        <span class="content">æ€ä¹ˆç”¨ Web Component</span>
        <span class="suffix"></span>
      </h2>
    <p>å®ç° Web Component çš„<strong>æœ€åŸºæœ¬</strong>æµç¨‹ï¼š</p>
<ol>
<li>ä½¿ç”¨<code>template</code>æ¥å®šä¹‰ä¸€ä¸ª<em>ç»„ä»¶</em>çš„dom</li>
</ol>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mHeader&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>æˆ‘æ˜¯å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ol start="2">
<li>æ¥ç€åŸºäºğŸ‘†åˆ›å»ºçš„<code>template</code>åˆ›å»ºä¸€ä¸ª<em>ç±»ç»„ä»¶</em></li>
</ol>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MHeader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-comment">// attachShadow() æ–¹æ³•æ¥å°†ä¸€ä¸ª shadow root é™„åŠ åˆ°ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª shadow root ã€‚</span>
    <span class="hljs-keyword">const</span> shadowRoot = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;closed&quot;</span> });
    <span class="hljs-keyword">const</span> template = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#mHeader&quot;</span>);
    <span class="hljs-keyword">const</span> content = template.<span class="hljs-property">content</span>.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>);
    shadowRoot.<span class="hljs-title function_">appendChild</span>(content);
  }
}
</code></pre>
<ol start="3">
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CustomElementRegistry/define">CustomElementRegistry.define()</a> æ–¹æ³•æ³¨å†Œè‡ªå®šä¹‰æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰</li>
</ol>
<pre><code class="hljs language-jsx"><span class="hljs-comment">/**
 * æ³¨æ„ï¼Œç»„ä»¶åæ˜¯æœ‰é™åˆ¶çš„ï¼ŒMHeaderã€header1ç­‰éƒ½æ˜¯ä¸èƒ½ç”¨çš„ï¼Œæµè§ˆå™¨ä¼šæŠ¥é”™
 * 
 * web-component.html:33 Uncaught DOMException: Failed to execute &#x27;define&#x27; on &#x27;CustomElementRegistry&#x27;: &quot;header1&quot; is not a valid custom element name
    at file:///Users/echo/Desktop/web-component.html:33:27
 */</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">customElements</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">&quot;m-header&quot;</span>, <span class="hljs-title class_">MHeader</span>);
</code></pre>
<ol start="4">
<li>ä½¿ç”¨è¯¥<em>ç»„ä»¶</em></li>
</ol>
<pre><code class="hljs language-html"><span class="hljs-comment">&lt;!-- ä½¿ç”¨çš„åœ°æ–¹æ²¡æœ‰é™åˆ¶ï¼Œè‡ªé—­åˆä¹Ÿæ˜¯å¯ä»¥çš„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">m-header</span> /&gt;</span>
</code></pre>
<ol start="5">
<li>ç»™ç»„ä»¶åŠ ç‚¹æ ·å¼</li>
</ol>
<p>å¯ä»¥ç›´æ¥åœ¨<code>template</code>é‡Œæ·»åŠ <code>style</code>æ ‡ç­¾ï¼Œåœ¨é‡Œé¢å¯ä»¥æ·»åŠ åªåœ¨è¯¥<code>template</code>ä¸‹ç”Ÿæ•ˆçš„æ ·å¼</p>
<p><code>:host</code>é€‰æ‹©å™¨å¯ä»¥é€‰æ‹©ç»„ä»¶çš„æ ¹å…ƒç´ </p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mHeader&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
    <span class="hljs-selector-pseudo">:host</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span>;
    }
    <span class="hljs-selector-class">.content</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#f00</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>æˆ‘æ˜¯å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ol start="6">
<li>åŠ ç‚¹å±æ€§è¯•è¯• ğŸ¤”</li>
</ol>
<p>éœ€è¦åœ¨ç¬¬ 2 æ­¥åœ¨å®šä¹‰ç»„ä»¶æ—¶ç”¨åˆ°<code>this.getAttribute</code>æ¥è·å–ä¼ å…¥çš„å±æ€§</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MHeader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-keyword">const</span> title = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;title&quot;</span>);
    <span class="hljs-keyword">if</span> (title) {
      content.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#content&quot;</span>).<span class="hljs-property">innerText</span> = title;
    }
    <span class="hljs-comment">// ...</span>
  }
}

&lt;m-header title=<span class="hljs-string">&quot;hello&quot;</span> /&gt;;
</code></pre>
<ol start="7">
<li>æ·»åŠ ä¸€äº›äº¤äº’</li>
</ol>
<p>å¯ä»¥ä½¿ç”¨<code>querySelector</code>è·å–åˆ°<code>template</code>å†…éƒ¨çš„ä¸€äº›å…ƒç´ æ¥æ·»åŠ äº‹ä»¶</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mHeader&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;login&quot;</span>&gt;</span>login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ¥ç€ç»‘å®šäº‹ä»¶</p>
<pre><code class="hljs language-jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MHeader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// ...</span>
    content.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#login&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;login&quot;</span>);
    });
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<ol start="8">
<li>ä¸çˆ¶ç»„ä»¶çš„é€šä¿¡</li>
</ol>
<p>é€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CustomEvent">CustomEvent</a>æ¥è¿›è¡Œé€šä¿¡</p>
<p>å®Œæ•´ä»£ç </p>
<pre><code class="hljs language-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mHeader&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">
        <span class="hljs-selector-pseudo">:host</span> {
          <span class="hljs-attribute">font-size</span>: <span class="hljs-number">32px</span>;
        }

        <span class="hljs-selector-class">.content</span> {
          <span class="hljs-attribute">color</span>: <span class="hljs-number">#f00</span>;
        }
      </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span>æˆ‘æ˜¯å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;login&quot;</span>&gt;</span>login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">m-header</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mHeader&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;hello&quot;</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
      <span class="hljs-keyword">class</span> <span class="hljs-title class_">MHeader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
          <span class="hljs-variable language_">super</span>();
          <span class="hljs-keyword">const</span> shadowRoot = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">&quot;closed&quot;</span> });
          <span class="hljs-keyword">const</span> template = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#mHeader&quot;</span>);
          <span class="hljs-keyword">const</span> content = template.<span class="hljs-property">content</span>.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>);
          <span class="hljs-keyword">const</span> title = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&quot;title&quot;</span>);
          <span class="hljs-keyword">if</span> (title) {
            content.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#content&quot;</span>).<span class="hljs-property">innerText</span> = title;
          }
          <span class="hljs-keyword">const</span> myEvent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">&quot;login&quot;</span>, {
            <span class="hljs-attr">detail</span>: <span class="hljs-string">&quot;è¿™æ˜¯å­ç»„ä»¶ä¼ è¿‡æ¥çš„æ¶ˆæ¯&quot;</span>,
          });
          <span class="hljs-keyword">const</span> loginBtn = content.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#login&quot;</span>);
          loginBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;login&quot;</span>);
          });
          shadowRoot.<span class="hljs-title function_">appendChild</span>(content);
        }
      }

      <span class="hljs-variable language_">window</span>.<span class="hljs-property">customElements</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">&quot;m-header&quot;</span>, <span class="hljs-title class_">MHeader</span>);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>æœªå®Œå¾…ç»­</p>
<p>to be continued...</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">åŸºäº Web Component çš„è½åœ°åº”ç”¨</span>
        <span class="suffix"></span>
      </h2>
    <p>GitHubã€‚GitHubæ˜¯åŸºäº Web Components æ¥å¼€å‘çš„</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6309ad13b5b24d23aaf42e426923d4c4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<p>å…¶æ¬¡ï¼ŒVue.jså’Œå¾®ä¿¡å°ç¨‹åºä¹Ÿæ˜¯åŸºäº Web Components æ¥åšç»„ä»¶åŒ–çš„</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">æ€»ç»“</span>
        <span class="suffix"></span>
      </h2>
    <p>Web Component æ˜¯æµè§ˆå™¨æä¾›çš„å¯ä»¥ç”¨äºç»„ä»¶å¤ç”¨çš„æ–¹æ¡ˆï¼Œå¯ä»¥å®ç°æ ·å¼éš”ç¦»ï¼Œè‡ªå®šä¹‰å±æ€§ã€çˆ¶å­ç»„ä»¶é€šä¿¡ç­‰åŠŸèƒ½ï¼Œæœ‰ä¸å°‘åº”ç”¨/æ¡†æ¶éƒ½æ˜¯åŸºäºWeb Componentæ¥è¿›è¡Œå¼€å‘çš„ï¼Œå‰æ™¯å¹¿é˜”ã€‚ä½†Web Componentä¹¦å†™èµ·æ¥è¿˜æ˜¯æœ‰äº›ä¸å¤Ÿä¾¿æ·ï¼Œéœ€è¦ç”¨åˆ°åŸç”Ÿ dom æ“ä½œ api</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">å‚è€ƒ</span>
        <span class="suffix"></span>
      </h2>
    <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components">MDN-Web Components</a></p>
<p><a href="https://github.com/mdn/web-components-examples">MDN/web-components-examples</a></p>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>2024</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Web Component-åˆè¯†","tags":["å¾®å‰ç«¯","WebComponent"],"categories":"å¾®å‰ç«¯","description":"Web Component æœ‰ç‚¹ä¸œè¥¿\n\n## ä»€ä¹ˆæ˜¯ Web Component\n\n\u003e Web Components æ˜¯ä¸€å¥—ä¸åŒçš„æŠ€æœ¯ï¼Œå…è®¸æ‚¨åˆ›å»ºå¯é‡ç”¨çš„å®šåˆ¶å…ƒç´ ï¼ˆå®ƒä»¬çš„åŠŸèƒ½å°è£…åœ¨æ‚¨çš„ä»£ç ä¹‹å¤–ï¼‰å¹¶ä¸”åœ¨æ‚¨çš„ web åº”ç”¨ä¸­ä½¿ç”¨å®ƒä»¬ã€‚--MDN\n\nç®€å•æ¥è®²å°±æ˜¯æµè§ˆå™¨æä¾›çš„åŸç”Ÿ**ç»„ä»¶å¤ç”¨**æ–¹æ¡ˆã€‚ä¸»è¦ç”±ä¸‰ç§æŠ€æœ¯æ–¹æ¡ˆå®ç°ï¼š\n\n- Custom elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰ã€‚å¯ä»¥ç”¨æ¥å®šä¹‰æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰","createDate":"2022-04-20 21:16:56","updateDate":"2022-01-08 22:40:37","body":"\u003cp\u003eWeb Component æœ‰ç‚¹ä¸œè¥¿\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eä»€ä¹ˆæ˜¯ Web Component\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cblockquote\u003e\n\u003cp\u003eWeb Components æ˜¯ä¸€å¥—ä¸åŒçš„æŠ€æœ¯ï¼Œå…è®¸æ‚¨åˆ›å»ºå¯é‡ç”¨çš„å®šåˆ¶å…ƒç´ ï¼ˆå®ƒä»¬çš„åŠŸèƒ½å°è£…åœ¨æ‚¨çš„ä»£ç ä¹‹å¤–ï¼‰å¹¶ä¸”åœ¨æ‚¨çš„ web åº”ç”¨ä¸­ä½¿ç”¨å®ƒä»¬ã€‚--MDN\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eç®€å•æ¥è®²å°±æ˜¯æµè§ˆå™¨æä¾›çš„åŸç”Ÿ\u003cstrong\u003eç»„ä»¶å¤ç”¨\u003c/strong\u003eæ–¹æ¡ˆã€‚ä¸»è¦ç”±ä¸‰ç§æŠ€æœ¯æ–¹æ¡ˆå®ç°ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eCustom elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰ã€‚å¯ä»¥ç”¨æ¥å®šä¹‰æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eShadow DOMï¼ˆå½±å­ DOMï¼‰ã€‚å¯ä»¥ç”¨æ¥åšæ ·å¼éš”ç¦»\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eHTML templatesï¼ˆHTML æ¨¡æ¿ï¼‰ã€‚å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºç¡€çš„ç»„ä»¶çš„domç»“æ„\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eæ€ä¹ˆç”¨ Web Component\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eå®ç° Web Component çš„\u003cstrong\u003eæœ€åŸºæœ¬\u003c/strong\u003eæµç¨‹ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eä½¿ç”¨\u003ccode\u003etemplate\u003c/code\u003eæ¥å®šä¹‰ä¸€ä¸ª\u003cem\u003eç»„ä»¶\u003c/em\u003eçš„dom\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mHeader\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eæˆ‘æ˜¯å¤´éƒ¨\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eæ¥ç€åŸºäºğŸ‘†åˆ›å»ºçš„\u003ccode\u003etemplate\u003c/code\u003eåˆ›å»ºä¸€ä¸ª\u003cem\u003eç±»ç»„ä»¶\u003c/em\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eHTMLElement\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e();\n    \u003cspan class=\"hljs-comment\"\u003e// attachShadow() æ–¹æ³•æ¥å°†ä¸€ä¸ª shadow root é™„åŠ åˆ°ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª shadow root ã€‚\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e shadowRoot = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eattachShadow\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003emode\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;closed\u0026quot;\u003c/span\u003e });\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e template = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#mHeader\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = template.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecloneNode\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n    shadowRoot.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(content);\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CustomElementRegistry/define\"\u003eCustomElementRegistry.define()\u003c/a\u003e æ–¹æ³•æ³¨å†Œè‡ªå®šä¹‰æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-comment\"\u003e/**\n * æ³¨æ„ï¼Œç»„ä»¶åæ˜¯æœ‰é™åˆ¶çš„ï¼ŒMHeaderã€header1ç­‰éƒ½æ˜¯ä¸èƒ½ç”¨çš„ï¼Œæµè§ˆå™¨ä¼šæŠ¥é”™\n * \n * web-component.html:33 Uncaught DOMException: Failed to execute \u0026#x27;define\u0026#x27; on \u0026#x27;CustomElementRegistry\u0026#x27;: \u0026quot;header1\u0026quot; is not a valid custom element name\n    at file:///Users/echo/Desktop/web-component.html:33:27\n */\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecustomElements\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;m-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eä½¿ç”¨è¯¥\u003cem\u003eç»„ä»¶\u003c/em\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- ä½¿ç”¨çš„åœ°æ–¹æ²¡æœ‰é™åˆ¶ï¼Œè‡ªé—­åˆä¹Ÿæ˜¯å¯ä»¥çš„ --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003em-header\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eç»™ç»„ä»¶åŠ ç‚¹æ ·å¼\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå¯ä»¥ç›´æ¥åœ¨\u003ccode\u003etemplate\u003c/code\u003eé‡Œæ·»åŠ \u003ccode\u003estyle\u003c/code\u003eæ ‡ç­¾ï¼Œåœ¨é‡Œé¢å¯ä»¥æ·»åŠ åªåœ¨è¯¥\u003ccode\u003etemplate\u003c/code\u003eä¸‹ç”Ÿæ•ˆçš„æ ·å¼\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e:host\u003c/code\u003eé€‰æ‹©å™¨å¯ä»¥é€‰æ‹©ç»„ä»¶çš„æ ¹å…ƒç´ \u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mHeader\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-css\"\u003e\n    \u003cspan class=\"hljs-selector-pseudo\"\u003e:host\u003c/span\u003e {\n      \u003cspan class=\"hljs-attribute\"\u003efont-size\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e32px\u003c/span\u003e;\n    }\n    \u003cspan class=\"hljs-selector-class\"\u003e.content\u003c/span\u003e {\n      \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#f00\u003c/span\u003e;\n    }\n  \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eæˆ‘æ˜¯å¤´éƒ¨\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eåŠ ç‚¹å±æ€§è¯•è¯• ğŸ¤”\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eéœ€è¦åœ¨ç¬¬ 2 æ­¥åœ¨å®šä¹‰ç»„ä»¶æ—¶ç”¨åˆ°\u003ccode\u003ethis.getAttribute\u003c/code\u003eæ¥è·å–ä¼ å…¥çš„å±æ€§\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eHTMLElement\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e title = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (title) {\n      content.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#content\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003einnerText\u003c/span\u003e = title;\n    }\n    \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n  }\n}\n\n\u0026lt;m-header title=\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello\u0026quot;\u003c/span\u003e /\u0026gt;;\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003eæ·»åŠ ä¸€äº›äº¤äº’\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eå¯ä»¥ä½¿ç”¨\u003ccode\u003equerySelector\u003c/code\u003eè·å–åˆ°\u003ccode\u003etemplate\u003c/code\u003eå†…éƒ¨çš„ä¸€äº›å…ƒç´ æ¥æ·»åŠ äº‹ä»¶\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mHeader\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e\u0026lt;!-- ... --\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;login\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003elogin\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæ¥ç€ç»‘å®šäº‹ä»¶\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eHTMLElement\u003c/span\u003e {\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n    content.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#login\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;click\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_\"\u003ealert\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;login\u0026quot;\u003c/span\u003e);\n    });\n    \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"8\"\u003e\n\u003cli\u003eä¸çˆ¶ç»„ä»¶çš„é€šä¿¡\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eé€šè¿‡\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CustomEvent\"\u003eCustomEvent\u003c/a\u003eæ¥è¿›è¡Œé€šä¿¡\u003c/p\u003e\n\u003cp\u003eå®Œæ•´ä»£ç \u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u0026lt;!DOCTYPE \u003cspan class=\"hljs-keyword\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;en\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;UTF-8\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehttp-equiv\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;X-UA-Compatible\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;IE=edge\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;viewport\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;width=device-width, initial-scale=1.0\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003eDocument\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mHeader\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-css\"\u003e\n        \u003cspan class=\"hljs-selector-pseudo\"\u003e:host\u003c/span\u003e {\n          \u003cspan class=\"hljs-attribute\"\u003efont-size\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e32px\u003c/span\u003e;\n        }\n\n        \u003cspan class=\"hljs-selector-class\"\u003e.content\u003c/span\u003e {\n          \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e#f00\u003c/span\u003e;\n        }\n      \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;content\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eæˆ‘æ˜¯å¤´éƒ¨\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003espan\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;login\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003elogin\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003em-header\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mHeader\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"language-javascript\"\u003e\n      \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003eHTMLElement\u003c/span\u003e {\n        \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n          \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e();\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e shadowRoot = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eattachShadow\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003emode\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;closed\u0026quot;\u003c/span\u003e });\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e template = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#mHeader\u0026quot;\u003c/span\u003e);\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = template.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecloneNode\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e title = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetAttribute\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;title\u0026quot;\u003c/span\u003e);\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (title) {\n            content.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#content\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-property\"\u003einnerText\u003c/span\u003e = title;\n          }\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e myEvent = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCustomEvent\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;login\u0026quot;\u003c/span\u003e, {\n            \u003cspan class=\"hljs-attr\"\u003edetail\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;è¿™æ˜¯å­ç»„ä»¶ä¼ è¿‡æ¥çš„æ¶ˆæ¯\u0026quot;\u003c/span\u003e,\n          });\n          \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e loginBtn = content.\u003cspan class=\"hljs-title function_\"\u003equerySelector\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;#login\u0026quot;\u003c/span\u003e);\n          loginBtn.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;click\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n            \u003cspan class=\"hljs-title function_\"\u003ealert\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;login\u0026quot;\u003c/span\u003e);\n          });\n          shadowRoot.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(content);\n        }\n      }\n\n      \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecustomElements\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edefine\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;m-header\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMHeader\u003c/span\u003e);\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæœªå®Œå¾…ç»­\u003c/p\u003e\n\u003cp\u003eto be continued...\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eåŸºäº Web Component çš„è½åœ°åº”ç”¨\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eGitHubã€‚GitHubæ˜¯åŸºäº Web Components æ¥å¼€å‘çš„\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6309ad13b5b24d23aaf42e426923d4c4~tplv-k3u1fbpfcp-watermark.image?\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cp\u003eå…¶æ¬¡ï¼ŒVue.jså’Œå¾®ä¿¡å°ç¨‹åºä¹Ÿæ˜¯åŸºäº Web Components æ¥åšç»„ä»¶åŒ–çš„\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eæ€»ç»“\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eWeb Component æ˜¯æµè§ˆå™¨æä¾›çš„å¯ä»¥ç”¨äºç»„ä»¶å¤ç”¨çš„æ–¹æ¡ˆï¼Œå¯ä»¥å®ç°æ ·å¼éš”ç¦»ï¼Œè‡ªå®šä¹‰å±æ€§ã€çˆ¶å­ç»„ä»¶é€šä¿¡ç­‰åŠŸèƒ½ï¼Œæœ‰ä¸å°‘åº”ç”¨/æ¡†æ¶éƒ½æ˜¯åŸºäºWeb Componentæ¥è¿›è¡Œå¼€å‘çš„ï¼Œå‰æ™¯å¹¿é˜”ã€‚ä½†Web Componentä¹¦å†™èµ·æ¥è¿˜æ˜¯æœ‰äº›ä¸å¤Ÿä¾¿æ·ï¼Œéœ€è¦ç”¨åˆ°åŸç”Ÿ dom æ“ä½œ api\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eå‚è€ƒ\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003e\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/Web_Components\"\u003eMDN-Web Components\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/mdn/web-components-examples\"\u003eMDN/web-components-examples\u003c/a\u003e\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"Web Component-åˆè¯†"},"buildId":"rfzbvyXf47u3p_eOe2WWT","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>