<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-Python-正则表达式</title><meta name="next-head-count" content="3"/><link rel="preload" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" as="style"/><link rel="stylesheet" href="/next-blog/_next/static/css/1bf96eec8dc413e7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/next-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/next-blog/_next/static/chunks/webpack-cf185e4b59cdddcf.js" defer=""></script><script src="/next-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/next-blog/_next/static/chunks/main-1c9e93b8392c1bc9.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/next-blog/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/next-blog/_next/static/chunks/pages/post/%5Btitle%5D-406bad804ceffd1d.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_buildManifest.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_ssgManifest.js" defer=""></script><script src="/next-blog/_next/static/OxTEt_YhStn7hb0to8717/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/next-blog">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/next-blog/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/next-blog/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">Python-正则表达式</h1><div class="text-sm space-x-2 text-skin-muted"><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2018-11-15 19:55:58</span><span><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h1 id="正则表达式">正则表达式</h1>
<ul>
<li>正则表达式匹配，就是按照一定的规则将特定的文本提取出来。
<img src="https://t1.picb.cc/uploads/2018/11/15/JXfxNi.jpg" alt="enter image description here"></li>
</ul>
<h2 id="match">match</h2>
<ul>
<li>match(0)法会尝试从字符串的<strong>起始位置</strong>匹配正则表达式，如果匹配，就返回匹配成功的结果；如果不匹配，就返回 false。</li>
</ul>
<h2 id="match-示例">match 示例</h2>
<h3 id="匹配目标">匹配目标</h3>
<ul>
<li>可以使用&quot;（）&quot;将想提取的子字符串括起来，&quot;（）&quot;实际上标记了一个子表达式的开始和结束位置，被标记的每个子表达式会依次对应每一个分组，调用 group()法传入分组的索引即可获取提取的结果。</li>
</ul>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;Hello 123 4567 World_This is a Regex Demo&#x27;</span>
result0 = re.match(<span class="hljs-string">&#x27;^Hello\s\d\d\d\s\d{4}\s\w{10}&#x27;</span>, content)
result1 = re.match(<span class="hljs-string">&#x27;^Hello\s(\d+)\s(\d+)\sWorld&#x27;</span>, content)
<span class="hljs-built_in">print</span>(result0)
<span class="hljs-built_in">print</span>(result1)
<span class="hljs-built_in">print</span>(result1.group(<span class="hljs-number">1</span>), result1.group(<span class="hljs-number">2</span>))


<span class="hljs-comment"># 输出</span>
&lt;re.Match <span class="hljs-built_in">object</span>; span=(<span class="hljs-number">0</span>, <span class="hljs-number">25</span>), match=<span class="hljs-string">&#x27;Hello 123 4567 World_This&#x27;</span>&gt;
&lt;re.Match <span class="hljs-built_in">object</span>; span=(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>), match=<span class="hljs-string">&#x27;Hello 123 4567 World&#x27;</span>&gt;
<span class="hljs-number">123</span> <span class="hljs-number">4567</span>
</code></pre>
<h3 id="通用匹配">通用匹配</h3>
<ul>
<li>”.*“可以匹配任意长度字符串(换行符除外)。</li>
<li>”.“可以匹配任意字符(换行符除外)</li>
<li>”*“代表匹配前面的字符无限次</li>
</ul>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;Hello 123 4567 World_This is a Regex Demo&#x27;</span>
result = re.match(<span class="hljs-string">&#x27;^Hello\s(\d+)\s(\d+)\s(.*?)Demo$&#x27;</span>, content)
<span class="hljs-built_in">print</span>(result)
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">3</span>))


<span class="hljs-comment"># 输出</span>
&lt;re.Match <span class="hljs-built_in">object</span>; span=(<span class="hljs-number">0</span>, <span class="hljs-number">41</span>), match=<span class="hljs-string">&#x27;Hello 123 4567 World_This is a Regex Demo&#x27;</span>&gt;
World_This <span class="hljs-keyword">is</span> a Regex
</code></pre>
<h3 id="贪婪匹配">贪婪匹配</h3>
<p>使用”.*“通用匹配时，可能会得不到想要的结果：</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;Hello 1234567 World_This is a Regex Demo&#x27;</span>

result = re.match(<span class="hljs-string">&#x27;^He.*(\d+).*Demo$&#x27;</span>, content)
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">1</span>))


<span class="hljs-comment"># 输出</span>
<span class="hljs-number">7</span>
</code></pre>
<p>想要的结果是 123，却输出了 7。这就涉及到贪婪与非贪婪匹配了。</p>
<ul>
<li>在贪婪匹配下， &quot;._&quot;会匹配尽可能多的字符。
所以在上面的正则表达式中，”._“直接匹配到了&#39;Hello 123 456&#39;，&#39;\d&#39;匹配到了&#39;7&#39;。</li>
<li>在非贪婪匹配下， &quot;.<em>&quot;会匹配尽可能少的字符。非贪婪匹配的写法是&quot;.</em>?&quot;。</li>
</ul>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;Hello 123 4567 World_This is a Regex Demo&#x27;</span>
result = re.match(<span class="hljs-string">&#x27;^He.*?(\d+).*Demo$&#x27;</span>, content)
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">1</span>))


<span class="hljs-comment"># 输出</span>
<span class="hljs-number">123</span>
</code></pre>
<p>在做匹配的时候，字符串<strong>中间尽量使用非贪婪匹配</strong>，但需要注意，如果匹配的结果在字符串结尾，&quot;.*?&quot;就有可能匹配不到任何内容了。</p>
<h3 id="修饰符">修饰符</h3>
<p>正则表达式可以包含一些<strong>可选标志修饰符来控制匹配的模式</strong> 。
<img src="https://t1.picb.cc/uploads/2018/11/15/JX62zc.png" alt="enter image description here"></p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;&#x27;&#x27;Hello 123 4567 World_This
          is a Regex Demo&#x27;&#x27;&#x27;</span>
result_none = re.match(<span class="hljs-string">&#x27;^He.*?(\d+).*Demo$&#x27;</span>, content)
<span class="hljs-built_in">print</span>(result_none)

result = re.match(<span class="hljs-string">&#x27;^He.*?(\d+).*Demo$&#x27;</span>, content, re.S)
<span class="hljs-built_in">print</span>(result)


<span class="hljs-comment"># 输出</span>
<span class="hljs-literal">None</span>
&lt;re.Match <span class="hljs-built_in">object</span>; span=(<span class="hljs-number">0</span>, <span class="hljs-number">52</span>), match=<span class="hljs-string">&#x27;Hello 123 4567 World_This \n          is a Regex &gt;</span>
</code></pre>
<h3 id="转义匹配">转义匹配</h3>
<p>当遇到用于正则匹配模式的特殊字符时，在前面加反斜线转义一下即可 。</p>
<h2 id="search">search</h2>
<p>search ()，它在匹配时会扫描整个字符串，然后返回第一个成功匹配的结果 。</p>
<h3 id="search-示例">search 示例</h3>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

html = <span class="hljs-string">&#x27;&#x27;&#x27;&lt;div id=&quot;songs-list&quot;&gt;
    &lt;h2 class=&quot;title&quot;&gt;经典老歌&lt;/h2&gt;
    &lt;p class=&quot;introduction&quot;&gt;
        经典老歌列表
    &lt;/p&gt;
    &lt;ul id=&quot;list&quot; class=&quot;list-group&quot;&gt;
        &lt;li data-view=&quot;2&quot;&gt;一路上有你&lt;/li&gt;
        &lt;li data-view=&quot;7&quot;&gt;
            &lt;a href=&quot;/2.mp3&quot; singer=&quot;任贤齐&quot;&gt;沧海一声笑&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;4&quot; class=&quot;active&quot;&gt;
            &lt;a href=&quot;/3.mp3&quot; singer=&quot;齐秦&quot;&gt;往事随风&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view=&quot;6&quot;&gt;&lt;a href=&quot;/4.mp3&quot; singer=&quot;beyond&quot;&gt;光辉岁月&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view=&quot;5&quot;&gt;&lt;a href=&quot;/5.mp3&quot; singer=&quot;陈慧琳&quot;&gt;记事本&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;&#x27;&#x27;&#x27;</span>

result = re.search(<span class="hljs-string">&#x27;&lt;li.*?singer=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>, html, re.S)
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">1</span>), result.group(<span class="hljs-number">2</span>))
result = re.search(<span class="hljs-string">&#x27;&lt;li.*?href=&quot;(.*?)&quot;\ssinger=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>, html, re.S)
<span class="hljs-comment">#print(result)</span>
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">1</span>), result.group(<span class="hljs-number">2</span>), result.group(<span class="hljs-number">3</span>))


<span class="hljs-comment"># 输出</span>
任贤齐 沧海一声笑
/<span class="hljs-number">2.</span>mp3 任贤齐 沧海一声笑
</code></pre>
<h2 id="findall">findall</h2>
<p>findall()方法会搜索整个字符串然后返回匹配正则表达式的所有内容。</p>
<h3 id="findall-示例">findall 示例</h3>
<pre><code class="hljs language-python">...
...
result = re.search(<span class="hljs-string">&#x27;&lt;li.*?singer=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>, html, re.S)
<span class="hljs-built_in">print</span>(result.group(<span class="hljs-number">1</span>), result.group(<span class="hljs-number">2</span>))
result = re.search(<span class="hljs-string">&#x27;&lt;li.*?href=&quot;(.*?)&quot;\ssinger=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&#x27;</span>, html, re.S)


<span class="hljs-comment"># 输出</span>
任贤齐 沧海一声笑
/<span class="hljs-number">2.</span>mp3 任贤齐 沧海一声笑
/<span class="hljs-number">2.</span>mp3 任贤齐 沧海一声笑
/<span class="hljs-number">3.</span>mp3 齐秦 往事随风
/<span class="hljs-number">4.</span>mp3 beyond 光辉岁月
/<span class="hljs-number">5.</span>mp3 陈慧琳 记事本
</code></pre>
<h2 id="sub">sub</h2>
<p>用来修改/替换文本</p>
<h3 id="sub-使用示例">sub 使用示例</h3>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">import</span> re

content = <span class="hljs-string">&#x27;54ak54yr50ir54ix5L2g&#x27;</span>
content = re.sub(<span class="hljs-string">&#x27;\d&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, content)
<span class="hljs-built_in">print</span>(content)


<span class="hljs-comment"># 输出</span>
akyririxLg
</code></pre>
<h2 id="compile">compile</h2>
<p>compile()可以将正则字符串编译成正则表达式对象，以便在以后的匹配中复用(也可以传入修饰符)。</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> re

content0 = <span class="hljs-string">&#x27;2016-12-15 12:00&#x27;</span>
content1 = <span class="hljs-string">&#x27;2016-12-17 12:55&#x27;</span>
content2 = <span class="hljs-string">&#x27;2016-12-22 13:21&#x27;</span>

pattern = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;\d{2}:\d{2}&#x27;</span>)
result0 = re.sub(pattern, <span class="hljs-string">&#x27;&#x27;</span>, content1)
result1 = re.sub(pattern, <span class="hljs-string">&#x27;&#x27;</span>, content1)
result2 = re.sub(pattern, <span class="hljs-string">&#x27;&#x27;</span>, content2)

<span class="hljs-built_in">print</span>(result0, result1, result2)


<span class="hljs-comment"># 输出</span>
<span class="hljs-number">2016</span>-<span class="hljs-number">12</span>-<span class="hljs-number">17</span>  <span class="hljs-number">2016</span>-<span class="hljs-number">12</span>-<span class="hljs-number">17</span>  <span class="hljs-number">2016</span>-<span class="hljs-number">12</span>-<span class="hljs-number">22</span>
</code></pre>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Python-正则表达式","tags":["Python","正则表达式"],"categories":"Python","description":"# 正则表达式\n\n- 正则表达式匹配，就是按照一定的规则将特定的文本提取出来。\n  ![enter image description here](https://t1.picb.cc/uploads/2018/11/15/JXfxNi.jpg)\n\n## match\n\n- match(0)法会尝试从字符串的**起始位置**匹配正则表达式，如果匹配，就返回匹配成功的结果；如果不匹配，就返回 fa","createDate":"2018-11-15 19:55:58","updateDate":"2021-02-20 17:21:17","body":"\u003ch1 id=\"正则表达式\"\u003e正则表达式\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e正则表达式匹配，就是按照一定的规则将特定的文本提取出来。\n\u003cimg src=\"https://t1.picb.cc/uploads/2018/11/15/JXfxNi.jpg\" alt=\"enter image description here\"\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"match\"\u003ematch\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ematch(0)法会尝试从字符串的\u003cstrong\u003e起始位置\u003c/strong\u003e匹配正则表达式，如果匹配，就返回匹配成功的结果；如果不匹配，就返回 false。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"match-示例\"\u003ematch 示例\u003c/h2\u003e\n\u003ch3 id=\"匹配目标\"\u003e匹配目标\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e可以使用\u0026quot;（）\u0026quot;将想提取的子字符串括起来，\u0026quot;（）\u0026quot;实际上标记了一个子表达式的开始和结束位置，被标记的每个子表达式会依次对应每一个分组，调用 group()法传入分组的索引即可获取提取的结果。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This is a Regex Demo\u0026#x27;\u003c/span\u003e\nresult0 = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^Hello\\s\\d\\d\\d\\s\\d{4}\\s\\w{10}\u0026#x27;\u003c/span\u003e, content)\nresult1 = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^Hello\\s(\\d+)\\s(\\d+)\\sWorld\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result0)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result1)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result1.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e), result1.group(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u0026lt;re.Match \u003cspan class=\"hljs-built_in\"\u003eobject\u003c/span\u003e; span=(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e), match=\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This\u0026#x27;\u003c/span\u003e\u0026gt;\n\u0026lt;re.Match \u003cspan class=\"hljs-built_in\"\u003eobject\u003c/span\u003e; span=(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e), match=\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World\u0026#x27;\u003c/span\u003e\u0026gt;\n\u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4567\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"通用匹配\"\u003e通用匹配\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e”.*“可以匹配任意长度字符串(换行符除外)。\u003c/li\u003e\n\u003cli\u003e”.“可以匹配任意字符(换行符除外)\u003c/li\u003e\n\u003cli\u003e”*“代表匹配前面的字符无限次\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This is a Regex Demo\u0026#x27;\u003c/span\u003e\nresult = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^Hello\\s(\\d+)\\s(\\d+)\\s(.*?)Demo$\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e))\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u0026lt;re.Match \u003cspan class=\"hljs-built_in\"\u003eobject\u003c/span\u003e; span=(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e41\u003c/span\u003e), match=\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This is a Regex Demo\u0026#x27;\u003c/span\u003e\u0026gt;\nWorld_This \u003cspan class=\"hljs-keyword\"\u003eis\u003c/span\u003e a Regex\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"贪婪匹配\"\u003e贪婪匹配\u003c/h3\u003e\n\u003cp\u003e使用”.*“通用匹配时，可能会得不到想要的结果：\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 1234567 World_This is a Regex Demo\u0026#x27;\u003c/span\u003e\n\nresult = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^He.*(\\d+).*Demo$\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e想要的结果是 123，却输出了 7。这就涉及到贪婪与非贪婪匹配了。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e在贪婪匹配下， \u0026quot;._\u0026quot;会匹配尽可能多的字符。\n所以在上面的正则表达式中，”._“直接匹配到了\u0026#39;Hello 123 456\u0026#39;，\u0026#39;\\d\u0026#39;匹配到了\u0026#39;7\u0026#39;。\u003c/li\u003e\n\u003cli\u003e在非贪婪匹配下， \u0026quot;.\u003cem\u003e\u0026quot;会匹配尽可能少的字符。非贪婪匹配的写法是\u0026quot;.\u003c/em\u003e?\u0026quot;。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This is a Regex Demo\u0026#x27;\u003c/span\u003e\nresult = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^He.*?(\\d+).*Demo$\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e在做匹配的时候，字符串\u003cstrong\u003e中间尽量使用非贪婪匹配\u003c/strong\u003e，但需要注意，如果匹配的结果在字符串结尾，\u0026quot;.*?\u0026quot;就有可能匹配不到任何内容了。\u003c/p\u003e\n\u003ch3 id=\"修饰符\"\u003e修饰符\u003c/h3\u003e\n\u003cp\u003e正则表达式可以包含一些\u003cstrong\u003e可选标志修饰符来控制匹配的模式\u003c/strong\u003e 。\n\u003cimg src=\"https://t1.picb.cc/uploads/2018/11/15/JX62zc.png\" alt=\"enter image description here\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u0026#x27;Hello 123 4567 World_This\n          is a Regex Demo\u0026#x27;\u0026#x27;\u0026#x27;\u003c/span\u003e\nresult_none = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^He.*?(\\d+).*Demo$\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result_none)\n\nresult = re.match(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;^He.*?(\\d+).*Demo$\u0026#x27;\u003c/span\u003e, content, re.S)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result)\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u003cspan class=\"hljs-literal\"\u003eNone\u003c/span\u003e\n\u0026lt;re.Match \u003cspan class=\"hljs-built_in\"\u003eobject\u003c/span\u003e; span=(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e52\u003c/span\u003e), match=\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello 123 4567 World_This \\n          is a Regex \u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"转义匹配\"\u003e转义匹配\u003c/h3\u003e\n\u003cp\u003e当遇到用于正则匹配模式的特殊字符时，在前面加反斜线转义一下即可 。\u003c/p\u003e\n\u003ch2 id=\"search\"\u003esearch\u003c/h2\u003e\n\u003cp\u003esearch ()，它在匹配时会扫描整个字符串，然后返回第一个成功匹配的结果 。\u003c/p\u003e\n\u003ch3 id=\"search-示例\"\u003esearch 示例\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\nhtml = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u0026#x27;\u0026lt;div id=\u0026quot;songs-list\u0026quot;\u0026gt;\n    \u0026lt;h2 class=\u0026quot;title\u0026quot;\u0026gt;经典老歌\u0026lt;/h2\u0026gt;\n    \u0026lt;p class=\u0026quot;introduction\u0026quot;\u0026gt;\n        经典老歌列表\n    \u0026lt;/p\u0026gt;\n    \u0026lt;ul id=\u0026quot;list\u0026quot; class=\u0026quot;list-group\u0026quot;\u0026gt;\n        \u0026lt;li data-view=\u0026quot;2\u0026quot;\u0026gt;一路上有你\u0026lt;/li\u0026gt;\n        \u0026lt;li data-view=\u0026quot;7\u0026quot;\u0026gt;\n            \u0026lt;a href=\u0026quot;/2.mp3\u0026quot; singer=\u0026quot;任贤齐\u0026quot;\u0026gt;沧海一声笑\u0026lt;/a\u0026gt;\n        \u0026lt;/li\u0026gt;\n        \u0026lt;li data-view=\u0026quot;4\u0026quot; class=\u0026quot;active\u0026quot;\u0026gt;\n            \u0026lt;a href=\u0026quot;/3.mp3\u0026quot; singer=\u0026quot;齐秦\u0026quot;\u0026gt;往事随风\u0026lt;/a\u0026gt;\n        \u0026lt;/li\u0026gt;\n        \u0026lt;li data-view=\u0026quot;6\u0026quot;\u0026gt;\u0026lt;a href=\u0026quot;/4.mp3\u0026quot; singer=\u0026quot;beyond\u0026quot;\u0026gt;光辉岁月\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n        \u0026lt;li data-view=\u0026quot;5\u0026quot;\u0026gt;\u0026lt;a href=\u0026quot;/5.mp3\u0026quot; singer=\u0026quot;陈慧琳\u0026quot;\u0026gt;记事本\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n    \u0026lt;/ul\u0026gt;\n\u0026lt;/div\u0026gt;\u0026#x27;\u0026#x27;\u0026#x27;\u003c/span\u003e\n\nresult = re.search(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026lt;li.*?singer=\u0026quot;(.*?)\u0026quot;\u0026gt;(.*?)\u0026lt;/a\u0026gt;\u0026#x27;\u003c/span\u003e, html, re.S)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e), result.group(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\nresult = re.search(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026lt;li.*?href=\u0026quot;(.*?)\u0026quot;\\ssinger=\u0026quot;(.*?)\u0026quot;\u0026gt;(.*?)\u0026lt;/a\u0026gt;\u0026#x27;\u003c/span\u003e, html, re.S)\n\u003cspan class=\"hljs-comment\"\u003e#print(result)\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e), result.group(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e), result.group(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e))\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n任贤齐 沧海一声笑\n/\u003cspan class=\"hljs-number\"\u003e2.\u003c/span\u003emp3 任贤齐 沧海一声笑\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"findall\"\u003efindall\u003c/h2\u003e\n\u003cp\u003efindall()方法会搜索整个字符串然后返回匹配正则表达式的所有内容。\u003c/p\u003e\n\u003ch3 id=\"findall-示例\"\u003efindall 示例\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e...\n...\nresult = re.search(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026lt;li.*?singer=\u0026quot;(.*?)\u0026quot;\u0026gt;(.*?)\u0026lt;/a\u0026gt;\u0026#x27;\u003c/span\u003e, html, re.S)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result.group(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e), result.group(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\nresult = re.search(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026lt;li.*?href=\u0026quot;(.*?)\u0026quot;\\ssinger=\u0026quot;(.*?)\u0026quot;\u0026gt;(.*?)\u0026lt;/a\u0026gt;\u0026#x27;\u003c/span\u003e, html, re.S)\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n任贤齐 沧海一声笑\n/\u003cspan class=\"hljs-number\"\u003e2.\u003c/span\u003emp3 任贤齐 沧海一声笑\n/\u003cspan class=\"hljs-number\"\u003e2.\u003c/span\u003emp3 任贤齐 沧海一声笑\n/\u003cspan class=\"hljs-number\"\u003e3.\u003c/span\u003emp3 齐秦 往事随风\n/\u003cspan class=\"hljs-number\"\u003e4.\u003c/span\u003emp3 beyond 光辉岁月\n/\u003cspan class=\"hljs-number\"\u003e5.\u003c/span\u003emp3 陈慧琳 记事本\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"sub\"\u003esub\u003c/h2\u003e\n\u003cp\u003e用来修改/替换文本\u003c/p\u003e\n\u003ch3 id=\"sub-使用示例\"\u003esub 使用示例\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;54ak54yr50ir54ix5L2g\u0026#x27;\u003c/span\u003e\ncontent = re.sub(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\\d\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, content)\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(content)\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\nakyririxLg\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"compile\"\u003ecompile\u003c/h2\u003e\n\u003cp\u003ecompile()可以将正则字符串编译成正则表达式对象，以便在以后的匹配中复用(也可以传入修饰符)。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e re\n\ncontent0 = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;2016-12-15 12:00\u0026#x27;\u003c/span\u003e\ncontent1 = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;2016-12-17 12:55\u0026#x27;\u003c/span\u003e\ncontent2 = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;2016-12-22 13:21\u0026#x27;\u003c/span\u003e\n\npattern = re.\u003cspan class=\"hljs-built_in\"\u003ecompile\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\\d{2}:\\d{2}\u0026#x27;\u003c/span\u003e)\nresult0 = re.sub(pattern, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, content1)\nresult1 = re.sub(pattern, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, content1)\nresult2 = re.sub(pattern, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, content2)\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(result0, result1, result2)\n\n\n\u003cspan class=\"hljs-comment\"\u003e# 输出\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e2016\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e2016\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e17\u003c/span\u003e  \u003cspan class=\"hljs-number\"\u003e2016\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e22\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"Python-正则表达式"},"buildId":"OxTEt_YhStn7hb0to8717","assetPrefix":"/next-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>