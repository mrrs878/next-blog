<!DOCTYPE html><html><head><link rel="icon" href="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/avatar.jpg"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-函数式编程-柯里化/组合</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/d3bd3b56eb8829d9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d3bd3b56eb8829d9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-1e7421553b9673ee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Btitle%5D-216eae5ddb3b6d26.js" defer=""></script><script src="/_next/static/QKdN0HEL1PQlYYT_RlSRw/_buildManifest.js" defer=""></script><script src="/_next/static/QKdN0HEL1PQlYYT_RlSRw/_ssgManifest.js" defer=""></script><script src="/_next/static/QKdN0HEL1PQlYYT_RlSRw/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">函数式编程-柯里化/组合</h1><div class="text-sm space-x-2 text-skin-muted grid grid-cols-5"><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2019-10-15 15:24:40</span><span class="flex align-middle"><svg class="w-5 h-5 inline-block mr-1" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1903" width="20" height="20"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" p-id="1904"></path></svg>10/1/2021, 3:34:43 AM</span><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write"><h1 id="柯里化curry">柯里化(curry)</h1>
<p>只传递给函数一个参数，让它返回一个函数去处理剩下的参数</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;ramda&quot;</span>);
<span class="hljs-keyword">const</span> accounting = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;accounting&quot;</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">match</span>(<span class="hljs-params">reg, str</span>) {
  <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">match</span>(reg);
}
<span class="hljs-keyword">let</span> match_ = _.<span class="hljs-title function_">curry</span>(<span class="hljs-function">(<span class="hljs-params">reg, str</span>) =&gt;</span> str.<span class="hljs-title function_">match</span>(reg));
<span class="hljs-keyword">let</span> replace = _.<span class="hljs-title function_">curry</span>(<span class="hljs-function">(<span class="hljs-params">reg, replacement, str</span>) =&gt;</span> str.<span class="hljs-title function_">replace</span>(reg, replacement));
<span class="hljs-keyword">let</span> filter = _.<span class="hljs-title function_">curry</span>(<span class="hljs-function">(<span class="hljs-params">f, any</span>) =&gt;</span> any.<span class="hljs-title function_">filter</span>(f));
<span class="hljs-keyword">let</span> map = _.<span class="hljs-title function_">curry</span>(<span class="hljs-function">(<span class="hljs-params">f, any</span>) =&gt;</span> any.<span class="hljs-title function_">map</span>(f));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;no curry&quot;</span>, <span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">&quot;hello world&quot;</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;width curry:&quot;</span>, <span class="hljs-title function_">match_</span>(<span class="hljs-regexp">/\s+/g</span>)(<span class="hljs-string">&quot;hello world&quot;</span>)); <span class="hljs-comment">// width curry: [ &#x27; &#x27; ]</span>

<span class="hljs-keyword">let</span> hasSpace = <span class="hljs-title function_">match_</span>(<span class="hljs-regexp">/\s+/g</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hasSpace</span>(<span class="hljs-string">&quot;hello world&quot;</span>)); <span class="hljs-comment">// [ &#x27; &#x27; ]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">match_</span>(<span class="hljs-regexp">/\s+/g</span>)(<span class="hljs-string">&quot;spaceless&quot;</span>)); <span class="hljs-comment">// null</span>

<span class="hljs-keyword">let</span> findSpace = <span class="hljs-title function_">filter</span>(hasSpace);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">findSpace</span>([<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-string">&quot;spaceless&quot;</span>])); <span class="hljs-comment">// [ &#x27;hello world&#x27; ]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">filter</span>(<span class="hljs-title function_">match_</span>(<span class="hljs-regexp">/\s+/g</span>))([<span class="hljs-string">&quot;hello world&quot;</span>, <span class="hljs-string">&quot;spaceless&quot;</span>])); <span class="hljs-comment">// [ &#x27;hello world&#x27; ]</span>

<span class="hljs-keyword">let</span> noVowels = <span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[aeiou]/gi</span>);
<span class="hljs-keyword">let</span> censored = <span class="hljs-title function_">noVowels</span>(<span class="hljs-string">&quot;*&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">censored</span>(<span class="hljs-string">&quot;hello world&quot;</span>)); <span class="hljs-comment">// h*ll* w*rld</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[aeiou]/gi</span>)(<span class="hljs-string">&quot;*&quot;</span>)(<span class="hljs-string">&quot;hello world&quot;</span>)); <span class="hljs-comment">// h*ll* w*rld</span>
</code></pre>
<h1 id="组合compose">组合(compose)</h1>
<p>将多个函数结合产生另一个函数</p>
<ul>
<li>多个函数执行的过程中(<strong>由右致左</strong>)</li>
<li>上一个函数的执行结果是下一个函数的参数</li>
<li>compose 的分组满足结合律, compose(f, g, h) === compose(compose(f, g), h) === compose(f, compose(g, h))</li>
</ul>
<p>((y → z), (x → y), …, (o → p), ((a, b, …, n) → o)) → ((a, b, …, n) → z)</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CARS</span> = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Ferrari FF&quot;</span>, <span class="hljs-attr">horsepower</span>: <span class="hljs-number">660</span>, <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">700000</span>, <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">true</span> },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Spyker C12 Zagato&quot;</span>,
    <span class="hljs-attr">horsepower</span>: <span class="hljs-number">650</span>,
    <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">648000</span>,
    <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">false</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Jaguar XKR-S&quot;</span>,
    <span class="hljs-attr">horsepower</span>: <span class="hljs-number">550</span>,
    <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">132000</span>,
    <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">false</span>
  },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Audi R8&quot;</span>, <span class="hljs-attr">horsepower</span>: <span class="hljs-number">525</span>, <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">114200</span>, <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">false</span> },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Aston Martin One-77&quot;</span>,
    <span class="hljs-attr">horsepower</span>: <span class="hljs-number">750</span>,
    <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">1850000</span>,
    <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">true</span>
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Pagani Huayra&quot;</span>,
    <span class="hljs-attr">horsepower</span>: <span class="hljs-number">700</span>,
    <span class="hljs-attr">dollar_value</span>: <span class="hljs-number">1300000</span>,
    <span class="hljs-attr">in_stock</span>: <span class="hljs-literal">false</span>
  }
];

<span class="hljs-keyword">const</span> isLastInStock = _.<span class="hljs-title function_">compose</span>(
  _.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;in_stock&quot;</span>),
  _.<span class="hljs-property">last</span>
);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isLastInStock</span>(<span class="hljs-variable constant_">CARS</span>));

<span class="hljs-keyword">const</span> firstName = _.<span class="hljs-title function_">compose</span>(
  _.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;name&quot;</span>),
  _.<span class="hljs-property">head</span>
);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">firstName</span>(<span class="hljs-variable constant_">CARS</span>));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">_average</span>(<span class="hljs-params">xs</span>) {
  <span class="hljs-keyword">return</span> _.<span class="hljs-title function_">reduce</span>(_.<span class="hljs-property">add</span>, <span class="hljs-number">0</span>, xs) / xs.<span class="hljs-property">length</span>;
}
<span class="hljs-keyword">var</span> averageDollarValue = <span class="hljs-keyword">function</span>(<span class="hljs-params">cars</span>) {
  <span class="hljs-keyword">var</span> dollar_values = _.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
    <span class="hljs-keyword">return</span> c.<span class="hljs-property">dollar_value</span>;
  }, cars);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">_average</span>(dollar_values);
};

<span class="hljs-keyword">const</span> averageDollarValue_ = _.<span class="hljs-title function_">compose</span>(
  _average,
  _.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">dollar_value</span>)
);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">averageDollarValue_</span>(<span class="hljs-variable constant_">CARS</span>));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">_underscore</span>(<span class="hljs-params">word</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(word);
}
<span class="hljs-keyword">const</span> sanitizeNames = _.<span class="hljs-title function_">compose</span>(
  _.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span>
    _.<span class="hljs-title function_">compose</span>(
      _.<span class="hljs-property">toLower</span>,
      _.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\W+/g</span>, <span class="hljs-string">&quot;_&quot;</span>),
      _.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;name&quot;</span>)
    )(item)
  )
);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sanitizeNames</span>(<span class="hljs-variable constant_">CARS</span>));

<span class="hljs-keyword">const</span> availablePrices = <span class="hljs-keyword">function</span>(<span class="hljs-params">cars</span>) {
  <span class="hljs-keyword">var</span> available_cars = _.<span class="hljs-title function_">filter</span>(_.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;in_stock&quot;</span>), cars);
  <span class="hljs-keyword">return</span> available_cars
    .<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) {
      <span class="hljs-keyword">return</span> accounting.<span class="hljs-title function_">formatMoney</span>(x.<span class="hljs-property">dollar_value</span>);
    })
    .<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;, &quot;</span>);
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">availablePrices</span>(<span class="hljs-variable constant_">CARS</span>));

<span class="hljs-keyword">const</span> availablePrices_ = _.<span class="hljs-title function_">compose</span>(
  _.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;, &quot;</span>),
  _.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> accounting.<span class="hljs-title function_">formatMoney</span>(item.<span class="hljs-property">dollar_value</span>)),
  _.<span class="hljs-title function_">filter</span>(_.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;in_stock&quot;</span>))
);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">availablePrices_</span>(<span class="hljs-variable constant_">CARS</span>));
</code></pre>
<h1 id="pointfree">pointfree</h1>
<p>pointfree 模式指的是函数无须提及将要操作的数据是什么样的</p>
<p>```javascript
// 非pointfree </p>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"函数式编程-柯里化/组合","tags":["tags"],"categories":"函数式编程","description":"# 柯里化(curry)\n\n只传递给函数一个参数，让它返回一个函数去处理剩下的参数\n\n```javascript\nconst _ = require(\"ramda\");\nconst accounting = require(\"accounting\");\n\nfunction match(reg, str) {\n  return str.match(reg);\n}\nlet match_ = _.c","createDate":"2019-10-15 15:24:40","updateDate":"10/1/2021, 3:34:43 AM","body":"\u003ch1 id=\"柯里化curry\"\u003e柯里化(curry)\u003c/h1\u003e\n\u003cp\u003e只传递给函数一个参数，让它返回一个函数去处理剩下的参数\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e _ = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ramda\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e accounting = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;accounting\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ematch\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ereg, str\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e str.\u003cspan class=\"hljs-title function_\"\u003ematch\u003c/span\u003e(reg);\n}\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e match_ = _.\u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereg, str\u003c/span\u003e) =\u0026gt;\u003c/span\u003e str.\u003cspan class=\"hljs-title function_\"\u003ematch\u003c/span\u003e(reg));\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e replace = _.\u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ereg, replacement, str\u003c/span\u003e) =\u0026gt;\u003c/span\u003e str.\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(reg, replacement));\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e filter = _.\u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ef, any\u003c/span\u003e) =\u0026gt;\u003c/span\u003e any.\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(f));\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e map = _.\u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ef, any\u003c/span\u003e) =\u0026gt;\u003c/span\u003e any.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(f));\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;no curry\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003ematch\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\s+/g\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e));\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;width curry:\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003ematch_\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\s+/g\u003c/span\u003e)(\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// width curry: [ \u0026#x27; \u0026#x27; ]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e hasSpace = \u003cspan class=\"hljs-title function_\"\u003ematch_\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\s+/g\u003c/span\u003e);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ehasSpace\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// [ \u0026#x27; \u0026#x27; ]\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ematch_\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\s+/g\u003c/span\u003e)(\u003cspan class=\"hljs-string\"\u003e\u0026quot;spaceless\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// null\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e findSpace = \u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(hasSpace);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003efindSpace\u003c/span\u003e([\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;spaceless\u0026quot;\u003c/span\u003e])); \u003cspan class=\"hljs-comment\"\u003e// [ \u0026#x27;hello world\u0026#x27; ]\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ematch_\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\s+/g\u003c/span\u003e))([\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;spaceless\u0026quot;\u003c/span\u003e])); \u003cspan class=\"hljs-comment\"\u003e// [ \u0026#x27;hello world\u0026#x27; ]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e noVowels = \u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/[aeiou]/gi\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e censored = \u003cspan class=\"hljs-title function_\"\u003enoVowels\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;*\u0026quot;\u003c/span\u003e);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ecensored\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// h*ll* w*rld\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/[aeiou]/gi\u003c/span\u003e)(\u003cspan class=\"hljs-string\"\u003e\u0026quot;*\u0026quot;\u003c/span\u003e)(\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// h*ll* w*rld\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"组合compose\"\u003e组合(compose)\u003c/h1\u003e\n\u003cp\u003e将多个函数结合产生另一个函数\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e多个函数执行的过程中(\u003cstrong\u003e由右致左\u003c/strong\u003e)\u003c/li\u003e\n\u003cli\u003e上一个函数的执行结果是下一个函数的参数\u003c/li\u003e\n\u003cli\u003ecompose 的分组满足结合律, compose(f, g, h) === compose(compose(f, g), h) === compose(f, compose(g, h))\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e((y → z), (x → y), …, (o → p), ((a, b, …, n) → o)) → ((a, b, …, n) → z)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e = [\n  { \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Ferrari FF\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e660\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e700000\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e },\n  {\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Spyker C12 Zagato\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e650\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e648000\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Jaguar XKR-S\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e550\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e132000\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n  },\n  { \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Audi R8\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e525\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e114200\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e },\n  {\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Aston Martin One-77\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e750\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1850000\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;Pagani Huayra\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ehorsepower\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e700\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003edollar_value\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1300000\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ein_stock\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n  }\n];\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e isLastInStock = _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n  _.\u003cspan class=\"hljs-title function_\"\u003eprop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;in_stock\u0026quot;\u003c/span\u003e),\n  _.\u003cspan class=\"hljs-property\"\u003elast\u003c/span\u003e\n);\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eisLastInStock\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e firstName = _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n  _.\u003cspan class=\"hljs-title function_\"\u003eprop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e),\n  _.\u003cspan class=\"hljs-property\"\u003ehead\u003c/span\u003e\n);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003efirstName\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e_average\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003exs\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e _.\u003cspan class=\"hljs-title function_\"\u003ereduce\u003c/span\u003e(_.\u003cspan class=\"hljs-property\"\u003eadd\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, xs) / xs.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n}\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e averageDollarValue = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ecars\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e dollar_values = _.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ec\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e c.\u003cspan class=\"hljs-property\"\u003edollar_value\u003c/span\u003e;\n  }, cars);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e_average\u003c/span\u003e(dollar_values);\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e averageDollarValue_ = _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n  _average,\n  _.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e =\u0026gt;\u003c/span\u003e item.\u003cspan class=\"hljs-property\"\u003edollar_value\u003c/span\u003e)\n);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eaverageDollarValue_\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e_underscore\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eword\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(word);\n}\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e sanitizeNames = _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n  _.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e =\u0026gt;\u003c/span\u003e\n    _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n      _.\u003cspan class=\"hljs-property\"\u003etoLower\u003c/span\u003e,\n      _.\u003cspan class=\"hljs-title function_\"\u003ereplace\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/\\W+/g\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;_\u0026quot;\u003c/span\u003e),\n      _.\u003cspan class=\"hljs-title function_\"\u003eprop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e)\n    )(item)\n  )\n);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003esanitizeNames\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e availablePrices = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ecars\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e available_cars = _.\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(_.\u003cspan class=\"hljs-title function_\"\u003eprop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;in_stock\u0026quot;\u003c/span\u003e), cars);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e available_cars\n    .\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e accounting.\u003cspan class=\"hljs-title function_\"\u003eformatMoney\u003c/span\u003e(x.\u003cspan class=\"hljs-property\"\u003edollar_value\u003c/span\u003e);\n    })\n    .\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;, \u0026quot;\u003c/span\u003e);\n};\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eavailablePrices\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e availablePrices_ = _.\u003cspan class=\"hljs-title function_\"\u003ecompose\u003c/span\u003e(\n  _.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;, \u0026quot;\u003c/span\u003e),\n  _.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e =\u0026gt;\u003c/span\u003e accounting.\u003cspan class=\"hljs-title function_\"\u003eformatMoney\u003c/span\u003e(item.\u003cspan class=\"hljs-property\"\u003edollar_value\u003c/span\u003e)),\n  _.\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(_.\u003cspan class=\"hljs-title function_\"\u003eprop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;in_stock\u0026quot;\u003c/span\u003e))\n);\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eavailablePrices_\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eCARS\u003c/span\u003e));\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"pointfree\"\u003epointfree\u003c/h1\u003e\n\u003cp\u003epointfree 模式指的是函数无须提及将要操作的数据是什么样的\u003c/p\u003e\n\u003cp\u003e```javascript\n// 非pointfree \u003c/p\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"函数式编程-柯里化|组合"},"buildId":"QKdN0HEL1PQlYYT_RlSRw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>