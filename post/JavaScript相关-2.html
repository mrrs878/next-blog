<!DOCTYPE html><html><head><link rel="icon" href="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/avatar.jpg"/><script async="" src="/js/L2Dwidget.min.js"></script><script async="" src="/js/initL2D.js"></script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RSçš„ä¸ªäººåšå®¢-JavaScriptç›¸å…³-2</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/15773988a510c3d3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/15773988a510c3d3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-b927671265afed5e.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-1e7421553b9673ee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/_next/static/chunks/899-1cd3a59abdb8ea18.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Btitle%5D-216eae5ddb3b6d26.js" defer=""></script><script src="/_next/static/WWmO1nPrVpf1h4CB2koba/_buildManifest.js" defer=""></script><script src="/_next/static/WWmO1nPrVpf1h4CB2koba/_ssgManifest.js" defer=""></script><script src="/_next/static/WWmO1nPrVpf1h4CB2koba/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/">é¦–é¡µ</a></li><li class="mx-4 hover:text-yellow"><a href="/categories">åˆ†ç±»</a></li><li class="mx-4 hover:text-yellow"><a href="/tags">æ ‡ç­¾</a></li><li class="ml-4 hover:text-yellow"><a href="/timeline">å½’æ¡£</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">JavaScriptç›¸å…³-2</h1><div class="text-sm space-x-2 text-skin-muted grid grid-cols-5"><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2020-02-12 22:53:13</span><span class="flex align-middle"><svg class="w-5 h-5 inline-block mr-1" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1903" width="20" height="20"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" p-id="1904"></path></svg>2021-05-13 17:47:54</span><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>44</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write">
      <h2>
        <span class="prefix"></span>
        <span class="content">Promise</span>
        <span class="suffix"></span>
      </h2>
    <p><strong>WHAT</strong></p>
<p><strong>Promise</strong> å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆ (æˆ–å¤±è´¥), åŠå…¶ç»“æœå€¼.</p>
<p>å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ</p>
<p><code>Promise</code>å¯èƒ½å¤„äºä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ä¹‹ä¸€ï¼š<code>fulfilled</code>ã€<code>rejected</code>ã€<code>pending</code>ã€‚ç”¨æˆ·å¯ä»¥å¯¹<code>Promise</code>æ·»åŠ å›è°ƒå‡½æ•°æ¥å¤„ç†æ“ä½œæˆåŠŸçš„ç»“æœæˆ–å¤±è´¥çš„åŸå› </p>
<p><strong>WHY</strong></p>
<p>ä¼ ç»Ÿçš„å¼‚æ­¥ç¼–ç¨‹ç¼ºç‚¹éš¾ä»¥å¿å—:</p>
<ul>
<li>ä»£ç è‡ƒè‚¿</li>
<li>å¯è¯»æ€§å·®</li>
<li>è€¦åˆåº¦è¿‡é«˜ï¼Œå¯ç»´æŠ¤æ€§å·®</li>
<li>ä»£ç å¤ç”¨æ€§å·®</li>
<li>åªèƒ½åœ¨å›è°ƒé‡Œå¤„ç†å¼‚å¸¸</li>
</ul>
<pre><code class="hljs language-javascript">è¯·æ±‚<span class="hljs-number">1</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">1</span></span>){
    è¯·æ±‚<span class="hljs-number">2</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">2</span></span>){
        è¯·æ±‚<span class="hljs-number">3</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">3</span></span>){
            è¯·æ±‚<span class="hljs-number">4</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">4</span></span>){
                è¯·æ±‚<span class="hljs-number">5</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">5</span></span>){
                    è¯·æ±‚<span class="hljs-number">6</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">è¯·æ±‚ç»“æœ<span class="hljs-number">6</span></span>){
                        ...
                    })
                })
            })
        })
    })
})

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(è¯·æ±‚<span class="hljs-number">1</span>)
    .<span class="hljs-title function_">then</span>(è¯·æ±‚<span class="hljs-number">2</span>(è¯·æ±‚ç»“æœ<span class="hljs-number">1</span>))
    .<span class="hljs-title function_">then</span>(è¯·æ±‚<span class="hljs-number">3</span>(è¯·æ±‚ç»“æœ<span class="hljs-number">2</span>))
    .<span class="hljs-title function_">then</span>(è¯·æ±‚<span class="hljs-number">4</span>(è¯·æ±‚ç»“æœ<span class="hljs-number">3</span>))
    .<span class="hljs-title function_">then</span>(è¯·æ±‚<span class="hljs-number">5</span>(è¯·æ±‚ç»“æœ<span class="hljs-number">4</span>))
    .<span class="hljs-title function_">catch</span>(å¤„ç†å¼‚å¸¸(å¼‚å¸¸ä¿¡æ¯))
</code></pre>
<p><strong>HOW</strong></p>
<p>å¸¸ç”¨APIï¼š</p>
<ul>
<li><p><code>Promise.resolve(value)</code></p>
<p>è¿”å›ä¸€ä¸ªçŠ¶æ€ç”±ç»™å®šçš„<code>value</code>å†³å®šçš„<code>Promise</code>å¯¹è±¡ã€‚å¦‚æœè¯¥å€¼æ—¶<code>theable</code>ï¼ˆå³å¸¦æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼‰ï¼Œè¿”å›çš„<code>Promise</code>å¯¹è±¡çš„æœ€ç»ˆçŠ¶æ€æ˜¯ç”±<code>then</code>æ–¹æ³•å†³å®šï¼›å¦åˆ™ï¼ˆè¯¥<code>value</code>ä¸ºç©ºã€åŸºæœ¬ç±»å‹æˆ–ä¸å¸¦<code>then</code>æ–¹æ³•çš„å¯¹è±¡ï¼‰è¿”å›çš„<code>Promise</code>å¯¹è±¡çŠ¶æ€ä¸º<code>fulfilled</code>ï¼Œå¹¶ä¸”å°†è¯¥<code>value    </code>ä¼ é€’ç»™å¯¹åº”çš„<code>then</code>æ–¹æ³•ã€‚é€šå¸¸ï¼Œå¦‚æœä¸çŸ¥é“ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯<code>Promise</code>å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>Promsie.resolve(value)</code>æ¥è¿”å›ä¸€ä¸ª<code>Promise</code>å¯¹è±¡ï¼Œè¿™æ ·å°±èƒ½å°†è¯¥<code>value</code>ä»¥<code>Promise</code>å¯¹è±¡å½¢å¼ä½¿ç”¨</p>
</li>
<li><p><code>Promise.reject(value)</code></p>
<p>è¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºå¤±è´¥çš„<code>Promise</code>å¯¹è±¡ï¼Œå¹¶å°†ç»™å®šçš„å¤±è´¥ä¿¡æ¯ä¼ é€’ç»™å¯¹åº”çš„å‡ºå¤„ç†æ–¹æ³•</p>
</li>
<li><p><code>Promise.race(interable)</code></p>
<p>å½“<code>interable</code>å‚æ•°é‡Œçš„ä»»æ„ä¸€ä¸ªå­<code>promise</code>è¢«æ‰§è¡Œå¤±è´¥æˆ–æˆåŠŸåï¼Œçˆ¶<code>promise</code>é©¬ä¸Šä¹Ÿä¼šç”¨å­<code>promise</code>çš„æˆåŠŸè¿”å›å€¼æˆ–å¤±è´¥è¯¦æƒ…ä½œä¸ºå‚æ•°è°ƒç”¨çˆ¶<code>promsie</code>ç»‘å®šçš„ç›¸åº”å¥æŸ„å¹¶è¿”å›è¯¥<code>promsie</code>å¯¹è±¡</p>
</li>
<li><p><code>Promise.all(interable)</code></p>
<p>è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„<code>promise</code>å¯¹è±¡ï¼Œè¯¥<code>promise</code>å¯¹è±¡åœ¨<code>interable</code>å‚æ•°å¯¹è±¡é‡Œæ‰€æœ‰çš„<code>promise</code>å¯¹è±¡éƒ½æˆåŠŸçš„æ—¶å€™æ‰ä¼šè§¦å‘æˆåŠŸï¼Œä¸€æ—¦æœ‰ä»»ä½•ä¸€ä¸ª<code>interable</code>é‡Œçš„<code>promise</code>å¯¹è±¡å¤±è´¥åˆ™ç«‹å³è§¦å‘è¯¥<code>promise</code>å¯¹è±¡çš„å¤±è´¥ã€‚è¿™ä¸ªæ–°çš„<code>promise</code>å¯¹è±¡åœ¨è§¦å‘æˆåŠŸçŠ¶æ€ä»¥åï¼Œä¼šæŠŠä¸€ä¸ªåŒ…å«<code>interable</code>é‡Œæ‰€æœ‰<code>promise</code>è¿”å›å€¼çš„æ•°ç»„ä½œä¸ºæˆåŠŸå›è°ƒçš„è¿”å›å€¼ï¼Œé¡ºåºè·Ÿ<code>interable</code>çš„é¡ºåºä¿æŒä¸€è‡´ï¼›å¦‚æœè¿™ä¸ªæ–°çš„<code>promise</code>å¯¹è±¡å‡ºå‘äº†å¤±è´¥çŠ¶æ€ï¼Œå®ƒä¼šæŠŠ<code>interable</code>é‡Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„<code>promise</code>å¯¹è±¡çš„é”™è¯¯ä¿¡æ¯ä½œä¸ºå®ƒçš„å¤±è´¥é”™è¯¯ä¿¡æ¯ã€‚<code>Promise.all</code>æ–¹æ³•å¸¸ç”¨äºå¤„ç†å¤šä¸ª<code>promise</code>å¯¹è±¡çš„çŠ¶æ€é›†åˆ</p>
</li>
</ul>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>)

fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;./index.html&quot;</span>, { <span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf8&quot;</span> }, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err, data);
})

<span class="hljs-keyword">function</span> <span class="hljs-title function_">_readFile</span>(<span class="hljs-params">path, options</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;./index.html&quot;</span>, options, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span>(err)
        <span class="hljs-title function_">reject</span>(err)
      <span class="hljs-keyword">else</span>
        <span class="hljs-title function_">resolve</span>(data)
    })
  })
}

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">_readFile</span>(<span class="hljs-string">&quot;./index.html&quot;</span>, <span class="hljs-string">&quot;utf8&quot;</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);
  }
})()
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">éå†å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ çš„æ–¹æ³•</span>
        <span class="suffix"></span>
      </h2>
    <p>å¯¹è±¡ï¼š</p>
<ul>
<li><p><code>for</code>å¾ªç¯ ğŸ‘</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> property <span class="hljs-keyword">in</span> obj)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(property)
</code></pre>
<p>ç¼ºç‚¹ï¼šä¼šéå†åˆ°å®ƒçš„ç»§æ‰¿å±æ€§ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦åŠ å…¥<code>obj.hasOwnProperty(property)</code></p>
</li>
<li><p><code>Object.keys(obj).forEach()</code> ğŸ‘</p>
<pre><code class="hljs language-javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">property</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(property)
})
</code></pre>
<p><code>Object.keys</code>è¿”å›ä¸€ä¸ªæœ‰ç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§ç»„æˆçš„æ•°ç»„</p>
</li>
<li><p><code>Object.getOwnPropertyNames(obj).forEach</code> ğŸ‘</p>
<pre><code class="hljs language-javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">property</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(property)
})
</code></pre>
<p><code>Object.getOwnPropertyNames</code>è¿”å›ä¸€ä¸ªç”±æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ä½†ä¸åŒ…æ‹¬<code>Symbol</code>å€¼ä½œä¸ºåç§°çš„å±æ€§ï¼‰ç»„æˆçš„æ•°ç»„</p>
</li>
<li><p><code>Reflect.ownKeys(target)</code> ğŸ‘</p>
<p>åŸºæœ¬ç­‰åŒäº<code>Object.getOwnPeopertyNames</code> + <code>Object.getOwnPropertySymbols</code></p>
</li>
</ul>
<p>æ•°ç»„ï¼š<strong>å„å–æ‰€éœ€</strong></p>
<ul>
<li><p><code>for</code>å¾ªç¯</p>
<p>æ™®é€šéå†æ–¹æ³•ï¼Œè¾ƒå¸¸ç”¨</p>
</li>
<li><p><code>arr.forEach</code></p>
<p>ç›¸è¾ƒäº<code>for</code>ï¼Œ<code>forEach</code>ä¸å¯æå‰ç»“æŸå¾ªç¯</p>
</li>
<li><p><code>arr.map/reduce</code></p>
</li>
</ul>

      <h2>
        <span class="prefix"></span>
        <span class="content">å¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡</span>
        <span class="suffix"></span>
      </h2>
    <p><strong>å¯å˜å¯¹è±¡</strong>åœ¨åˆ›å»ºä¹‹åæ˜¯å¯ä»¥è¢«æ”¹å˜çš„</p>
<p><strong>ä¸å¯å˜å¯¹è±¡</strong>åœ¨åˆ›å»ºä¹‹åæ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„</p>
<ol>
<li>åœ¨<code>JavaScript</code>ä¸­ï¼Œ<code>string</code>å’Œ<code>number</code>ä»è®¾è®¡ä¹‹åˆå°±æ˜¯ä¸å¯å˜çš„ï¼ˆimmediateï¼‰</li>
<li>ä¸å¯å˜å¯¹è±¡æ˜¯ä¿æŒä¸€ä¸ªå¯¹è±¡çŠ¶æ€ä¸å˜ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æ˜¯çš„å¼€å‘æ›´åŠ ç®€å•ã€å¯å›æº¯ã€æµ‹è¯•å‹å¥½ï¼Œå‡å°‘äº†ä»»ä½•å¯èƒ½çš„å‰¯ä½œç”¨ã€‚ä½†æ˜¯ï¼Œæ¯å½“æƒ³æ·»åŠ ç‚¹ä¸œè¥¿åˆ°ä¸€ä¸ªä¸å¯å˜å¯¹è±¡é‡Œæ—¶ï¼Œå®ƒä¸€å®šæ˜¯å…ˆæ‹·è´å·²å­˜åœ¨çš„å€¼åˆ°æ–°å®ä¾‹é‡Œï¼Œç„¶åå†ç»™æ–°å®ä¾‹æ·»åŠ å†…å®¹ï¼Œæœ€åè¿”å›æ–°å®ä¾‹ã€‚ç›¸æ¯”å¯å˜å¯¹è±¡ï¼Œè¿™åŠ¿å¿…ä¼šæœ‰æ›´å¤šå†…å­˜ã€è®¡ç®—é‡æ¶ˆè€—</li>
</ol>
<p>åˆ›å»ºä¸€ä¸ªçº¯å‡½æ•°ï¼ˆpure functionï¼‰</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> student = {
    <span class="hljs-attr">school</span>: <span class="hljs-string">&quot;baidu&quot;</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tom&quot;</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateStudent</span>(<span class="hljs-params">student, name, age</span>) {
    <span class="hljs-keyword">return</span> {
        ...student,
        name,
        age
    }
}
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">åŒæ­¥å‡½æ•°å’Œå¼‚æ­¥å‡½æ•°</span>
        <span class="suffix"></span>
      </h2>
    <p>åŒæ­¥å‡½æ•°é˜»å¡ï¼Œå¼‚æ­¥å‡½æ•°ä¸é˜»å¡ã€‚åœ¨åŒæ­¥å‡½æ•°ä¸­ï¼Œè¯­å¥å®Œæˆåä¸‹ä¸€å¥æ‰æ‰§è¡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¨‹åºå¯ä»¥æŒ‰ç…§è¯­å¥çš„é¡ºåºè¿›è¡Œç²¾ç¡®è¯„ä¼°ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªè¯­å¥éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œé‚£ä¹ˆç¨‹åºçš„æ‰§è¡Œä¼šåœæ»å¾ˆé•¿æ—¶é—´</p>
<p>å¼‚æ­¥å‡½æ•°é€šå¸¸æ¥å—å›è°ƒä½œä¸ºå‚æ•°ï¼Œåœ¨è°ƒç”¨å¼‚æ­¥å‡½æ•°åç«‹å³ç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œã€‚å›è°ƒå‡½æ•°ä»…åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¸”è°ƒç”¨å †æ ˆä¸ºç©ºæ—¶è°ƒç”¨ï¼Œè¯¸å¦‚ä»webæœåŠ¡å™¨åŠ è½½æ•°æ®æˆ–æŸ¥è¯¢æ•°æ®åº“ç­‰é‡è´Ÿè½½æ“ä½œåº”è¯¥å¼‚æ­¥å®Œæˆï¼Œä»¥ä¾¿ä¸»çº¿ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œè€Œä¸ä¼šå‡ºç°ä¸€ç›´é˜»å¡</p>
<p>åœ¨JavaScriptä¸­å¼‚æ­¥å‡½æ•°çš„è§£å†³æ–¹æ¡ˆé€šå¸¸æœ‰callbackã€Promiseã€async/await</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">JavaScriptæ‰§è¡Œæœºåˆ¶</span>
        <span class="suffix"></span>
      </h2>
    <ul>
<li><p><strong>JavaScriptçš„æ‰§è¡Œä¸è¿è¡Œ</strong></p>
<p>æ‰§è¡Œå’Œä¸è¿è¡Œä¸å¤ªç›¸åŒï¼Œåœ¨ä¸åŒç¯å¢ƒä¸‹ï¼Œæ¯”å¦‚Nodeã€æµè§ˆå™¨ä¸‹ï¼ŒJavaScriptçš„æ‰§è¡Œç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼›è€Œè¿è¡Œå¤§å¤šæ˜¯æŒ‡åŸºäºJavaScriptå¼•æ“ï¼Œå¦‚V8ï¼Œç»“æœæ˜¯ä¸€è‡´çš„ </p>
</li>
<li><p><strong>å…³äºJavaScript</strong></p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScriptæ˜¯ä¸€é—¨<strong>å•çº¿ç¨‹</strong>ã€<strong>å¼‚æ­¥æ‰§è¡Œ</strong>çš„è¯­è¨€ï¼Œè™½ç„¶åœ¨HTML5ä¸­æå‡ºäº†<strong>web workers</strong>ï¼ˆå¯ä»¥ç†è§£ä¸º<strong>æµè§ˆå™¨</strong>ä¸ºJavaScriptå¼€çš„â€œå¤–æŒ‚â€ï¼‰ï¼Œä½†JavaScriptæ˜¯å•çº¿ç¨‹è¿è¡Œçš„è¿™ä¸€æ ¸å¿ƒä»æœªæ”¹å˜ï¼Œæ‰€æœ‰å¤šçº¿ç¨‹éƒ½æ˜¯é€šè¿‡å•çº¿ç¨‹<strong>æ¨¡æ‹Ÿ</strong>å‡ºæ¥çš„</p>
</li>
<li><p><strong>JavaScriptä¸­çš„å¼‚æ­¥</strong> <strong>event-loop</strong></p>
<p>JavaScriptä¸­çš„å¼‚æ­¥ä¸»è¦é€šè¿‡<strong>event loop</strong>è¿›è¡Œæ¨¡æ‹Ÿå½“æˆ‘ä»¬æ‰§è¡ŒJavaScriptä»£ç çš„æ—¶å€™å…¶å®å°±æ˜¯å¾€æ‰§è¡Œæ ˆä¸­æ”¾å…¥å‡½æ•°ï¼Œé‚£ä¹ˆé‡åˆ°å¼‚æ­¥ä»£ç æ€ä¹ˆåŠï¼Ÿå…¶å®å½“é‡åˆ°å¼‚æ­¥ä»£ç æ—¶ï¼Œä¼šè¢«æŒ‚èµ·å¹¶åœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™åŠ å…¥åˆ°<strong>Task</strong>ï¼ˆæœ‰å¤šç§Taskï¼‰é˜Ÿåˆ—ä¸­ã€‚ä¸€æ—¦æ‰§è¡Œæ ˆä¸ºç©ºï¼Œ<strong>event loop</strong>å°±ä¼šä»<strong>Task</strong>ä¸­æ‹¿å‡ºéœ€è¦æ‰§è¡Œçš„ä»£ç å¹¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šè¯´JavaScriptä¸­çš„å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¡Œä¸º</p>
</li>
<li><p><strong>æµè§ˆå™¨ä¸­çš„event loop</strong></p>
<p>æ¥è‡ªä¸åŒçš„<strong>ä»»åŠ¡æº</strong>çš„ä»»åŠ¡ä¼šè¢«åˆ†é…åˆ°ä¸åŒçš„Taské˜Ÿåˆ—ä¸­ï¼Œä»»åŠ¡æºå¯ä»¥åˆ†ä¸º<strong>å¾®ä»»åŠ¡ï¼ˆmicro taskï¼‰</strong>å’Œ<strong>å®ä»»åŠ¡ï¼ˆmacro taskï¼‰</strong>ã€‚åœ¨ES6è§„èŒƒä¸­ï¼Œå¾®ä»»åŠ¡è¢«ç§°ä¸ºjobsï¼Œå®ä»»åŠ¡è¢«ç§°ä¸ºtask</p>
<p>å¾®ä»»åŠ¡åŒ…æ‹¬ï¼š<code>precess.nextTick</code>ã€<code>promise</code>ã€<code>Mutation Observer</code></p>
<p>å®ä»»åŠ¡åŒ…æ‹¬ï¼š<code>script</code>ã€<code>setTimeout</code>ã€<code>setInterval</code>ã€<code>setImmediate</code>ã€<code>I/O</code>ã€UI Rendering</p>
<p><strong>å®ä»»åŠ¡ä¸­åŒ…å«äº†<code>script</code>ï¼Œå› æ­¤æµè§ˆå™¨ä¼šå…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥ç”±å¼‚æ­¥ä»£ç çš„è¯æ‰ä¼šå…ˆæ‰§è¡Œå¾®ä»»åŠ¡</strong></p>
<p><strong>event loopæ‰§è¡Œé¡ºåº</strong>ï¼š</p>
<ol>
<li>å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¿™å±äºå®ä»»åŠ¡</li>
<li>å½“<strong>æ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»£ç </strong>åæ‰§è¡Œæ ˆä¸ºç©ºï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰å¼‚æ­¥ä»£ç éœ€è¦æ‰§è¡Œ</li>
<li><strong>æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</strong></li>
<li>å½“æ‰§è¡Œå®Œæ‰€æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœ‰å¿…è¦ä¼šæ¸²æŸ“é¡µé¢</li>
<li>ç„¶åå¼€å§‹ä¸‹ä¸€è½®<code>event loop</code>ï¼Œæ‰§è¡Œå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç ä¹Ÿå°±æ˜¯<code>setTimeout</code>ï¼ˆå®ä»»åŠ¡ï¼‰ä¸­çš„å›è°ƒå‡½æ•°</li>
</ol>
<p><img src="http://mrrsblog.oss-cn-shanghai.aliyuncs.com/browser_event_loop.png" alt="æµè§ˆå™¨ä¸­çš„event loop"></p>
<p><img src="http://mrrsblog.oss-cn-shanghai.aliyuncs.com/browser_event_loop2.png" alt="æµè§ˆå™¨ä¸­çš„event loop"></p>
<pre><code class="hljs language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
  });
});
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
  <span class="hljs-title function_">resolve</span>(<span class="hljs-number">5</span>);
}).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);
});
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">6</span>);
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">7</span>);

<span class="hljs-comment">// 1 4 7 5 2 3 6</span>
</code></pre>
</li>
<li><p><strong>Node.jsä¸­çš„event loop</strong></p>
<p>Node.jsä¸­çš„<code>event loop</code>åˆ†ä¸º6ä¸ªé˜¶æ®µï¼Œä»–ä»¬ä¼šæŒ‰ç…§é¡ºåºåå¤è¿è¡Œã€‚æ¯å½“è¿›å…¥æŸä¸€ä¸ªé˜¶æ®µçš„æ—¶å€™éƒ½ä¼šä»å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—ä¸­å–å‡ºå‡½æ•°å»æ‰§è¡Œã€‚å½“<strong>é˜Ÿåˆ—ä¸ºç©º</strong>æˆ–è€…<strong>æ‰§è¡Œçš„å›è°ƒå‡½æ•°æ•°é‡åˆ°è¾¾ç³»ç»Ÿè®¾å®šçš„é˜ˆå€¼</strong>ï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€é˜¶æ®µ</p>
<p><img src="http://mrrsblog.oss-cn-shanghai.aliyuncs.com/node_event_loop.png" alt="Node.jsä¸­çš„event loop"></p>
<ol>
<li><p><strong>timers</strong></p>
<p><strong>timers</strong>é˜¶æ®µä¼šæ‰§è¡Œ<code>setTimeout</code>å’Œ<code>setinterval</code>å›è°ƒï¼Œå¹¶ä¸”æ˜¯ç”±<strong>poll</strong>é˜¶æ®µæ§åˆ¶çš„ã€‚åŒæ ·åœ¨<code>Node.js</code>ä¸­å®šæ—¶å™¨æŒ‡å®šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯å‡†ç¡®æ—¶é—´ï¼Œåªæ˜¯å°½å¿«æ‰§è¡Œ</p>
</li>
<li><p><strong>I/O</strong></p>
<p><strong>I/O</strong>é˜¶æ®µä¼šå¤„ç†ä¸€äº›ä¸Šä¸€è½®å¾ªç¯ä¸­å°‘è®¸æœªæ‰§è¡Œçš„<strong>I/O</strong>å›è°ƒ</p>
</li>
<li><p><strong>idle,prepare</strong></p>
</li>
<li><p><strong>poll</strong></p>
<p><strong>poll</strong>æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é˜¶æ®µï¼Œåœ¨è¿™ä¸€é˜¶æ®µä¸­ï¼Œç³»ç»Ÿä¼šåšä¸¤ä»¶äº‹æƒ…</p>
<ol>
<li><p>å›åˆ°<strong>timer</strong>é˜¶æ®µæ‰§è¡Œå›è°ƒ</p>
</li>
<li><p>æ‰§è¡Œ<strong>I/O</strong>å›è°ƒï¼Œå¹¶ä¸”åœ¨è¿›å…¥è¯¥é˜¶æ®µæ—¶å¦‚æœæ²¡æœ‰è®¾å®šäº†<strong>timer</strong>çš„è¯ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹ä¸¤ä»¶äº‹æƒ…</p>
</li>
</ol>
<ul>
<li>å¦‚æœ<strong>poll</strong>é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œä¼šéå†å›è°ƒé˜Ÿåˆ—å¹¶åŒæ­¥æ‰§è¡Œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…è¾¾åˆ°ç³»ç»Ÿé™åˆ¶</li>
<li>å¦‚æœ<strong>poll</strong>é˜Ÿåˆ—ä¸ºç©º<ul>
<li>å¦‚æœæœ‰<code>setImmediate</code>å›è°ƒéœ€è¦æ‰§è¡Œï¼Œ<strong>poll</strong>é˜¶æ®µä¼šåœæ­¢å¹¶ä¸”<strong>è¿›å…¥åˆ°checké˜¶æ®µ</strong>æ‰§è¡Œå›è°ƒ</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œä¼šç­‰å¾…å›è°ƒè¢«åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­å¹¶ç«‹å³æ‰§è¡Œå›è°ƒï¼Œè¿™é‡ŒåŒæ ·ä¼šæœ‰ä¸ªè¶…æ—¶æ—¶é—´é˜²æ­¢ä¸€ç›´ç­‰å¾…ä¸‹å»</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>check</strong></p>
<p>æ‰§è¡Œ<code>setImmediate</code></p>
</li>
<li><p><strong>close callbacks</strong></p>
<p>æ‰§è¡Œcloseäº‹ä»¶</p>
</li>
</ol>
<p><img src="http://mrrsblog.oss-cn-shanghai.aliyuncs.com/node_event_loop2.png" alt="Node.jsä¸­çš„event loop"></p>
</li>
</ul>

      <h2>
        <span class="prefix"></span>
        <span class="content">ES6çš„ç±»å’ŒES6çš„æ„é€ å‡½æ•°çš„åŒºåˆ«</span>
        <span class="suffix"></span>
      </h2>
    <p>åœ¨æ™®é€šä½¿ç”¨ä¸­æ²¡æœ‰åŒºåˆ«ï¼š</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name
    }
}
</code></pre>
<p>ä¸»è¦åŒºåˆ«åœ¨äºç±»ç»§æ‰¿ä¸Šï¼š</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name, id</span>) {
    <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, name)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id
}
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Student</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span> {
    <span class="hljs-title function_">consreuctor</span>(<span class="hljs-params">name, id</span>) {
        <span class="hljs-variable language_">super</span>(name)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id
    }
}
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">æ‰©å±•è¿ç®—ç¬¦å’Œå‰©ä½™å‚æ•°è¯­å¥çš„åŒºåˆ«</span>
        <span class="suffix"></span>
      </h2>
    <p>åœ¨å‡½æ•°æ³›å‹ç¼–ç æ—¶ï¼ŒES6çš„æ‰©å±•è¿ç®—ç¬¦éå¸¸æœ‰ç”¨å—ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºæ•°ç»„å’Œå¯¹è±¡çš„æ‹·è´ï¼Œè€Œæ— éœ€ä½¿ç”¨<code>Object.create</code>ã€<code>slice</code>æˆ–å…¶ä»–å‡½æ•°åº“ã€‚</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">return</span> [ ...arr, <span class="hljs-string">&quot;test&quot;</span> ]
}

<span class="hljs-keyword">const</span> result = <span class="hljs-title function_">test</span>([<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>])
<span class="hljs-comment">// [&quot;hello&quot;, &quot;world&quot;, &quot;test&quot;]</span>

<span class="hljs-keyword">const</span> person = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;tom&quot;</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>
}
<span class="hljs-keyword">const</span> copyPerson = { ...person }
</code></pre>
<p>ES6çš„å‰©ä½™å‚æ•°è¯­å¥æä¾›äº†ä¸€ä¸ªç®€å†™ï¼Œå…è®¸æˆ‘ä»¬å°†ä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ª<strong>æ•°ç»„</strong>ï¼Œå®ƒå°±åƒæ‰©å±•è¿ç®—ç¬¦è¯­æ³•çš„åé¢ï¼Œå°†æ•°æ®æ”¶é›†åˆ°æ•°ç»„ä¸­è€Œä¸æ˜¯è§£æ„æ•°ç»„ã€‚å‰©ä½™å‚æ•°è¯­å¥åœ¨å‡½æ•°å‚æ•°ã€æ•°ç»„å’Œå¯¹è±¡çš„è§£æ„èµ‹å€¼ä¸­æœ‰å¾ˆå¤§ä½œç”¨</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">...numbers</span>) {
    <span class="hljs-keyword">return</span> numbers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x + <span class="hljs-number">5</span>)
}

<span class="hljs-keyword">const</span> result1 = <span class="hljs-title function_">test</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
<span class="hljs-comment">// [6, 7, 8, 9]</span>
<span class="hljs-keyword">const</span> result2 = <span class="hljs-title function_">test</span>(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>)
<span class="hljs-comment">// [10, 11, 12, 13, 14]</span>

<span class="hljs-keyword">const</span> [ a, b, ...rest ] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
<span class="hljs-comment">// 1 2 [ 3, 4 ]</span>
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">å†…ç½®ç±»å‹</span>
        <span class="suffix"></span>
      </h2>
    <p>JavaScriptä¸­åˆ†ä¸º<strong>ä¸ƒç§</strong>å†…ç½®ç±»å‹ï¼Œå…¶ä¸­å†…ç½®ç±»å‹åˆåˆ†ä¸ºä¸¤å¤§ç±»å‹ï¼š<strong>åŸºæœ¬ç±»å‹</strong>å’Œ<strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆå¯¹è±¡ Objectï¼‰</p>
<p>åŸºæœ¬ç±»å‹ï¼š<code>null</code>ã€<code>undefined</code>ã€<code>boolean</code>ã€<code>number</code>ã€<code>string</code>ã€<code>symbol</code></p>
<p>å…¶ä¸­JavaScriptçš„æ•°å­—ç±»å‹æ˜¯æµ®ç‚¹ç±»å‹çš„ï¼Œæ²¡æœ‰æ•´å½¢ã€‚å¹¶ä¸”æµ®ç‚¹ç±»å‹åŸºäº IEEE 754 æ ‡å‡†å®ç°ï¼Œåœ¨ä½¿ç”¨ä¸­ä¼šé‡åˆ°æŸäº› <a href="#2">Bug </a><code>NaN</code>ä¹Ÿå±äº<code>number</code>ç±»å‹å¹¶ä¸”<code>NaN</code>å¹¶ä¸ç­‰äºè‡ªèº«</p>
<p>å¯¹äºåŸºæœ¬ç±»å‹æ¥è¯´ï¼Œå¦‚æœä½¿ç”¨å­—é¢é‡çš„æ–¹å¼ï¼Œé‚£ä¸ªè¿™ä¸ªå˜é‡åªæ˜¯ä¸ªå­—é¢é‡ï¼Œåªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä¼šè½¬æ¢æˆå¯¹åº”çš„ç±»å‹</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">111</span> <span class="hljs-comment">// è¿™åªæ˜¯å­—é¢é‡ï¼Œä¸æ˜¯numberç±»å‹</span>
a.<span class="hljs-title function_">toString</span>() <span class="hljs-comment">// ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè½¬æ¢ä¸ºå¯¹è±¡ç±»å‹</span>
</code></pre>
<p>å¼•ç”¨ç±»å‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šé‡åˆ°æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">Typeof</span>
        <span class="suffix"></span>
      </h2>
    <p><code>typeof</code>å¯¹äºåŸºæœ¬ç±»å‹ï¼Œé™¤äº†<code>null</code>éƒ½å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„ç±»å‹</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">typeof</span> <span class="hljs-number">1</span> <span class="hljs-comment">// number</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-string">&#x27;1&#x27;</span> <span class="hljs-comment">// string</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span> <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// boolean</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span>() <span class="hljs-comment">// symbol</span>
</code></pre>
<p><code>typeof</code>å¯¹äºå¯¹è±¡ï¼Œé™¤äº†å‡½æ•°éƒ½ä¼šæ˜¾ç¤º<code>object</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">typeof</span> [] <span class="hljs-comment">// object</span>
<span class="hljs-keyword">typeof</span> {} <span class="hljs-comment">// object</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span> <span class="hljs-comment">// function</span>

<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span> <span class="hljs-comment">// object</span>
</code></pre>
<p>å…³äºä¸ºä»€ä¹ˆ<code>typeof null == object</code>ï¼šåœ¨JavaScriptçš„æœ€åˆç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨çš„æ˜¯32ä¸ºç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨äº†å˜é‡çš„ç±»å‹ä¿¡æ¯ã€‚<code>000</code>å¼€å¤´çš„ä»£è¡¨æ˜¯å¯¹è±¡ï¼Œç„¶è€Œ<code>null</code>è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º<code>object</code></p>
<p>å¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªæ­£ç¡®çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨<code>Object.prototype.toString.call(xxx)</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">instanceof</span>
        <span class="suffix"></span>
      </h2>
    <p><code>instance</code>å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ­£ç¡®çš„æ‰¾åˆ°ç±»å‹çš„<code>prototype</code></p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">instanceof</span>(<span class="hljs-params">left, right</span>) {
    <span class="hljs-keyword">let</span> prototype = right.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
    left = left.<span class="hljs-property">__proto__</span>
    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) {
        <span class="hljs-keyword">if</span> (left === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        <span class="hljs-keyword">if</span> (prototypr === left)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        left = left.<span class="hljs-property">__proto__</span>
    }
}
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">new</span>
        <span class="suffix"></span>
      </h2>
    <p>åœ¨è°ƒç”¨<code>new</code>çš„è¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿä»¥ä¸‹å››ä»¶äº‹æƒ…</p>
<ol>
<li>æ–°ç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡</li>
<li>ç»‘å®šåˆ°åŸå‹</li>
<li>ç»‘å®š<code>this</code></li>
<li>è¿”å›æ–°å¯¹è±¡</li>
</ol>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">let</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>()
    <span class="hljs-keyword">let</span> <span class="hljs-title class_">Con</span> = [].<span class="hljs-property">shift</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>)
    obj.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Con</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
    <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">Con</span>.<span class="hljs-title function_">apply</span>(obj, <span class="hljs-variable language_">arguments</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">&#x27;object&#x27;</span> ? result : obj
}
</code></pre>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>Â©<!-- --> <!-- -->2022</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"JavaScriptç›¸å…³-2","tags":["Javascript","åŸºç¡€"],"categories":"JavaScript","description":"## Promise\n\n**WHAT**\n\n**Promise** å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆ (æˆ–å¤±è´¥), åŠå…¶ç»“æœå€¼.\n\nå¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ\n\n`Promise`å¯èƒ½å¤„äºä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ä¹‹ä¸€ï¼š`fulfilled`ã€`rejected`ã€`pending`ã€‚ç”¨æˆ·å¯ä»¥å¯¹`Promise`æ·»åŠ å›è°ƒå‡½æ•°æ¥å¤„ç†æ“ä½œæˆåŠŸçš„ç»“æœæˆ–å¤±è´¥çš„åŸå› \n\n**WHY**\n\nä¼ ç»Ÿçš„å¼‚æ­¥ç¼–ç¨‹ç¼ºç‚¹éš¾ä»¥å¿å—:","createDate":"2020-02-12 22:53:13","updateDate":"2021-05-13 17:47:54","body":"\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003ePromise\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003e\u003cstrong\u003eWHAT\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003ePromise\u003c/strong\u003e å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆ (æˆ–å¤±è´¥), åŠå…¶ç»“æœå€¼.\u003c/p\u003e\n\u003cp\u003eå¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ePromise\u003c/code\u003eå¯èƒ½å¤„äºä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ä¹‹ä¸€ï¼š\u003ccode\u003efulfilled\u003c/code\u003eã€\u003ccode\u003erejected\u003c/code\u003eã€\u003ccode\u003epending\u003c/code\u003eã€‚ç”¨æˆ·å¯ä»¥å¯¹\u003ccode\u003ePromise\u003c/code\u003eæ·»åŠ å›è°ƒå‡½æ•°æ¥å¤„ç†æ“ä½œæˆåŠŸçš„ç»“æœæˆ–å¤±è´¥çš„åŸå› \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWHY\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eä¼ ç»Ÿçš„å¼‚æ­¥ç¼–ç¨‹ç¼ºç‚¹éš¾ä»¥å¿å—:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eä»£ç è‡ƒè‚¿\u003c/li\u003e\n\u003cli\u003eå¯è¯»æ€§å·®\u003c/li\u003e\n\u003cli\u003eè€¦åˆåº¦è¿‡é«˜ï¼Œå¯ç»´æŠ¤æ€§å·®\u003c/li\u003e\n\u003cli\u003eä»£ç å¤ç”¨æ€§å·®\u003c/li\u003e\n\u003cli\u003eåªèƒ½åœ¨å›è°ƒé‡Œå¤„ç†å¼‚å¸¸\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003eè¯·æ±‚\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\u003c/span\u003e){\n    è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003c/span\u003e){\n        è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\u003c/span\u003e){\n            è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003c/span\u003e){\n                è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\u003c/span\u003e){\n                    è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eè¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e\u003c/span\u003e){\n                        ...\n                    })\n                })\n            })\n        })\n    })\n})\n\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e(è¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e(è¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e(è¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e))\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(è¯·æ±‚\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e(è¯·æ±‚ç»“æœ\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))\n    .\u003cspan class=\"hljs-title function_\"\u003ecatch\u003c/span\u003e(å¤„ç†å¼‚å¸¸(å¼‚å¸¸ä¿¡æ¯))\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eHOW\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eå¸¸ç”¨APIï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ePromise.resolve(value)\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eè¿”å›ä¸€ä¸ªçŠ¶æ€ç”±ç»™å®šçš„\u003ccode\u003evalue\u003c/code\u003eå†³å®šçš„\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡ã€‚å¦‚æœè¯¥å€¼æ—¶\u003ccode\u003etheable\u003c/code\u003eï¼ˆå³å¸¦æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼‰ï¼Œè¿”å›çš„\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡çš„æœ€ç»ˆçŠ¶æ€æ˜¯ç”±\u003ccode\u003ethen\u003c/code\u003eæ–¹æ³•å†³å®šï¼›å¦åˆ™ï¼ˆè¯¥\u003ccode\u003evalue\u003c/code\u003eä¸ºç©ºã€åŸºæœ¬ç±»å‹æˆ–ä¸å¸¦\u003ccode\u003ethen\u003c/code\u003eæ–¹æ³•çš„å¯¹è±¡ï¼‰è¿”å›çš„\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡çŠ¶æ€ä¸º\u003ccode\u003efulfilled\u003c/code\u003eï¼Œå¹¶ä¸”å°†è¯¥\u003ccode\u003evalue    \u003c/code\u003eä¼ é€’ç»™å¯¹åº”çš„\u003ccode\u003ethen\u003c/code\u003eæ–¹æ³•ã€‚é€šå¸¸ï¼Œå¦‚æœä¸çŸ¥é“ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨\u003ccode\u003ePromsie.resolve(value)\u003c/code\u003eæ¥è¿”å›ä¸€ä¸ª\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡ï¼Œè¿™æ ·å°±èƒ½å°†è¯¥\u003ccode\u003evalue\u003c/code\u003eä»¥\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡å½¢å¼ä½¿ç”¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ePromise.reject(value)\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eè¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºå¤±è´¥çš„\u003ccode\u003ePromise\u003c/code\u003eå¯¹è±¡ï¼Œå¹¶å°†ç»™å®šçš„å¤±è´¥ä¿¡æ¯ä¼ é€’ç»™å¯¹åº”çš„å‡ºå¤„ç†æ–¹æ³•\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ePromise.race(interable)\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eå½“\u003ccode\u003einterable\u003c/code\u003eå‚æ•°é‡Œçš„ä»»æ„ä¸€ä¸ªå­\u003ccode\u003epromise\u003c/code\u003eè¢«æ‰§è¡Œå¤±è´¥æˆ–æˆåŠŸåï¼Œçˆ¶\u003ccode\u003epromise\u003c/code\u003eé©¬ä¸Šä¹Ÿä¼šç”¨å­\u003ccode\u003epromise\u003c/code\u003eçš„æˆåŠŸè¿”å›å€¼æˆ–å¤±è´¥è¯¦æƒ…ä½œä¸ºå‚æ•°è°ƒç”¨çˆ¶\u003ccode\u003epromsie\u003c/code\u003eç»‘å®šçš„ç›¸åº”å¥æŸ„å¹¶è¿”å›è¯¥\u003ccode\u003epromsie\u003c/code\u003eå¯¹è±¡\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ePromise.all(interable)\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eè¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡ï¼Œè¯¥\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡åœ¨\u003ccode\u003einterable\u003c/code\u003eå‚æ•°å¯¹è±¡é‡Œæ‰€æœ‰çš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡éƒ½æˆåŠŸçš„æ—¶å€™æ‰ä¼šè§¦å‘æˆåŠŸï¼Œä¸€æ—¦æœ‰ä»»ä½•ä¸€ä¸ª\u003ccode\u003einterable\u003c/code\u003eé‡Œçš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡å¤±è´¥åˆ™ç«‹å³è§¦å‘è¯¥\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡çš„å¤±è´¥ã€‚è¿™ä¸ªæ–°çš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡åœ¨è§¦å‘æˆåŠŸçŠ¶æ€ä»¥åï¼Œä¼šæŠŠä¸€ä¸ªåŒ…å«\u003ccode\u003einterable\u003c/code\u003eé‡Œæ‰€æœ‰\u003ccode\u003epromise\u003c/code\u003eè¿”å›å€¼çš„æ•°ç»„ä½œä¸ºæˆåŠŸå›è°ƒçš„è¿”å›å€¼ï¼Œé¡ºåºè·Ÿ\u003ccode\u003einterable\u003c/code\u003eçš„é¡ºåºä¿æŒä¸€è‡´ï¼›å¦‚æœè¿™ä¸ªæ–°çš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡å‡ºå‘äº†å¤±è´¥çŠ¶æ€ï¼Œå®ƒä¼šæŠŠ\u003ccode\u003einterable\u003c/code\u003eé‡Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡çš„é”™è¯¯ä¿¡æ¯ä½œä¸ºå®ƒçš„å¤±è´¥é”™è¯¯ä¿¡æ¯ã€‚\u003ccode\u003ePromise.all\u003c/code\u003eæ–¹æ³•å¸¸ç”¨äºå¤„ç†å¤šä¸ª\u003ccode\u003epromise\u003c/code\u003eå¯¹è±¡çš„çŠ¶æ€é›†åˆ\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fs = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;fs\u0026quot;\u003c/span\u003e)\n\nfs.\u003cspan class=\"hljs-title function_\"\u003ereadFile\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./index.html\u0026quot;\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003eencoding\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e }, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr, data\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(err, data);\n})\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e_readFile\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003epath, options\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve, reject\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    fs.\u003cspan class=\"hljs-title function_\"\u003ereadFile\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./index.html\u0026quot;\u003c/span\u003e, options, \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr, data\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(err)\n        \u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(err)\n      \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e\n        \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(data)\n    })\n  })\n}\n\n(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e data = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e_readFile\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;./index.html\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e)\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(data);\n  } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(error);\n  }\n})()\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eéå†å¯¹è±¡çš„å±æ€§å’Œæ•°ç»„å…ƒç´ çš„æ–¹æ³•\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eå¯¹è±¡ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003efor\u003c/code\u003eå¾ªç¯ ğŸ‘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e property \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e obj)\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(property)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eç¼ºç‚¹ï¼šä¼šéå†åˆ°å®ƒçš„ç»§æ‰¿å±æ€§ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦åŠ å…¥\u003ccode\u003eobj.hasOwnProperty(property)\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eObject.keys(obj).forEach()\u003c/code\u003e ğŸ‘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekeys\u003c/span\u003e(obj).\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eproperty\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(property)\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eObject.keys\u003c/code\u003eè¿”å›ä¸€ä¸ªæœ‰ç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§ç»„æˆçš„æ•°ç»„\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eObject.getOwnPropertyNames(obj).forEach\u003c/code\u003e ğŸ‘\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetOwnPropertyNames\u003c/span\u003e(obj).\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eproperty\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(property)\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eObject.getOwnPropertyNames\u003c/code\u003eè¿”å›ä¸€ä¸ªç”±æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ä½†ä¸åŒ…æ‹¬\u003ccode\u003eSymbol\u003c/code\u003eå€¼ä½œä¸ºåç§°çš„å±æ€§ï¼‰ç»„æˆçš„æ•°ç»„\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003eReflect.ownKeys(target)\u003c/code\u003e ğŸ‘\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬ç­‰åŒäº\u003ccode\u003eObject.getOwnPeopertyNames\u003c/code\u003e + \u003ccode\u003eObject.getOwnPropertySymbols\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ•°ç»„ï¼š\u003cstrong\u003eå„å–æ‰€éœ€\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003efor\u003c/code\u003eå¾ªç¯\u003c/p\u003e\n\u003cp\u003eæ™®é€šéå†æ–¹æ³•ï¼Œè¾ƒå¸¸ç”¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003earr.forEach\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eç›¸è¾ƒäº\u003ccode\u003efor\u003c/code\u003eï¼Œ\u003ccode\u003eforEach\u003c/code\u003eä¸å¯æå‰ç»“æŸå¾ªç¯\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003earr.map/reduce\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eå¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003e\u003cstrong\u003eå¯å˜å¯¹è±¡\u003c/strong\u003eåœ¨åˆ›å»ºä¹‹åæ˜¯å¯ä»¥è¢«æ”¹å˜çš„\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eä¸å¯å˜å¯¹è±¡\u003c/strong\u003eåœ¨åˆ›å»ºä¹‹åæ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eåœ¨\u003ccode\u003eJavaScript\u003c/code\u003eä¸­ï¼Œ\u003ccode\u003estring\u003c/code\u003eå’Œ\u003ccode\u003enumber\u003c/code\u003eä»è®¾è®¡ä¹‹åˆå°±æ˜¯ä¸å¯å˜çš„ï¼ˆimmediateï¼‰\u003c/li\u003e\n\u003cli\u003eä¸å¯å˜å¯¹è±¡æ˜¯ä¿æŒä¸€ä¸ªå¯¹è±¡çŠ¶æ€ä¸å˜ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æ˜¯çš„å¼€å‘æ›´åŠ ç®€å•ã€å¯å›æº¯ã€æµ‹è¯•å‹å¥½ï¼Œå‡å°‘äº†ä»»ä½•å¯èƒ½çš„å‰¯ä½œç”¨ã€‚ä½†æ˜¯ï¼Œæ¯å½“æƒ³æ·»åŠ ç‚¹ä¸œè¥¿åˆ°ä¸€ä¸ªä¸å¯å˜å¯¹è±¡é‡Œæ—¶ï¼Œå®ƒä¸€å®šæ˜¯å…ˆæ‹·è´å·²å­˜åœ¨çš„å€¼åˆ°æ–°å®ä¾‹é‡Œï¼Œç„¶åå†ç»™æ–°å®ä¾‹æ·»åŠ å†…å®¹ï¼Œæœ€åè¿”å›æ–°å®ä¾‹ã€‚ç›¸æ¯”å¯å˜å¯¹è±¡ï¼Œè¿™åŠ¿å¿…ä¼šæœ‰æ›´å¤šå†…å­˜ã€è®¡ç®—é‡æ¶ˆè€—\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eåˆ›å»ºä¸€ä¸ªçº¯å‡½æ•°ï¼ˆpure functionï¼‰\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e student = {\n    \u003cspan class=\"hljs-attr\"\u003eschool\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;baidu\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;tom\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eage\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eupdateStudent\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003estudent, name, age\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n        ...student,\n        name,\n        age\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eåŒæ­¥å‡½æ•°å’Œå¼‚æ­¥å‡½æ•°\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eåŒæ­¥å‡½æ•°é˜»å¡ï¼Œå¼‚æ­¥å‡½æ•°ä¸é˜»å¡ã€‚åœ¨åŒæ­¥å‡½æ•°ä¸­ï¼Œè¯­å¥å®Œæˆåä¸‹ä¸€å¥æ‰æ‰§è¡Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¨‹åºå¯ä»¥æŒ‰ç…§è¯­å¥çš„é¡ºåºè¿›è¡Œç²¾ç¡®è¯„ä¼°ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªè¯­å¥éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œé‚£ä¹ˆç¨‹åºçš„æ‰§è¡Œä¼šåœæ»å¾ˆé•¿æ—¶é—´\u003c/p\u003e\n\u003cp\u003eå¼‚æ­¥å‡½æ•°é€šå¸¸æ¥å—å›è°ƒä½œä¸ºå‚æ•°ï¼Œåœ¨è°ƒç”¨å¼‚æ­¥å‡½æ•°åç«‹å³ç»§ç»­æ‰§è¡Œä¸‹ä¸€è¡Œã€‚å›è°ƒå‡½æ•°ä»…åœ¨å¼‚æ­¥æ“ä½œå®Œæˆä¸”è°ƒç”¨å †æ ˆä¸ºç©ºæ—¶è°ƒç”¨ï¼Œè¯¸å¦‚ä»webæœåŠ¡å™¨åŠ è½½æ•°æ®æˆ–æŸ¥è¯¢æ•°æ®åº“ç­‰é‡è´Ÿè½½æ“ä½œåº”è¯¥å¼‚æ­¥å®Œæˆï¼Œä»¥ä¾¿ä¸»çº¿ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œè€Œä¸ä¼šå‡ºç°ä¸€ç›´é˜»å¡\u003c/p\u003e\n\u003cp\u003eåœ¨JavaScriptä¸­å¼‚æ­¥å‡½æ•°çš„è§£å†³æ–¹æ¡ˆé€šå¸¸æœ‰callbackã€Promiseã€async/await\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eJavaScriptæ‰§è¡Œæœºåˆ¶\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eJavaScriptçš„æ‰§è¡Œä¸è¿è¡Œ\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eæ‰§è¡Œå’Œä¸è¿è¡Œä¸å¤ªç›¸åŒï¼Œåœ¨ä¸åŒç¯å¢ƒä¸‹ï¼Œæ¯”å¦‚Nodeã€æµè§ˆå™¨ä¸‹ï¼ŒJavaScriptçš„æ‰§è¡Œç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼›è€Œè¿è¡Œå¤§å¤šæ˜¯æŒ‡åŸºäºJavaScriptå¼•æ“ï¼Œå¦‚V8ï¼Œç»“æœæ˜¯ä¸€è‡´çš„ \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eå…³äºJavaScript\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScriptæ˜¯ä¸€é—¨\u003cstrong\u003eå•çº¿ç¨‹\u003c/strong\u003eã€\u003cstrong\u003eå¼‚æ­¥æ‰§è¡Œ\u003c/strong\u003eçš„è¯­è¨€ï¼Œè™½ç„¶åœ¨HTML5ä¸­æå‡ºäº†\u003cstrong\u003eweb workers\u003c/strong\u003eï¼ˆå¯ä»¥ç†è§£ä¸º\u003cstrong\u003eæµè§ˆå™¨\u003c/strong\u003eä¸ºJavaScriptå¼€çš„â€œå¤–æŒ‚â€ï¼‰ï¼Œä½†JavaScriptæ˜¯å•çº¿ç¨‹è¿è¡Œçš„è¿™ä¸€æ ¸å¿ƒä»æœªæ”¹å˜ï¼Œæ‰€æœ‰å¤šçº¿ç¨‹éƒ½æ˜¯é€šè¿‡å•çº¿ç¨‹\u003cstrong\u003eæ¨¡æ‹Ÿ\u003c/strong\u003eå‡ºæ¥çš„\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eJavaScriptä¸­çš„å¼‚æ­¥\u003c/strong\u003e \u003cstrong\u003eevent-loop\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eJavaScriptä¸­çš„å¼‚æ­¥ä¸»è¦é€šè¿‡\u003cstrong\u003eevent loop\u003c/strong\u003eè¿›è¡Œæ¨¡æ‹Ÿå½“æˆ‘ä»¬æ‰§è¡ŒJavaScriptä»£ç çš„æ—¶å€™å…¶å®å°±æ˜¯å¾€æ‰§è¡Œæ ˆä¸­æ”¾å…¥å‡½æ•°ï¼Œé‚£ä¹ˆé‡åˆ°å¼‚æ­¥ä»£ç æ€ä¹ˆåŠï¼Ÿå…¶å®å½“é‡åˆ°å¼‚æ­¥ä»£ç æ—¶ï¼Œä¼šè¢«æŒ‚èµ·å¹¶åœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™åŠ å…¥åˆ°\u003cstrong\u003eTask\u003c/strong\u003eï¼ˆæœ‰å¤šç§Taskï¼‰é˜Ÿåˆ—ä¸­ã€‚ä¸€æ—¦æ‰§è¡Œæ ˆä¸ºç©ºï¼Œ\u003cstrong\u003eevent loop\u003c/strong\u003eå°±ä¼šä»\u003cstrong\u003eTask\u003c/strong\u003eä¸­æ‹¿å‡ºéœ€è¦æ‰§è¡Œçš„ä»£ç å¹¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šè¯´JavaScriptä¸­çš„å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¡Œä¸º\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eæµè§ˆå™¨ä¸­çš„event loop\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eæ¥è‡ªä¸åŒçš„\u003cstrong\u003eä»»åŠ¡æº\u003c/strong\u003eçš„ä»»åŠ¡ä¼šè¢«åˆ†é…åˆ°ä¸åŒçš„Taské˜Ÿåˆ—ä¸­ï¼Œä»»åŠ¡æºå¯ä»¥åˆ†ä¸º\u003cstrong\u003eå¾®ä»»åŠ¡ï¼ˆmicro taskï¼‰\u003c/strong\u003eå’Œ\u003cstrong\u003eå®ä»»åŠ¡ï¼ˆmacro taskï¼‰\u003c/strong\u003eã€‚åœ¨ES6è§„èŒƒä¸­ï¼Œå¾®ä»»åŠ¡è¢«ç§°ä¸ºjobsï¼Œå®ä»»åŠ¡è¢«ç§°ä¸ºtask\u003c/p\u003e\n\u003cp\u003eå¾®ä»»åŠ¡åŒ…æ‹¬ï¼š\u003ccode\u003eprecess.nextTick\u003c/code\u003eã€\u003ccode\u003epromise\u003c/code\u003eã€\u003ccode\u003eMutation Observer\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eå®ä»»åŠ¡åŒ…æ‹¬ï¼š\u003ccode\u003escript\u003c/code\u003eã€\u003ccode\u003esetTimeout\u003c/code\u003eã€\u003ccode\u003esetInterval\u003c/code\u003eã€\u003ccode\u003esetImmediate\u003c/code\u003eã€\u003ccode\u003eI/O\u003c/code\u003eã€UI Rendering\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eå®ä»»åŠ¡ä¸­åŒ…å«äº†\u003ccode\u003escript\u003c/code\u003eï¼Œå› æ­¤æµè§ˆå™¨ä¼šå…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥ç”±å¼‚æ­¥ä»£ç çš„è¯æ‰ä¼šå…ˆæ‰§è¡Œå¾®ä»»åŠ¡\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eevent loopæ‰§è¡Œé¡ºåº\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¿™å±äºå®ä»»åŠ¡\u003c/li\u003e\n\u003cli\u003eå½“\u003cstrong\u003eæ‰§è¡Œå®Œæ‰€æœ‰åŒæ­¥ä»£ç \u003c/strong\u003eåæ‰§è¡Œæ ˆä¸ºç©ºï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰å¼‚æ­¥ä»£ç éœ€è¦æ‰§è¡Œ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eå½“æ‰§è¡Œå®Œæ‰€æœ‰å¾®ä»»åŠ¡ï¼Œå¦‚æœ‰å¿…è¦ä¼šæ¸²æŸ“é¡µé¢\u003c/li\u003e\n\u003cli\u003eç„¶åå¼€å§‹ä¸‹ä¸€è½®\u003ccode\u003eevent loop\u003c/code\u003eï¼Œæ‰§è¡Œå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç ä¹Ÿå°±æ˜¯\u003ccode\u003esetTimeout\u003c/code\u003eï¼ˆå®ä»»åŠ¡ï¼‰ä¸­çš„å›è°ƒå‡½æ•°\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"http://mrrsblog.oss-cn-shanghai.aliyuncs.com/browser_event_loop.png\" alt=\"æµè§ˆå™¨ä¸­çš„event loop\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://mrrsblog.oss-cn-shanghai.aliyuncs.com/browser_event_loop2.png\" alt=\"æµè§ˆå™¨ä¸­çš„event loop\"\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n  \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e);\n  });\n});\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve, reject\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\n  \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n}).\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(data);\n});\n\u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e);\n});\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// 1 4 7 5 2 3 6\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eNode.jsä¸­çš„event loop\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNode.jsä¸­çš„\u003ccode\u003eevent loop\u003c/code\u003eåˆ†ä¸º6ä¸ªé˜¶æ®µï¼Œä»–ä»¬ä¼šæŒ‰ç…§é¡ºåºåå¤è¿è¡Œã€‚æ¯å½“è¿›å…¥æŸä¸€ä¸ªé˜¶æ®µçš„æ—¶å€™éƒ½ä¼šä»å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—ä¸­å–å‡ºå‡½æ•°å»æ‰§è¡Œã€‚å½“\u003cstrong\u003eé˜Ÿåˆ—ä¸ºç©º\u003c/strong\u003eæˆ–è€…\u003cstrong\u003eæ‰§è¡Œçš„å›è°ƒå‡½æ•°æ•°é‡åˆ°è¾¾ç³»ç»Ÿè®¾å®šçš„é˜ˆå€¼\u003c/strong\u003eï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€é˜¶æ®µ\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"http://mrrsblog.oss-cn-shanghai.aliyuncs.com/node_event_loop.png\" alt=\"Node.jsä¸­çš„event loop\"\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003etimers\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003etimers\u003c/strong\u003eé˜¶æ®µä¼šæ‰§è¡Œ\u003ccode\u003esetTimeout\u003c/code\u003eå’Œ\u003ccode\u003esetinterval\u003c/code\u003eå›è°ƒï¼Œå¹¶ä¸”æ˜¯ç”±\u003cstrong\u003epoll\u003c/strong\u003eé˜¶æ®µæ§åˆ¶çš„ã€‚åŒæ ·åœ¨\u003ccode\u003eNode.js\u003c/code\u003eä¸­å®šæ—¶å™¨æŒ‡å®šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯å‡†ç¡®æ—¶é—´ï¼Œåªæ˜¯å°½å¿«æ‰§è¡Œ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eI/O\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eI/O\u003c/strong\u003eé˜¶æ®µä¼šå¤„ç†ä¸€äº›ä¸Šä¸€è½®å¾ªç¯ä¸­å°‘è®¸æœªæ‰§è¡Œçš„\u003cstrong\u003eI/O\u003c/strong\u003eå›è°ƒ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eidle,prepare\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003epoll\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003epoll\u003c/strong\u003eæ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é˜¶æ®µï¼Œåœ¨è¿™ä¸€é˜¶æ®µä¸­ï¼Œç³»ç»Ÿä¼šåšä¸¤ä»¶äº‹æƒ…\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cp\u003eå›åˆ°\u003cstrong\u003etimer\u003c/strong\u003eé˜¶æ®µæ‰§è¡Œå›è°ƒ\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eæ‰§è¡Œ\u003cstrong\u003eI/O\u003c/strong\u003eå›è°ƒï¼Œå¹¶ä¸”åœ¨è¿›å…¥è¯¥é˜¶æ®µæ—¶å¦‚æœæ²¡æœ‰è®¾å®šäº†\u003cstrong\u003etimer\u003c/strong\u003eçš„è¯ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹ä¸¤ä»¶äº‹æƒ…\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eå¦‚æœ\u003cstrong\u003epoll\u003c/strong\u003eé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œä¼šéå†å›è°ƒé˜Ÿåˆ—å¹¶åŒæ­¥æ‰§è¡Œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…è¾¾åˆ°ç³»ç»Ÿé™åˆ¶\u003c/li\u003e\n\u003cli\u003eå¦‚æœ\u003cstrong\u003epoll\u003c/strong\u003eé˜Ÿåˆ—ä¸ºç©º\u003cul\u003e\n\u003cli\u003eå¦‚æœæœ‰\u003ccode\u003esetImmediate\u003c/code\u003eå›è°ƒéœ€è¦æ‰§è¡Œï¼Œ\u003cstrong\u003epoll\u003c/strong\u003eé˜¶æ®µä¼šåœæ­¢å¹¶ä¸”\u003cstrong\u003eè¿›å…¥åˆ°checké˜¶æ®µ\u003c/strong\u003eæ‰§è¡Œå›è°ƒ\u003c/li\u003e\n\u003cli\u003eå¦‚æœæ²¡æœ‰ï¼Œä¼šç­‰å¾…å›è°ƒè¢«åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­å¹¶ç«‹å³æ‰§è¡Œå›è°ƒï¼Œè¿™é‡ŒåŒæ ·ä¼šæœ‰ä¸ªè¶…æ—¶æ—¶é—´é˜²æ­¢ä¸€ç›´ç­‰å¾…ä¸‹å»\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003echeck\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eæ‰§è¡Œ\u003ccode\u003esetImmediate\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003eclose callbacks\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eæ‰§è¡Œcloseäº‹ä»¶\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"http://mrrsblog.oss-cn-shanghai.aliyuncs.com/node_event_loop2.png\" alt=\"Node.jsä¸­çš„event loop\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eES6çš„ç±»å’ŒES6çš„æ„é€ å‡½æ•°çš„åŒºåˆ«\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eåœ¨æ™®é€šä½¿ç”¨ä¸­æ²¡æœ‰åŒºåˆ«ï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ePerson\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e = name\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePerson\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename\u003c/span\u003e) {\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e = name\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¸»è¦åŒºåˆ«åœ¨äºç±»ç»§æ‰¿ä¸Šï¼š\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eStudent\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename, id\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title class_\"\u003ePerson\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, name)\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e = id\n}\n\u003cspan class=\"hljs-title class_\"\u003eStudent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003ePerson\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e)\n\u003cspan class=\"hljs-title class_\"\u003eStudent\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econstructor\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eStudent\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eStudent\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title class_ inherited__\"\u003ePerson\u003c/span\u003e {\n    \u003cspan class=\"hljs-title function_\"\u003econsreuctor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename, id\u003c/span\u003e) {\n        \u003cspan class=\"hljs-variable language_\"\u003esuper\u003c/span\u003e(name)\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eid\u003c/span\u003e = id\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eæ‰©å±•è¿ç®—ç¬¦å’Œå‰©ä½™å‚æ•°è¯­å¥çš„åŒºåˆ«\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eåœ¨å‡½æ•°æ³›å‹ç¼–ç æ—¶ï¼ŒES6çš„æ‰©å±•è¿ç®—ç¬¦éå¸¸æœ‰ç”¨å—ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºæ•°ç»„å’Œå¯¹è±¡çš„æ‹·è´ï¼Œè€Œæ— éœ€ä½¿ç”¨\u003ccode\u003eObject.create\u003c/code\u003eã€\u003ccode\u003eslice\u003c/code\u003eæˆ–å…¶ä»–å‡½æ•°åº“ã€‚\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003earr\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [ ...arr, \u003cspan class=\"hljs-string\"\u003e\u0026quot;test\u0026quot;\u003c/span\u003e ]\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e result = \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e([\u003cspan class=\"hljs-string\"\u003e\u0026quot;hello\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;world\u0026quot;\u003c/span\u003e])\n\u003cspan class=\"hljs-comment\"\u003e// [\u0026quot;hello\u0026quot;, \u0026quot;world\u0026quot;, \u0026quot;test\u0026quot;]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e person = {\n    \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;tom\u0026quot;\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eage\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e21\u003c/span\u003e\n}\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e copyPerson = { ...person }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eES6çš„å‰©ä½™å‚æ•°è¯­å¥æä¾›äº†ä¸€ä¸ªç®€å†™ï¼Œå…è®¸æˆ‘ä»¬å°†ä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ª\u003cstrong\u003eæ•°ç»„\u003c/strong\u003eï¼Œå®ƒå°±åƒæ‰©å±•è¿ç®—ç¬¦è¯­æ³•çš„åé¢ï¼Œå°†æ•°æ®æ”¶é›†åˆ°æ•°ç»„ä¸­è€Œä¸æ˜¯è§£æ„æ•°ç»„ã€‚å‰©ä½™å‚æ•°è¯­å¥åœ¨å‡½æ•°å‚æ•°ã€æ•°ç»„å’Œå¯¹è±¡çš„è§£æ„èµ‹å€¼ä¸­æœ‰å¾ˆå¤§ä½œç”¨\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e...numbers\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e numbers.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e =\u0026gt;\u003c/span\u003e x + \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e result1 = \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e// [6, 7, 8, 9]\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e result2 = \u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e// [10, 11, 12, 13, 14]\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [ a, b, ...rest ] = [\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e]\n\u003cspan class=\"hljs-comment\"\u003e// 1 2 [ 3, 4 ]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eå†…ç½®ç±»å‹\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eJavaScriptä¸­åˆ†ä¸º\u003cstrong\u003eä¸ƒç§\u003c/strong\u003eå†…ç½®ç±»å‹ï¼Œå…¶ä¸­å†…ç½®ç±»å‹åˆåˆ†ä¸ºä¸¤å¤§ç±»å‹ï¼š\u003cstrong\u003eåŸºæœ¬ç±»å‹\u003c/strong\u003eå’Œ\u003cstrong\u003eå¼•ç”¨ç±»å‹\u003c/strong\u003eï¼ˆå¯¹è±¡ Objectï¼‰\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬ç±»å‹ï¼š\u003ccode\u003enull\u003c/code\u003eã€\u003ccode\u003eundefined\u003c/code\u003eã€\u003ccode\u003eboolean\u003c/code\u003eã€\u003ccode\u003enumber\u003c/code\u003eã€\u003ccode\u003estring\u003c/code\u003eã€\u003ccode\u003esymbol\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eå…¶ä¸­JavaScriptçš„æ•°å­—ç±»å‹æ˜¯æµ®ç‚¹ç±»å‹çš„ï¼Œæ²¡æœ‰æ•´å½¢ã€‚å¹¶ä¸”æµ®ç‚¹ç±»å‹åŸºäº IEEE 754 æ ‡å‡†å®ç°ï¼Œåœ¨ä½¿ç”¨ä¸­ä¼šé‡åˆ°æŸäº› \u003ca href=\"#2\"\u003eBug \u003c/a\u003e\u003ccode\u003eNaN\u003c/code\u003eä¹Ÿå±äº\u003ccode\u003enumber\u003c/code\u003eç±»å‹å¹¶ä¸”\u003ccode\u003eNaN\u003c/code\u003eå¹¶ä¸ç­‰äºè‡ªèº«\u003c/p\u003e\n\u003cp\u003eå¯¹äºåŸºæœ¬ç±»å‹æ¥è¯´ï¼Œå¦‚æœä½¿ç”¨å­—é¢é‡çš„æ–¹å¼ï¼Œé‚£ä¸ªè¿™ä¸ªå˜é‡åªæ˜¯ä¸ªå­—é¢é‡ï¼Œåªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä¼šè½¬æ¢æˆå¯¹åº”çš„ç±»å‹\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e a = \u003cspan class=\"hljs-number\"\u003e111\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// è¿™åªæ˜¯å­—é¢é‡ï¼Œä¸æ˜¯numberç±»å‹\u003c/span\u003e\na.\u003cspan class=\"hljs-title function_\"\u003etoString\u003c/span\u003e() \u003cspan class=\"hljs-comment\"\u003e// ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè½¬æ¢ä¸ºå¯¹è±¡ç±»å‹\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¼•ç”¨ç±»å‹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šé‡åˆ°æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003eTypeof\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003e\u003ccode\u003etypeof\u003c/code\u003eå¯¹äºåŸºæœ¬ç±»å‹ï¼Œé™¤äº†\u003ccode\u003enull\u003c/code\u003eéƒ½å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„ç±»å‹\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// number\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;1\u0026#x27;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// string\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// undefined\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// boolean\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSymbol\u003c/span\u003e() \u003cspan class=\"hljs-comment\"\u003e// symbol\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003etypeof\u003c/code\u003eå¯¹äºå¯¹è±¡ï¼Œé™¤äº†å‡½æ•°éƒ½ä¼šæ˜¾ç¤º\u003ccode\u003eobject\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e [] \u003cspan class=\"hljs-comment\"\u003e// object\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e {} \u003cspan class=\"hljs-comment\"\u003e// object\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elog\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// function\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// object\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå…³äºä¸ºä»€ä¹ˆ\u003ccode\u003etypeof null == object\u003c/code\u003eï¼šåœ¨JavaScriptçš„æœ€åˆç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨çš„æ˜¯32ä¸ºç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨äº†å˜é‡çš„ç±»å‹ä¿¡æ¯ã€‚\u003ccode\u003e000\u003c/code\u003eå¼€å¤´çš„ä»£è¡¨æ˜¯å¯¹è±¡ï¼Œç„¶è€Œ\u003ccode\u003enull\u003c/code\u003eè¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º\u003ccode\u003eobject\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eå¦‚æœæƒ³å¾—åˆ°ä¸€ä¸ªæ­£ç¡®çš„æ•°æ®ç±»å‹ï¼Œä½¿ç”¨\u003ccode\u003eObject.prototype.toString.call(xxx)\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e([\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e])\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003einstanceof\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003e\u003ccode\u003einstance\u003c/code\u003eå¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ­£ç¡®çš„æ‰¾åˆ°ç±»å‹çš„\u003ccode\u003eprototype\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003einstanceof\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eleft, right\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e prototype = right.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e\n    left = left.\u003cspan class=\"hljs-property\"\u003e__proto__\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ewhile\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (left === \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e)\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (prototypr === left)\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n        left = left.\u003cspan class=\"hljs-property\"\u003e__proto__\u003c/span\u003e\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003enew\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eåœ¨è°ƒç”¨\u003ccode\u003enew\u003c/code\u003eçš„è¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿä»¥ä¸‹å››ä»¶äº‹æƒ…\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eæ–°ç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡\u003c/li\u003e\n\u003cli\u003eç»‘å®šåˆ°åŸå‹\u003c/li\u003e\n\u003cli\u003eç»‘å®š\u003ccode\u003ethis\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eè¿”å›æ–°å¯¹è±¡\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e obj = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCon\u003c/span\u003e = [].\u003cspan class=\"hljs-property\"\u003eshift\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e)\n    obj.\u003cspan class=\"hljs-property\"\u003e__proto__\u003c/span\u003e = \u003cspan class=\"hljs-title class_\"\u003eCon\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e result = \u003cspan class=\"hljs-title class_\"\u003eCon\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(obj, \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e result === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;object\u0026#x27;\u003c/span\u003e ? result : obj\n}\n\u003c/code\u003e\u003c/pre\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"JavaScriptç›¸å…³-2"},"buildId":"WWmO1nPrVpf1h4CB2koba","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>