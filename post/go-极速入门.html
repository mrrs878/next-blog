<!DOCTYPE html><html><head><link rel="icon" href="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/avatar.jpg"/><script async="" src="/js/L2Dwidget.min.js"></script><script async="" src="/js/initL2D.js"></script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mr.RS的个人博客-go-极速入门</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/15773988a510c3d3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/15773988a510c3d3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-b927671265afed5e.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-1e7421553b9673ee.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ca6aae25bc99a05f.js" defer=""></script><script src="/_next/static/chunks/899-3eff910f6206cfe7.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Btitle%5D-d89e1712c82a34ac.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_buildManifest.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_ssgManifest.js" defer=""></script><script src="/_next/static/rfzbvyXf47u3p_eOe2WWT/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="fixed top-0 py-4 left-0 right-0 h-auto px-10 shadow bg-white z-50"><nav><ul class="flex w-auto"><li class="mr-4 hover:text-yellow"><a href="/">首页</a></li><li class="mx-4 hover:text-yellow"><a href="/categories">分类</a></li><li class="mx-4 hover:text-yellow"><a href="/tags">标签</a></li><li class="ml-4 hover:text-yellow"><a href="/timeline">归档</a></li></ul></nav></header><main class="mt-20 mb-4 mx-auto justify-center w-2/3"><div class="mx-auto lg:max-w-5xl md:max-w-3xl"><article class="flex flex-col justify-around pb-16 px-4 mx-auto space-y-10 text-base"><div class="flex flex-col space-y-4"><h1 class="inline pt-10 text-4xl text-skin-primary">go-极速入门</h1><div class="text-sm space-x-2 text-skin-muted grid grid-cols-5"><span class="flex align-middle"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>2020-01-14 13:43:45</span><span class="flex align-middle"><svg class="w-5 h-5 inline-block mr-1" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1903" width="20" height="20"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" p-id="1904"></path></svg>10/1/2021, 3:34:43 AM</span></div></div><div class="mt-8 flex"><div class="w-full flex-auto custom-markdown-body"><div class="markdown-body" id="write">
      <h1>
        <span class="prefix"></span>
        <span class="content">依赖包管理工具</span>
        <span class="suffix"></span>
      </h1>
    <ul>
<li><p>dep
未完待续...</p>
</li>
<li><p>go vendor
未完待续...</p>
</li>
<li><p>glide
未完待续...</p>
</li>
<li><p><strong>go modules</strong></p>
<p>伴随Go 1.11出现，<strong>官方推荐</strong></p>
</li>
</ul>

      <h1>
        <span class="prefix"></span>
        <span class="content">go mod 命令</span>
        <span class="suffix"></span>
      </h1>
    <ul>
<li><p><code>go mod tidy</code></p>
<p>拉取缺少的模块，移除不用的模块</p>
</li>
<li><p><code>go mod vandor</code></p>
<p>将依赖复制到vendor下</p>
</li>
<li><p><code>go mod download</code></p>
<p>下载依赖包</p>
</li>
<li><p><code>go mod verify</code></p>
<p>检测依赖</p>
</li>
<li><p><code>go mod graph</code></p>
<p>打印模块依赖图</p>
</li>
</ul>

      <h1>
        <span class="prefix"></span>
        <span class="content">切片</span>
        <span class="suffix"></span>
      </h1>
    
      <h2>
        <span class="prefix"></span>
        <span class="content">切片就像数组的引用</span>
        <span class="suffix"></span>
      </h2>
    
      <h2>
        <span class="prefix"></span>
        <span class="content">切片拥有 <em>长度</em> 和 <em>容量</em></span>
        <span class="suffix"></span>
      </h2>
    <ul>
<li>切片的长度就是它所包含的元素个数。</li>
<li>切片的容量是从它的第一个元素开始数，到其底层数组元素末尾的个数。</li>
<li>切片 s 的长度和容量可通过表达式 <code>len(s)</code> 和 <code>cap(s)</code> 来获取。</li>
</ul>

      <h2>
        <span class="prefix"></span>
        <span class="content">切片可以用内建函数 <code>make</code> 来创建，这也是创建动态数组的方式。<code>make</code> 函数会分配一个元素为零值的数组并返回一个引用了它的切片：</span>
        <span class="suffix"></span>
      </h2>
    <pre><code class="hljs language-go">a := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment">// len(a)=5</span>

<span class="hljs-comment">// 要指定它的容量，需向 make 传入第三个参数：</span>
b := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// len(b)=0, cap(b)=5</span>
b = b[:<span class="hljs-built_in">cap</span>(b)] <span class="hljs-comment">// len(b)=5, cap(b)=5</span>
b = b[<span class="hljs-number">1</span>:]      <span class="hljs-comment">// len(b)=4, cap(b)=4</span>
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">向切片追加元素</span>
        <span class="suffix"></span>
      </h2>
    <p>append 的第一个参数 s 是一个元素类型为 T 的切片，其余类型为 T 的值将会追加到该切片的末尾。append 的结果是一个包含原切片所有元素加上新添加元素的切片。当 s 的底层数组太小，不足以容纳所有给定的值时，它就会分配一个(<strong>cap值翻倍</strong>)更大的数组。返回的切片会指向这个新分配的数组。</p>
<pre><code class="hljs language-go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> s []<span class="hljs-type">int</span>
    printSlice(s)
    <span class="hljs-comment">// len=0 cap=0 []</span>

    <span class="hljs-comment">// cap不够用——&gt;cap翻倍——&gt;cap=2</span>
    s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">0</span>)
    printSlice(s)
    <span class="hljs-comment">// len=1 cap=2 [0]</span>

    <span class="hljs-comment">// cap够用——&gt;保持不变——&gt;cap=2</span>
    s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">1</span>)
    printSlice(s)
    <span class="hljs-comment">// len=2 cap=2 [0 1]</span>

    <span class="hljs-comment">// cap不够用——&gt;cap翻倍——&gt;cap=8</span>
    s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
    printSlice(s)
    <span class="hljs-comment">// len=5 cap=8 [0 1 2 3 4]</span>

    <span class="hljs-comment">// cap够用——&gt;cap保持不变——&gt;cap=8</span>
    s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>)
    printSlice(s)
    <span class="hljs-comment">// len=8 cap=8 [0 1 2 3 4 5 6 7]</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(s []<span class="hljs-type">int</span>)</span></span> {
    fmt.Printf(<span class="hljs-string">&quot;len=%d cap=%d %v\n&quot;</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">cap</span>(s), s)
}
</code></pre>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>map</code>-无序的 <code>key-value</code> 数据结构</span>
        <span class="suffix"></span>
      </h1>
    <p>map集合中的 <code>key/value</code> 可以是任意类型，但所有<code>key</code>必须同属于一种数据类型，所有的<code>value</code>必须同属于一种数据类型。<code>key</code> 和 <code>value</code> 的数据类型可以不相同</p>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>for</code>循环</span>
        <span class="suffix"></span>
      </h1>
    <pre><code class="hljs language-go">person := [<span class="hljs-number">3</span>]<span class="hljs-type">string</span> { <span class="hljs-string">&quot;tom&quot;</span>, <span class="hljs-string">&quot;john&quot;</span>, <span class="hljs-string">&quot;jerry&quot;</span> }

<span class="hljs-keyword">for</span> k, v := <span class="hljs-keyword">range</span> person {
  fmt.Printf(<span class="hljs-string">&quot;person[%d]: %s\n&quot;</span>, k, v)
}
</code></pre>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>go</code>关键字</span>
        <span class="suffix"></span>
      </h1>
    <p>在go关键字后面加一个函数，就可以创建一个线程，函数可以为已经写好的函数，也可以是匿名函数</p>
<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  fmt.Printf(<span class="hljs-string">&quot;main start&quot;</span>)
  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">&quot;goroutine&quot;</span>)
  }()
  time.sleep(<span class="hljs-number">1</span> * time.Second)
  fmt.Printf(<span class="hljs-string">&quot;main end&quot;</span>)
}
</code></pre>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>chan</code>-类似于队列，遵循先进先出的规则</span>
        <span class="suffix"></span>
      </h1>
    
      <h2>
        <span class="prefix"></span>
        <span class="content">声明<code>chan</code></span>
        <span class="suffix"></span>
      </h2>
    <pre><code class="hljs language-go"><span class="hljs-comment">// 声明不带缓冲的通道</span>
ch1 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)

<span class="hljs-comment">// 声明带10个缓冲的通道</span>
ch2 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>, <span class="hljs-number">10</span>)

<span class="hljs-comment">// 声明只读通道</span>
ch3 := <span class="hljs-built_in">make</span>(&lt;-<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)

<span class="hljs-comment">// 声明只写通道</span>
ch4 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span>&lt;- <span class="hljs-type">string</span>)
</code></pre>
<p>不带缓冲的通道，进何处都会阻塞
带缓冲的通道，进一次长度+1，出一次长度-1，如果长度等于缓冲区长度时，再进就会阻塞</p>

      <h2>
        <span class="prefix"></span>
        <span class="content">写入<code>chan</code></span>
        <span class="suffix"></span>
      </h2>
    <pre><code class="hljs language-go">ch1 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>, <span class="hljs-number">10</span>)
ch1 &lt;- <span class="hljs-string">&quot;a&quot;</span>
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">读取<code>chan</code></span>
        <span class="suffix"></span>
      </h2>
    <pre><code class="hljs language-go">val, ok := &lt;- ch1
val := &lt;- ch1
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">关闭<code>chan</code></span>
        <span class="suffix"></span>
      </h2>
    <pre><code class="hljs language-go"><span class="hljs-built_in">close</span>(<span class="hljs-keyword">chan</span>)
</code></pre>
<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">productor</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)</span></span> {
  fmt.Println(<span class="hljs-string">&quot;producer start&quot;</span>)
  ch &lt;- <span class="hljs-string">&quot;a&quot;</span>
  ch &lt;- <span class="hljs-string">&quot;b&quot;</span>
  ch &lt;- <span class="hljs-string">&quot;c&quot;</span>
  ch &lt;- <span class="hljs-string">&quot;d&quot;</span>
  fmt.Println(<span class="hljs-string">&quot;producer end&quot;</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  fmt.Println(<span class="hljs-string">&quot;main start&quot;</span>)
  ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>, <span class="hljs-number">3</span>)
  <span class="hljs-keyword">go</span> producer(ch)

  time.Sleep(<span class="hljs-number">1</span> * time.Second)
  fmt.Println(<span class="hljs-string">&quot;main end&quot;</span>)
}

<span class="hljs-comment">// main start</span>
<span class="hljs-comment">// producer start  发生阻塞</span>
<span class="hljs-comment">// main end</span>
</code></pre>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>defer</code></span>
        <span class="suffix"></span>
      </h1>
    <p>主要应用场景有异常处理、记录日志、清理数据、释放资源 等等。</p>
<ul>
<li><code>defer</code>在声明时不会立刻去执行，而是在函数 <code>return</code> 后去执行的。</li>
<li><code>defer</code>函数定义的顺序与实际执行的顺序是相反的，也就是最先声明的最后才执行</li>
</ul>
<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-keyword">defer</span> fmt.Println(<span class="hljs-string">&quot;a&quot;</span>)
  <span class="hljs-keyword">defer</span> fmt.Println(<span class="hljs-string">&quot;b&quot;</span>)
  <span class="hljs-keyword">defer</span> fmt.Println(<span class="hljs-string">&quot;c&quot;</span>)
  <span class="hljs-keyword">defer</span> fmt.Println(<span class="hljs-string">&quot;d&quot;</span>)

  fmt.Println(<span class="hljs-string">&quot;main&quot;</span>)
}

<span class="hljs-comment">// main</span>
<span class="hljs-comment">// d</span>
<span class="hljs-comment">// c</span>
<span class="hljs-comment">// b</span>
<span class="hljs-comment">// a</span>
</code></pre>
<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">calc</span><span class="hljs-params">(index <span class="hljs-type">string</span>, a, b <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> {
    ret := a + b
    fmt.Println(index, a, b, ret)
    <span class="hljs-keyword">return</span> ret
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    x := <span class="hljs-number">1</span>
    y := <span class="hljs-number">2</span>
    <span class="hljs-keyword">defer</span> calc(<span class="hljs-string">&quot;A&quot;</span>, x, calc(<span class="hljs-string">&quot;B&quot;</span>, x, y))
    x = <span class="hljs-number">3</span>
    <span class="hljs-keyword">defer</span> calc(<span class="hljs-string">&quot;C&quot;</span>, x, calc(<span class="hljs-string">&quot;D&quot;</span>, x, y))
    y = <span class="hljs-number">4</span>
}

<span class="hljs-comment">// B 1 2 3</span>
<span class="hljs-comment">// D 3 2 5</span>
<span class="hljs-comment">// C 3 5 8</span>
<span class="hljs-comment">// A 1 3 4</span>
</code></pre>

      <h1>
        <span class="prefix"></span>
        <span class="content"><code>interface</code></span>
        <span class="suffix"></span>
      </h1>
    
      <h2>
        <span class="prefix"></span>
        <span class="content">基本</span>
        <span class="suffix"></span>
      </h2>
    <ul>
<li>一种<strong>抽象</strong>类型</li>
</ul>
<pre><code class="hljs language-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span>

<span class="hljs-keyword">type</span> Sayer <span class="hljs-keyword">interface</span> {
    say()
}

<span class="hljs-keyword">type</span> Cat <span class="hljs-keyword">struct</span> {
    Sayer
}

<span class="hljs-keyword">type</span> Dog <span class="hljs-keyword">struct</span> {
    Sayer
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(cat *Cat)</span></span> say() {
    fmt.Println(<span class="hljs-string">&quot;miao miao miao~&quot;</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(dog *Dog)</span></span> say() {
    fmt.Println(<span class="hljs-string">&quot;wang wang wang~&quot;</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> dog Dog
    dog.say()
    <span class="hljs-keyword">var</span> cat Cat
    cat.say()
}
</code></pre>

      <h2>
        <span class="prefix"></span>
        <span class="content">空接口的应用</span>
        <span class="suffix"></span>
      </h2>
    <ul>
<li>空接口作为函数的参数</li>
<li>空接口作为<code>map</code>的值</li>
<li>类型断言<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-keyword">var</span> x <span class="hljs-keyword">interface</span>{}
  x = <span class="hljs-string">&quot;hello world&quot;</span>
  v, ok := x.(<span class="hljs-type">string</span>)
  <span class="hljs-keyword">if</span> ok {
      fmt.Println(v)
  } <span class="hljs-keyword">else</span> {
      fmt.Println(<span class="hljs-string">&quot;类型断言失败&quot;</span>)
  }
}
</code></pre>
</li>
</ul>

      <h1>
        <span class="prefix"></span>
        <span class="content">单元测试</span>
        <span class="suffix"></span>
      </h1>
    <p>Go语言中的测试依赖<code>go test</code>命令。编写测试代码和编写普通的<code>Go</code>代码过程是类似的。</p>
<p><code>go test</code>命令是一个按照一定约定和组织的测试代码的驱动程序。在包目录内，所有以<code>_test.go</code>为后缀名的源代码文件都是<code>go test</code>测试的一部分，不会被<code>go build</code>编译到最终的可执行文件中。</p>
<p>在<code>*_test.go</code>文件中有三种类型的函数，单元测试函数、基准测试函数和示例函数。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th align="left">格式</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>测试函数</td>
<td align="left">函数名前缀为<code>Test</code></td>
<td>测试程序的一些逻辑行为是否正确</td>
</tr>
<tr>
<td>基准函数</td>
<td align="left">函数名前缀为<code>Benchmark</code></td>
<td>测试函数的性能</td>
</tr>
<tr>
<td>示例函数</td>
<td align="left">函数名前缀为<code>Example</code></td>
<td>为文档提供示例文档</td>
</tr>
</tbody></table>
<p>测试函数实例</p>
<pre><code class="hljs language-go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestName</span><span class="hljs-params">(t *testing.T)</span></span>{
  <span class="hljs-comment">// ...</span>
}
</code></pre>
</div></div></div></article></div></main><footer class="flex flex-col items-center justify-center leading-8 text-sm w-full py-2 border-t text-skin-muted"><p>Designed &amp; developed by<a class="ml-1 text-yellow" target="_blank" href="https://github.com/mrrs878" rel="noreferrer">Mr.RS</a></p><p>2024</p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"go-极速入门","tags":["go"],"categories":"go","description":"# 依赖包管理工具\n\n- dep\n  未完待续...\n- go vendor\n  未完待续...\n- glide\n  未完待续...\n- **go modules**\n  \n  伴随Go 1.11出现，**官方推荐**\n\n# go mod 命令\n- `go mod tidy`\n  \n  拉取缺少的模块，移除不用的模块\n- `go mod vandor`\n  \n  将依赖复制到vendor下\n-","createDate":"2020-01-14 13:43:45","updateDate":"10/1/2021, 3:34:43 AM","body":"\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e依赖包管理工具\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cul\u003e\n\u003cli\u003e\u003cp\u003edep\n未完待续...\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003ego vendor\n未完待续...\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eglide\n未完待续...\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003cstrong\u003ego modules\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e伴随Go 1.11出现，\u003cstrong\u003e官方推荐\u003c/strong\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003ego mod 命令\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cul\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ego mod tidy\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e拉取缺少的模块，移除不用的模块\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ego mod vandor\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e将依赖复制到vendor下\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ego mod download\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e下载依赖包\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ego mod verify\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e检测依赖\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ego mod graph\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e打印模块依赖图\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e切片\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e切片就像数组的引用\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e切片拥有 \u003cem\u003e长度\u003c/em\u003e 和 \u003cem\u003e容量\u003c/em\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cul\u003e\n\u003cli\u003e切片的长度就是它所包含的元素个数。\u003c/li\u003e\n\u003cli\u003e切片的容量是从它的第一个元素开始数，到其底层数组元素末尾的个数。\u003c/li\u003e\n\u003cli\u003e切片 s 的长度和容量可通过表达式 \u003ccode\u003elen(s)\u003c/code\u003e 和 \u003ccode\u003ecap(s)\u003c/code\u003e 来获取。\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e切片可以用内建函数 \u003ccode\u003emake\u003c/code\u003e 来创建，这也是创建动态数组的方式。\u003ccode\u003emake\u003c/code\u003e 函数会分配一个元素为零值的数组并返回一个引用了它的切片：\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003ea := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e([]\u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e)  \u003cspan class=\"hljs-comment\"\u003e// len(a)=5\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// 要指定它的容量，需向 make 传入第三个参数：\u003c/span\u003e\nb := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e([]\u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// len(b)=0, cap(b)=5\u003c/span\u003e\nb = b[:\u003cspan class=\"hljs-built_in\"\u003ecap\u003c/span\u003e(b)] \u003cspan class=\"hljs-comment\"\u003e// len(b)=5, cap(b)=5\u003c/span\u003e\nb = b[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e:]      \u003cspan class=\"hljs-comment\"\u003e// len(b)=4, cap(b)=4\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e向切片追加元素\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cp\u003eappend 的第一个参数 s 是一个元素类型为 T 的切片，其余类型为 T 的值将会追加到该切片的末尾。append 的结果是一个包含原切片所有元素加上新添加元素的切片。当 s 的底层数组太小，不足以容纳所有给定的值时，它就会分配一个(\u003cstrong\u003ecap值翻倍\u003c/strong\u003e)更大的数组。返回的切片会指向这个新分配的数组。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;fmt\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e s []\u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e\n    printSlice(s)\n    \u003cspan class=\"hljs-comment\"\u003e// len=0 cap=0 []\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// cap不够用——\u0026gt;cap翻倍——\u0026gt;cap=2\u003c/span\u003e\n    s = \u003cspan class=\"hljs-built_in\"\u003eappend\u003c/span\u003e(s, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n    printSlice(s)\n    \u003cspan class=\"hljs-comment\"\u003e// len=1 cap=2 [0]\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// cap够用——\u0026gt;保持不变——\u0026gt;cap=2\u003c/span\u003e\n    s = \u003cspan class=\"hljs-built_in\"\u003eappend\u003c/span\u003e(s, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    printSlice(s)\n    \u003cspan class=\"hljs-comment\"\u003e// len=2 cap=2 [0 1]\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// cap不够用——\u0026gt;cap翻倍——\u0026gt;cap=8\u003c/span\u003e\n    s = \u003cspan class=\"hljs-built_in\"\u003eappend\u003c/span\u003e(s, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n    printSlice(s)\n    \u003cspan class=\"hljs-comment\"\u003e// len=5 cap=8 [0 1 2 3 4]\u003c/span\u003e\n\n    \u003cspan class=\"hljs-comment\"\u003e// cap够用——\u0026gt;cap保持不变——\u0026gt;cap=8\u003c/span\u003e\n    s = \u003cspan class=\"hljs-built_in\"\u003eappend\u003c/span\u003e(s, \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e)\n    printSlice(s)\n    \u003cspan class=\"hljs-comment\"\u003e// len=8 cap=8 [0 1 2 3 4 5 6 7]\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eprintSlice\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(s []\u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e)\u003c/span\u003e\u003c/span\u003e {\n    fmt.Printf(\u003cspan class=\"hljs-string\"\u003e\u0026quot;len=%d cap=%d %v\\n\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(s), \u003cspan class=\"hljs-built_in\"\u003ecap\u003c/span\u003e(s), s)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003emap\u003c/code\u003e-无序的 \u003ccode\u003ekey-value\u003c/code\u003e 数据结构\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cp\u003emap集合中的 \u003ccode\u003ekey/value\u003c/code\u003e 可以是任意类型，但所有\u003ccode\u003ekey\u003c/code\u003e必须同属于一种数据类型，所有的\u003ccode\u003evalue\u003c/code\u003e必须同属于一种数据类型。\u003ccode\u003ekey\u003c/code\u003e 和 \u003ccode\u003evalue\u003c/code\u003e 的数据类型可以不相同\u003c/p\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003efor\u003c/code\u003e循环\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003eperson := [\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e]\u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e { \u003cspan class=\"hljs-string\"\u003e\u0026quot;tom\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;john\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;jerry\u0026quot;\u003c/span\u003e }\n\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e k, v := \u003cspan class=\"hljs-keyword\"\u003erange\u003c/span\u003e person {\n  fmt.Printf(\u003cspan class=\"hljs-string\"\u003e\u0026quot;person[%d]: %s\\n\u0026quot;\u003c/span\u003e, k, v)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003ego\u003c/code\u003e关键字\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cp\u003e在go关键字后面加一个函数，就可以创建一个线程，函数可以为已经写好的函数，也可以是匿名函数\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n  fmt.Printf(\u003cspan class=\"hljs-string\"\u003e\u0026quot;main start\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003ego\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;goroutine\u0026quot;\u003c/span\u003e)\n  }()\n  time.sleep(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e * time.Second)\n  fmt.Printf(\u003cspan class=\"hljs-string\"\u003e\u0026quot;main end\u0026quot;\u003c/span\u003e)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003echan\u003c/code\u003e-类似于队列，遵循先进先出的规则\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e声明\u003ccode\u003echan\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 声明不带缓冲的通道\u003c/span\u003e\nch1 := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e// 声明带10个缓冲的通道\u003c/span\u003e\nch2 := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e// 声明只读通道\u003c/span\u003e\nch3 := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u0026lt;-\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e// 声明只写通道\u003c/span\u003e\nch4 := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e\u0026lt;- \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e不带缓冲的通道，进何处都会阻塞\n带缓冲的通道，进一次长度+1，出一次长度-1，如果长度等于缓冲区长度时，再进就会阻塞\u003c/p\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e写入\u003ccode\u003echan\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003ech1 := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e)\nch1 \u0026lt;- \u003cspan class=\"hljs-string\"\u003e\u0026quot;a\u0026quot;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e读取\u003ccode\u003echan\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003eval, ok := \u0026lt;- ch1\nval := \u0026lt;- ch1\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e关闭\u003ccode\u003echan\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-built_in\"\u003eclose\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eproductor\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(ch \u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e)\u003c/span\u003e\u003c/span\u003e {\n  fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;producer start\u0026quot;\u003c/span\u003e)\n  ch \u0026lt;- \u003cspan class=\"hljs-string\"\u003e\u0026quot;a\u0026quot;\u003c/span\u003e\n  ch \u0026lt;- \u003cspan class=\"hljs-string\"\u003e\u0026quot;b\u0026quot;\u003c/span\u003e\n  ch \u0026lt;- \u003cspan class=\"hljs-string\"\u003e\u0026quot;c\u0026quot;\u003c/span\u003e\n  ch \u0026lt;- \u003cspan class=\"hljs-string\"\u003e\u0026quot;d\u0026quot;\u003c/span\u003e\n  fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;producer end\u0026quot;\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n  fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;main start\u0026quot;\u003c/span\u003e)\n  ch := \u003cspan class=\"hljs-built_in\"\u003emake\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003echan\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003ego\u003c/span\u003e producer(ch)\n\n  time.Sleep(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e * time.Second)\n  fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;main end\u0026quot;\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// main start\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// producer start  发生阻塞\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// main end\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003edefer\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cp\u003e主要应用场景有异常处理、记录日志、清理数据、释放资源 等等。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edefer\u003c/code\u003e在声明时不会立刻去执行，而是在函数 \u003ccode\u003ereturn\u003c/code\u003e 后去执行的。\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edefer\u003c/code\u003e函数定义的顺序与实际执行的顺序是相反的，也就是最先声明的最后才执行\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;a\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;b\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;c\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;d\u0026quot;\u003c/span\u003e)\n\n  fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;main\u0026quot;\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// main\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// d\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// c\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// b\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// a\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecalc\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(index \u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e, a, b \u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eint\u003c/span\u003e {\n    ret := a + b\n    fmt.Println(index, a, b, ret)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e ret\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    x := \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    y := \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e calc(\u003cspan class=\"hljs-string\"\u003e\u0026quot;A\u0026quot;\u003c/span\u003e, x, calc(\u003cspan class=\"hljs-string\"\u003e\u0026quot;B\u0026quot;\u003c/span\u003e, x, y))\n    x = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edefer\u003c/span\u003e calc(\u003cspan class=\"hljs-string\"\u003e\u0026quot;C\u0026quot;\u003c/span\u003e, x, calc(\u003cspan class=\"hljs-string\"\u003e\u0026quot;D\u0026quot;\u003c/span\u003e, x, y))\n    y = \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// B 1 2 3\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// D 3 2 5\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// C 3 5 8\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// A 1 3 4\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e\u003ccode\u003einterface\u003c/code\u003e\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e基本\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cul\u003e\n\u003cli\u003e一种\u003cstrong\u003e抽象\u003c/strong\u003e类型\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e main\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;fmt\u0026quot;\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e Sayer \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e {\n    say()\n}\n\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e Cat \u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e {\n    Sayer\n}\n\n\u003cspan class=\"hljs-keyword\"\u003etype\u003c/span\u003e Dog \u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e {\n    Sayer\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003e(cat *Cat)\u003c/span\u003e\u003c/span\u003e say() {\n    fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;miao miao miao~\u0026quot;\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-params\"\u003e(dog *Dog)\u003c/span\u003e\u003c/span\u003e say() {\n    fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;wang wang wang~\u0026quot;\u003c/span\u003e)\n}\n\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e dog Dog\n    dog.say()\n    \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e cat Cat\n    cat.say()\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n      \u003ch2\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e空接口的应用\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h2\u003e\n    \u003cul\u003e\n\u003cli\u003e空接口作为函数的参数\u003c/li\u003e\n\u003cli\u003e空接口作为\u003ccode\u003emap\u003c/code\u003e的值\u003c/li\u003e\n\u003cli\u003e类型断言\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003emain\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e x \u003cspan class=\"hljs-keyword\"\u003einterface\u003c/span\u003e{}\n  x = \u003cspan class=\"hljs-string\"\u003e\u0026quot;hello world\u0026quot;\u003c/span\u003e\n  v, ok := x.(\u003cspan class=\"hljs-type\"\u003estring\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e ok {\n      fmt.Println(v)\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      fmt.Println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;类型断言失败\u0026quot;\u003c/span\u003e)\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n      \u003ch1\u003e\n        \u003cspan class=\"prefix\"\u003e\u003c/span\u003e\n        \u003cspan class=\"content\"\u003e单元测试\u003c/span\u003e\n        \u003cspan class=\"suffix\"\u003e\u003c/span\u003e\n      \u003c/h1\u003e\n    \u003cp\u003eGo语言中的测试依赖\u003ccode\u003ego test\u003c/code\u003e命令。编写测试代码和编写普通的\u003ccode\u003eGo\u003c/code\u003e代码过程是类似的。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ego test\u003c/code\u003e命令是一个按照一定约定和组织的测试代码的驱动程序。在包目录内，所有以\u003ccode\u003e_test.go\u003c/code\u003e为后缀名的源代码文件都是\u003ccode\u003ego test\u003c/code\u003e测试的一部分，不会被\u003ccode\u003ego build\u003c/code\u003e编译到最终的可执行文件中。\u003c/p\u003e\n\u003cp\u003e在\u003ccode\u003e*_test.go\u003c/code\u003e文件中有三种类型的函数，单元测试函数、基准测试函数和示例函数。\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e类型\u003c/th\u003e\n\u003cth align=\"left\"\u003e格式\u003c/th\u003e\n\u003cth\u003e作用\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\u003ctr\u003e\n\u003ctd\u003e测试函数\u003c/td\u003e\n\u003ctd align=\"left\"\u003e函数名前缀为\u003ccode\u003eTest\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e测试程序的一些逻辑行为是否正确\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e基准函数\u003c/td\u003e\n\u003ctd align=\"left\"\u003e函数名前缀为\u003ccode\u003eBenchmark\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e测试函数的性能\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e示例函数\u003c/td\u003e\n\u003ctd align=\"left\"\u003e函数名前缀为\u003ccode\u003eExample\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e为文档提供示例文档\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003e测试函数实例\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-go\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eTestName\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(t *testing.T)\u003c/span\u003e\u003c/span\u003e{\n  \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n"}},"__N_SSG":true},"page":"/post/[title]","query":{"title":"go-极速入门"},"buildId":"rfzbvyXf47u3p_eOe2WWT","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>