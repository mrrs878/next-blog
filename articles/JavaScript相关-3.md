---
title: "JavaScriptç›¸å…³-3"
tags: "JavaScript"
categories: "JavaScript"
description: ""
createDate: "2020-02-14 23:22:46"
updateDate: "10/1/2021, 3:34:43 AM"
---

## æ‰§è¡Œä¸Šä¸‹æ–‡

### ä»€ä¹ˆæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡

æ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯å½“å‰JavaScriptä»£ç è¢«è§£æå’Œæ‰§è¡Œæ—¶æ‰€åœ¨ç¯å¢ƒçš„æŠ½è±¡æ¦‚å¿µã€‚JavaScriptä¸­ä»»ä½•çš„ä»£ç éƒ½æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚

æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åšä»¥ä¸‹å‡ ä»¶äº‹ï¼š

1. åˆ›å»ºå˜é‡å¯¹è±¡ï¼šé¦–å…ˆåˆå§‹åŒ–å‡½æ•°çš„å‚æ•°`arguments`ï¼Œæå‡å˜é‡å£°æ˜å’Œå‡½æ•°å£°æ˜
2. åˆ›å»ºä½œç”¨åŸŸé“¾ï¼ˆ`scope chain`ï¼‰ï¼šåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µï¼Œä½œç”¨åŸŸé“¾æ˜¯åœ¨å˜é‡å¯¹è±¡ä¹‹ååˆ›å»ºçš„
3. ç¡®å®š`this`çš„å€¼ï¼Œå³`resolve thisbinding`

æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ä¸­éƒ½æœ‰ä¸‰ç§é‡è¦çš„å±æ€§ï¼š

- å˜é‡å¯¹è±¡ï¼ˆVOï¼‰ï¼ŒåŒ…å«å˜é‡ã€å‡½æ•°å£°æ˜å’Œå‡½æ•°çš„å½¢å‚ï¼Œè¯¥å±æ€§åªèƒ½åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è®¿é—®ï¼ˆå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä¸ºAOï¼‰
- ä½œç”¨åŸŸé“¾ï¼ˆ`scope chain`ï¼‰ï¼ŒJavaScripté‡‡ç”¨è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´å˜é‡çš„ä½œç”¨åŸŸå®åœ¨å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ï¼ŒåŒ…å«è‡ªèº«å˜é‡å¯¹è±¡å’Œä¸Šçº§å˜é‡å¯¹è±¡çš„åˆ—è¡¨ï¼Œé€šè¿‡`[[Scope]]`å±æ€§æŸ¥æ‰¾ä¸Šçº§å˜é‡
- `this`

### æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ†ç±»

- å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡
- å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡

## æ‰§è¡Œæ ˆ

æ‰§è¡Œæ ˆï¼Œä¹Ÿå«åšè°ƒç”¨æ ˆï¼Œå…·æœ‰LIFOç»“æ„ï¼Œç”¨äºå­˜å‚¨åœ¨ä»£ç æ‰§è¡ŒæœŸé—´åˆ›å»ºçš„æ‰€æœ‰æ‰§è¡Œä¸Šä¸‹æ–‡

æœ‰å¦‚ä¸‹è§„åˆ™ï¼š

- é¦–æ¬¡è¿è¡ŒJavaScriptä»£ç çš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å¹¶pushåˆ°å½“å‰çš„æ‰§è¡Œæ ˆä¸­ï¼Œæ¯å½“å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œå¼•æ“éƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶pushå½“å‰æ‰§è¡Œæ ˆçš„æ ˆé¡¶
- å½“æ ˆé¡¶çš„å‡½æ•°è¿è¡Œå®Œæˆåï¼Œå…¶å¯¹åº”çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å°†ä¼šä»æ‰§è¡Œæ ˆä¸­popï¼Œä¸Šä¸‹æ–‡çš„æ§åˆ¶æƒç§»åŠ¨åˆ°å½“å‰æ‰§è¡Œæ ˆçš„ä¸‹ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡

## ä½œç”¨åŸŸ

ä½œç”¨åŸŸè´Ÿè´£æ”¶é›†å’Œç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®æ–½ä¸€å¥—éå¸¸ä¸¥æ ¼çš„è§„åˆ™ï¼Œç¡®å®šå½“å‰æ‰§è¡Œçš„ä»£ç å¯¹è¿™äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™

ä½œç”¨åŸŸæœ‰ä¸¤ç§å·¥ä½œæ¨¡å‹ï¼š**è¯æ³•ä½œç”¨åŸŸ**å’Œ**åŠ¨æ€ä½œç”¨åŸŸ**ã€‚JavaScripté‡‡ç”¨çš„æ—¶**è¯æ³•ä½œç”¨åŸŸ**ï¼Œè¯æ³•ä½œç”¨åŸŸæ„å‘³ç€ä½œç”¨åŸŸæ˜¯ç”±ä¹¦å†™ä»£ç æ—¶å˜é‡å’Œå‡½æ•°å£°æ˜çš„ä½ç½®å†³å®šçš„ã€‚

### ä½œç”¨åŸŸçš„åˆ†ç±»

- å…¨å±€ä½œç”¨åŸŸ
- å‡½æ•°ä½œç”¨åŸŸ
- å—çº§ä½œç”¨åŸŸ

### ä½œç”¨åŸŸé“¾

ä½œç”¨åŸŸé“¾å°±æ˜¯ä»å½“å‰ä½œç”¨åŸŸå¼€å§‹ä¸€å±‚ä¸€å±‚å‘ä¸Šå¯»æ‰¾æŸä¸ªå˜é‡ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸé“¾

## å˜é‡æå‡

é€šä¿—è§£é‡Šï¼š

å°†å£°æ˜çš„ä»£ç ç§»åŠ¨åˆ°äº†é¡¶éƒ¨

å‡†ç¡®è§£é‡Šï¼šğŸ‘

1. åœ¨ç”Ÿæˆæ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œå…·ä½“æ­¥éª¤æ˜¯åˆ›å»ºVOï¼ŒJavaScriptè§£é‡Šå™¨ä¼šæ‰¾å‡ºéœ€è¦æå‡çš„å˜é‡å’Œå‡½æ•°ï¼Œå¹¶ä¸”ç»™å®ƒä»¬æå‰åœ¨å†…å­˜ä¸­å¼€è¾Ÿå¥½ç©ºé—´ï¼Œå‡½æ•°çš„è¯ä¼šå°†æ•´ä¸ªå‡½æ•°å­˜å…¥å†…å­˜ï¼Œå˜é‡ä¹‹ç”Ÿå‘½å¹¶ä¸”èµ‹å€¼ä¸º`undefined`
2. ä»£ç æ‰§è¡Œé˜¶æ®µï¼ˆå¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡/å‡½æ•°ï¼‰

## é˜²æŠ–

åœ¨ä¸€å®šæ—¶é—´å¤šæ¬¡è§¦å‘ä½†å†…åªè°ƒç”¨ä¸€æ¬¡

``` javascript
function debounce (func, wait = 50, immediate = true) {
  let timer, context, args;

  const later = () => setTimeout(() => {
    timer = null
    if (!immediate) {
      func.apply(context, args)
    }
  }, wait)

  return function (...params) {
    if (timer) {
      clearTimeout(timer)
      timer = later()
    } else {
      timer = later()
      if (immediate) {
        func.apply(this, params)
      } else {
        context = this
        args = params
      }
    }
  }
}
```

## å¯è¿­ä»£å¯¹è±¡

ES6è§„å®šï¼Œé»˜è®¤çš„`Iterator`æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„`Symbol.iterator`å±æ€§ä¸Šï¼Œæ¢ä¸ªè§’åº¦ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰`Symbol.iterator`å±æ€§é‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºå…¶æ˜¯å¯è¿­ä»£çš„

### å¯è¿­ä»£å¯¹è±¡çš„ç‰¹ç‚¹

- å…·æœ‰`Symbol.iterator`å±æ€§ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡
- å¯ä»¥ä½¿ç”¨`for...of`å¾ªç¯éå†
- å¯ä»¥é€šè¿‡`Array.from`è½¬æ¢ä¸ºæ•°ç»„

### åŸç”Ÿå…·æœ‰`Iterator`æ¥å£çš„æ•°æ®ç»“æ„

- Array
- Map
- Set
- String
- TypedArray
- å‡½æ•°çš„argumentså¯¹è±¡
- NodeListå¯¹è±¡