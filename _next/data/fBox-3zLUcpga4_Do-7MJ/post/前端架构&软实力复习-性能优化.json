{"pageProps":{"post":{"title":"前端架构&软实力复习-性能优化","tags":["性能优化"],"categories":"2021复习","description":"## 性能优化\n\n### 网络层面\n\n1. 压缩代码，删除不必要的代码和注释以及空格，尽量做到最小化文件\n\n2. 合理的代码合并与分割，降低资源请求时间\n\n3. 合理使用缓存\n\n4. 静态资源存放cdn\n\n#### 渲染过程\n\n优化dom结构\n\n- css文件放在head中，JavaScript文件放在body底部\n\n  js的执行会阻碍render（两个不同的线程）\n\n优化css\n\n- 减少","createDate":"2021-06-30 05:48:56","updateDate":"2021-07-01 12:29:25","body":"<h2 id=\"性能优化\">性能优化</h2>\n<h3 id=\"网络层面\">网络层面</h3>\n<ol>\n<li><p>压缩代码，删除不必要的代码和注释以及空格，尽量做到最小化文件</p>\n</li>\n<li><p>合理的代码合并与分割，降低资源请求时间</p>\n</li>\n<li><p>合理使用缓存</p>\n</li>\n<li><p>静态资源存放cdn</p>\n</li>\n</ol>\n<h4 id=\"渲染过程\">渲染过程</h4>\n<p>优化dom结构</p>\n<ul>\n<li><p>css文件放在head中，JavaScript文件放在body底部</p>\n<p>js的执行会阻碍render（两个不同的线程）</p>\n</li>\n</ul>\n<p>优化css</p>\n<ul>\n<li><p>减少重绘回流</p>\n<p>重绘会在设置节点样式时频繁出现，同时也会很大程度上影响性能，重绘是当节点需要更改外观而不会影响布局的时候发生，比如改变 color 就叫重绘\n回流是布局或者几何属性需要改变就称为回流，回流必然会引起重绘，重绘不一定为引发回流</p>\n<ol>\n<li>使用transform代替top</li>\n<li>使用visibility代替display:none</li>\n<li>直接改变className（把要修改的样式集中到一个class内统一修改）</li>\n<li>避免使用table布局（尽量不要使用table布局。如果没有定宽，表格一列的宽度则由最宽的一列决定，那个很可能在最后一行的宽度超出之前的列宽，引起整体回流造成table可能需要多次计算才能确定- 好其在渲染树中节点的属性）</li>\n</ol>\n</li>\n<li><p>扁平化css选择器，避免嵌套过深</p>\n<p>选择器嵌套不超过三级</p>\n</li>\n</ul>\n<p>优化JavaScript</p>\n<ul>\n<li><p>事件委托（<strong>慎用，存在兼容性</strong>），减少事件绑定</p>\n</li>\n<li><p>合理更新dom</p>\n<ol>\n<li><p>dom离线操作</p>\n</li>\n<li><p><a href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a\">异步更新（包装成micro任务）</a></p>\n</li>\n</ol>\n</li>\n<li><p>减少重绘回流</p>\n<p>一些api会引起回流（getBoundingClientRect/getComputedStyle/clientTop/scrollTop/offsetTop），避免频繁使用</p>\n</li>\n</ul>\n<h2 id=\"开发工具优化\">开发工具优化</h2>\n<p>使用一系列工具使得开发更加方便、高效</p>\n<h3 id=\"使用webpack打包代码\">使用webpack打包代码</h3>\n<p><img src=\"https://pics.sdoprofile.com/sdo5/M01/A1/13/CoEpPGAc-0aAIGWzABDaeq_2mCc412_x.png\" alt=\"使用webpack打包代码\"></p>\n<ul>\n<li><p>版本号问题</p>\n<p>打包后资源文件名自动添加8位hash值</p>\n</li>\n<li><p>代码压缩/混淆</p>\n<p>使用webpack插件压缩/混淆代码，减小文件体积</p>\n</li>\n</ul>\n<h3 id=\"使用babel处理兼容性\">使用babel处理兼容性</h3>\n<p>可以使用es6+高级语法进行开发</p>\n<h3 id=\"使用eslint规范代码\">使用eslint规范代码</h3>\n<p>参考：</p>\n<ul>\n<li><a href=\"https://web.dev\">web dev</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/98880815\">Web性能领域常见的专业术语</a></li>\n<li><a href=\"https://blog.mrrs.top/blog/view/5f68c0ee414166469a5c4a38\">浏览器相关-渲染</a></li>\n<li><a href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416663715c4a39\">浏览器相关-模型</a></li>\n<li><a href=\"https://blog.mrrs.top/blog/view/5f68c0ee41416660fc5c4a3a\">JavaScript-执行机制</a></li>\n</ul>\n"}},"__N_SSG":true}