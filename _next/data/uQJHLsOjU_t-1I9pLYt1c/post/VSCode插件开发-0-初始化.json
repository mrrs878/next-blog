{"pageProps":{"post":{"title":"VSCode插件开发-0-初始化","tags":["VSCode插件"],"categories":"VSCode插件","description":"由于晚上下班坐公交方便点，虽然移动端有不少app供查看，但懒得打开手机，而且自己大多数时间都在使用vscode，因此打算开发一个实时公交插件。\n\n[GitHub地址](https://github.com/mrrs878/real_time_bus_arrival)\n[插件市场地址](https://marketplace.visualstudio.com/items?itemName=Rea","createDate":"2021-03-22 15:26:01","updateDate":"2021-03-26 12:26:14","body":"<p>由于晚上下班坐公交方便点，虽然移动端有不少app供查看，但懒得打开手机，而且自己大多数时间都在使用vscode，因此打算开发一个实时公交插件。</p>\n<p><a href=\"https://github.com/mrrs878/real_time_bus_arrival\">GitHub地址</a>\n<a href=\"https://marketplace.visualstudio.com/items?itemName=Real-timeBusArrival.real-time-bus-arrival\">插件市场地址</a></p>\n<h2 id=\"项目搭建\">项目搭建</h2>\n<ol>\n<li>安装官方类似于脚手架的工具</li>\n</ol>\n<p><code>npm install -g yo generator-code</code></p>\n<ol start=\"2\">\n<li>使用 <code>yo code</code> 初始化一个项目模板</li>\n</ol>\n<p>选择 <code>New Extension (TypeScript)</code> 和 <code>webpack</code></p>\n<h2 id=\"项目简单运行\">项目简单运行</h2>\n<p>VSCode打开项目并F5，会在一个新的VSCode窗口中运行插件</p>\n<p>在新窗口的命令面板（Ctrl+Shift+P） 运行<code>Hello World</code>命令。右下角会弹出<code>Hello World</code>通知信息</p>\n<p>注：</p>\n<p>默认项目的激活事件设置的是执行<code>helloWorld</code>指令：</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-attr\">&quot;activationEvents&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-string\">&quot;onCommand:extension-template.helloWorld&quot;</span>\n<span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n<span class=\"hljs-attr\">&quot;contributes&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">&quot;commands&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-attr\">&quot;command&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;extension-template.helloWorld&quot;</span><span class=\"hljs-punctuation\">,</span>\n            <span class=\"hljs-attr\">&quot;title&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;Hello World&quot;</span>\n        <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>因此在执行<code>Hello World</code>命令时会激活插件。而且<code>extension.ts</code>中注册了<code>helloWorld</code>命令回调，因此会显示通知信息</p>\n<pre><code class=\"hljs language-ts\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">activate</span>(<span class=\"hljs-params\">context: vscode.ExtensionContext</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;Congratulations, your extension &quot;extension-template&quot; is now active!&#x27;</span>);\n    <span class=\"hljs-keyword\">let</span> disposable = vscode.<span class=\"hljs-property\">commands</span>.<span class=\"hljs-title function_\">registerCommand</span>(<span class=\"hljs-string\">&#x27;extension-template.helloWorld&#x27;</span>, <span class=\"hljs-function\">() =&gt;</span> {\n        vscode.<span class=\"hljs-property\">window</span>.<span class=\"hljs-title function_\">showInformationMessage</span>(<span class=\"hljs-string\">&#x27;Hello World from extension_template!&#x27;</span>);\n    });\n    context.<span class=\"hljs-property\">subscriptions</span>.<span class=\"hljs-title function_\">push</span>(disposable);\n}\n</code></pre>\n<h2 id=\"目录结构\">目录结构</h2>\n<p><img src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/vscodeExtensionDir.png\" alt=\"vscode插件目录结构\"></p>\n"}},"__N_SSG":true}