{"pageProps":{"post":{"title":"前端架构&软实力-发布自己的npm包","tags":["npm"],"categories":"前端架构&软实力","description":"# 发布前准备\n\n- 安装npm\n\n- 注册npm账号\n\n- package.json相关配置\n\n```json\n{\n    \"name\": \"@mrrs878/blog\",\n    \"version\": \"0.0.1\",\n    \"private\": false,\n    \"repository\": \"https://github.com/mrrs878/blog\"\n}\n```\n\n- 更改仓","createDate":"2020-08-23 22:24:12","updateDate":"2021-02-20 17:13:58","body":"<h1 id=\"发布前准备\">发布前准备</h1>\n<ul>\n<li><p>安装npm</p>\n</li>\n<li><p>注册npm账号</p>\n</li>\n<li><p>package.json相关配置</p>\n</li>\n</ul>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">&quot;name&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;@mrrs878/blog&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;version&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;0.0.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;private&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-keyword\">false</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">&quot;repository&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;https://github.com/mrrs878/blog&quot;</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<ul>\n<li>更改仓库地址(之前更改过为淘宝镜像)</li>\n</ul>\n<pre><code class=\"hljs language-shell\"><span class=\"hljs-meta\"># </span><span class=\"language-bash\">查看</span>\nnpm config get registry\n<span class=\"hljs-meta\">\n# </span><span class=\"language-bash\">设置</span>\nnpm config set registry https://registry.npmjs.org\n</code></pre>\n<h1 id=\"发布\">发布</h1>\n<pre><code class=\"hljs language-shell\">\nnpm login\n\nnpm publish --access publish\n</code></pre>\n<p>可能遇到的错误：</p>\n<pre><code class=\"hljs language-shell\">npm ERR! path c:\\Temp\\npm-20936-b98f84c8\\tmp\\fromDir-02dd5394\\package.tgz\nnpm ERR! code EPERM\nnpm ERR! errno -4048\nnpm ERR! syscall unlink\nnpm ERR! Error: EPERM: operation not permitted, unlink &#x27;c:\\Temp\\npm-20936-b98f84c8\\tmp\\fromDir-02dd5394\\package.tgz&#x27;\nnpm ERR!     at Error (native)\nnpm ERR!  { Error: EPERM: operation not permitted, unlink &#x27;c:\\Temp\\npm-20936-b98f84c8\\tmp\\fromDir-02dd5394\\package.tgz&#x27;\nnpm ERR!     at Error (native)\nnpm ERR!   cause:\nnpm ERR!    { Error: EPERM: operation not permitted, unlink &#x27;c:\\Temp\\npm-20936-b98f84c8\\tmp\\fromDir-02dd5394\\package.tgz&#x27;\nnpm ERR!        at Error (native)\nnpm ERR!      errno: -4048,\nnpm ERR!      code: &#x27;EPERM&#x27;,\nnpm ERR!      syscall: &#x27;unlink&#x27;,\nnpm ERR!      path: &#x27;c:\\\\Temp\\\\npm-20936-b98f84c8\\\\tmp\\\\fromDir-02dd5394\\\\package.tgz&#x27; },\nnpm ERR!   isOperational: true,\nnpm ERR!   stack: &#x27;Error: EPERM: operation not permitted, unlink \\&#x27;c:\\\\Temp\\\\npm-20936-b98f84c8\\\\tmp\\\\fromDir-02dd5394\\\\package.tgz\\&#x27;\\n    at Error (native)&#x27;,\nnpm ERR!   errno: -4048,\nnpm ERR!   code: &#x27;EPERM&#x27;,\nnpm ERR!   syscall: &#x27;unlink&#x27;,\nnpm ERR!   path: &#x27;c:\\\\Temp\\\\npm-20936-b98f84c8\\\\tmp\\\\fromDir-02dd5394\\\\package.tgz&#x27; }\nnpm ERR!\nnpm ERR! Please try running this command again as root/Administrator.\n</code></pre>\n<p>或：</p>\n<p><img src=\"https://img-blog.csdn.net/20180112190805599?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3ZwZXI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"npm报错\"></p>\n<p><strong>重新登录npm</strong></p>\n<h1 id=\"更新\">更新</h1>\n<p>更改<code>package.json</code>中的<code>version</code>，重新运行<code>npm publish --access public</code></p>\n"}},"__N_SSG":true}