{"pageProps":{"post":{"title":"React.js学习-骚操作","tags":["React.js骚操作"],"categories":"React.js","description":"## 获取target\n\n``` ts\nexport type BasicTarget<T = HTMLElement> =\n  | (() => T | null)\n  | T\n  | null\n  | MutableRefObject<T | null | undefined>;\n\ntype TargetElement = HTMLElement | Element | Document","createDate":"2021-01-04 15:21:23","updateDate":"2021-04-26 16:54:30","body":"\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">获取target</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <pre><code class=\"hljs language-ts\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> <span class=\"hljs-title class_\">BasicTarget</span>&lt;T = <span class=\"hljs-title class_\">HTMLElement</span>&gt; =\n  | (<span class=\"hljs-function\">() =&gt;</span> T | <span class=\"hljs-literal\">null</span>)\n  | T\n  | <span class=\"hljs-literal\">null</span>\n  | <span class=\"hljs-title class_\">MutableRefObject</span>&lt;T | <span class=\"hljs-literal\">null</span> | <span class=\"hljs-literal\">undefined</span>&gt;;\n\n<span class=\"hljs-keyword\">type</span> <span class=\"hljs-title class_\">TargetElement</span> = <span class=\"hljs-title class_\">HTMLElement</span> | <span class=\"hljs-title class_\">Element</span> | <span class=\"hljs-title class_\">Document</span> | <span class=\"hljs-title class_\">Window</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getTargetElement</span>(<span class=\"hljs-params\">\n  target?: BasicTarget&lt;TargetElement&gt;,\n  defaultElement?: TargetElement,\n</span>): <span class=\"hljs-title class_\">TargetElement</span> | <span class=\"hljs-literal\">undefined</span> | <span class=\"hljs-literal\">null</span> {\n  <span class=\"hljs-keyword\">if</span> (!target) <span class=\"hljs-keyword\">return</span> defaultElement;\n  <span class=\"hljs-keyword\">let</span> <span class=\"hljs-attr\">targetElement</span>: <span class=\"hljs-title class_\">TargetElement</span> | <span class=\"hljs-literal\">undefined</span> | <span class=\"hljs-literal\">null</span>;\n\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> target === <span class=\"hljs-string\">&#x27;function&#x27;</span>) {\n    targetElement = <span class=\"hljs-title function_\">target</span>();\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&#x27;current&#x27;</span> <span class=\"hljs-keyword\">in</span> target) {\n    targetElement = target.<span class=\"hljs-property\">current</span>;\n  } <span class=\"hljs-keyword\">else</span> {\n    targetElement = target;\n  }\n\n  <span class=\"hljs-keyword\">return</span> targetElement;\n}\n</code></pre>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">父子组件通信</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>父组件要获取子组件的值：通过<code>props</code>传递回调函数</p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">react-router-dom重定向</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <pre><code class=\"hljs language-tsx\"><span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">Redirect</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;react-router-dom&#x27;</span>;\n\n<span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Redirect</span> <span class=\"hljs-attr\">to</span>=<span class=\"hljs-string\">&quot;/auth/login&quot;</span> /&gt;</span></span>\n</code></pre>\n"}},"__N_SSG":true}