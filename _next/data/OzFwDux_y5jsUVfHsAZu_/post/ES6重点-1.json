{"pageProps":{"post":{"title":"ES6é‡ç‚¹-1","tags":["ES6"],"categories":"JavaScript","description":"## å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•\n\n- `padStart`\n\n  ç”¨äºå­—ç¬¦ä¸²é•¿åº¦è¡¥å…¨ï¼Œå¦‚æœæŸä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸å¤ŸæŒ‡å®šé•¿åº¦ä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨\n\n  ```js\n  console.log('xxx'.padStart(4, 'ab'));\n  console.log('x'.padStart(4, 'ab')); //è¡¥å…¨ä½æ•°ï¼Œæœ‰éœ€è¦ä¼šé‡å¤æˆ–æˆªå–\n  console.log('x'.padStart(4));","createDate":"2020-02-19 23:01:48","updateDate":"10/1/2021, 3:34:43 AM","body":"\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <ul>\n<li><p><code>padStart</code></p>\n<p>ç”¨äºå­—ç¬¦ä¸²é•¿åº¦è¡¥å…¨ï¼Œå¦‚æœæŸä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸å¤ŸæŒ‡å®šé•¿åº¦ä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;xxx&#x27;</span>.<span class=\"hljs-title function_\">padStart</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-string\">&#x27;ab&#x27;</span>));\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>.<span class=\"hljs-title function_\">padStart</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-string\">&#x27;ab&#x27;</span>)); <span class=\"hljs-comment\">//è¡¥å…¨ä½æ•°ï¼Œæœ‰éœ€è¦ä¼šé‡å¤æˆ–æˆªå–</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>.<span class=\"hljs-title function_\">padStart</span>(<span class=\"hljs-number\">4</span>)); <span class=\"hljs-comment\">// ä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;xxx&#x27;</span>.<span class=\"hljs-title function_\">padStart</span>(<span class=\"hljs-number\">2</span>)); <span class=\"hljs-comment\">// è¡¥å…¨åçš„é•¿åº¦å°äºæºå­—ç¬¦ä¸²é•¿åº¦åˆ™ä¸åšä»»ä½•æ”¹å˜</span>\n\n<span class=\"hljs-comment\">// abax</span>\n<span class=\"hljs-comment\">// axxx</span>\n<span class=\"hljs-comment\">//    x</span>\n<span class=\"hljs-comment\">// xxx</span>\n</code></pre>\n</li>\n<li><p><code>padEnd</code></p>\n<p>å’Œ<code>padStart</code>æ•ˆæœç›¸åï¼Œä»å°¾éƒ¨å¼€å§‹è¡¥å…¨</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>.<span class=\"hljs-title function_\">padEnd</span>(<span class=\"hljs-number\">5</span>, <span class=\"hljs-string\">&#x27;abc&#x27;</span>));\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>.<span class=\"hljs-title function_\">padEnd</span>(<span class=\"hljs-number\">4</span>));\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;xxx&#x27;</span>.<span class=\"hljs-title function_\">padEnd</span>(<span class=\"hljs-number\">2</span>));\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;xxx&#x27;</span>.<span class=\"hljs-title function_\">padEnd</span>(<span class=\"hljs-number\">4</span>, <span class=\"hljs-string\">&#x27;ab&#x27;</span>));\n\n<span class=\"hljs-comment\">// xabca</span>\n<span class=\"hljs-comment\">// x   </span>\n<span class=\"hljs-comment\">// xxx</span>\n<span class=\"hljs-comment\">// xxxa</span>\n</code></pre>\n</li>\n</ul>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">å¯¹è±¡æ–°å¢æ‰©å±•</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <ul>\n<li><p>é“¾åˆ¤æ–­è¿ç®—ç¬¦</p>\n<p>åœ¨ES5ä¸­ï¼Œå–å¯¹è±¡å±æ€§æ—¶ï¼Œå¾€å¾€éœ€è¦åˆ¤æ–­ä»¥ä¸‹è¯¥å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚å¦‚ä¸‹</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> name = (store \n    &amp;&amp; store.<span class=\"hljs-property\">state</span> \n    &amp;&amp; store.<span class=\"hljs-property\">state</span>.<span class=\"hljs-property\">user</span> \n    &amp;&amp; store.<span class=\"hljs-property\">state</span>.<span class=\"hljs-property\">user</span>.<span class=\"hljs-property\">name</span>) || <span class=\"hljs-string\">&quot;tom&quot;</span>\n</code></pre>\n<p>è¿™ç§å±‚å±‚åˆ¤æ–­è¿‡äºéº»çƒ¦ï¼Œå› æ­¤ES2020å¼•å…¥é“¾åˆ¤æ–­è¿ç®—ç¬¦<code>?.</code></p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> name = store?.<span class=\"hljs-property\">state</span>?.<span class=\"hljs-property\">user</span>?.<span class=\"hljs-property\">name</span>\n</code></pre>\n<p>å¦‚æœå·¦ä¾§çš„å¯¹è±¡ä¸º<code>null</code>æˆ–<code>undefined</code>åˆ™ç›´æ¥è¿”å›<code>undefined</code>ï¼Œä¸å†å¾€ä¸‹è¿ç®—</p>\n</li>\n<li><p><code>null</code>åˆ¤æ–­è¿ç®—ç¬¦</p>\n<p>ç‹¬å»å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœæŸä¸ªå±æ€§çš„å€¼æ—¶<code>null</code>æˆ–<code>undefined</code>ï¼Œæœ‰æ—¶éœ€è¦ä¸ºå®ƒä»¬æŒ‡å®šé»˜è®¤å€¼ã€‚å¸¸è§åšæ³•æ˜¯é€šè¿‡<code>||</code>è¿ç®—ç¬¦æŒ‡å®šé»˜è®¤å€¼</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> name = user.<span class=\"hljs-property\">name</span> || <span class=\"hljs-string\">&quot;tom&quot;</span>\n<span class=\"hljs-keyword\">const</span> age = user.<span class=\"hljs-property\">age</span> || <span class=\"hljs-number\">20</span>\n</code></pre>\n<p>åŸæ„æ˜¯å±æ€§å€¼ä¸º<code>null</code>æˆ–<code>undefined</code>æ—¶é»˜è®¤å€¼å°±ç”Ÿæ•ˆï¼Œä½†å½“<code>user.name</code>ä¸ºç©ºä¸²æˆ–<code>user.age</code>ä¸º0æ—¶é»˜è®¤å€¼ä¹Ÿä¼šç”Ÿæ•ˆ</p>\n<p>ä¸ºæ­¤ES2020å¼•å…¥æ–°çš„<code>null</code>åˆ¤æ–­è¿ç®—ç¬¦<code>??</code></p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> name = user.<span class=\"hljs-property\">name</span> ?? <span class=\"hljs-string\">&quot;tom&quot;</span>\n<span class=\"hljs-keyword\">const</span> age = user.<span class=\"hljs-property\">age</span> ?? <span class=\"hljs-number\">20</span>\n</code></pre>\n</li>\n</ul>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">å¯¹è±¡æ–°å¢æ–¹æ³•</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <ul>\n<li><p><code>Object.is</code></p>\n<p>ç”¨æ¥æ›¿ä»£ <code>==</code>å’Œ<code>===</code></p>\n<p><code>==</code> ä¼šè¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œ<code>===</code> åœ¨æ¯”è¾ƒ+0å’Œ-0æ—¶è¿”å›<code>true</code>ï¼Œ<code>NaN</code>ä¸ç­‰äºè‡ªèº«</p>\n</li>\n<li><p><code>Object.assign</code></p>\n<p>ç”¨äºå¯¹è±¡åˆå¹¶</p>\n<ul>\n<li>åªæ‹·è´æºå¯¹è±¡çš„<strong>è‡ªèº«ã€å¯æšä¸¾å±æ€§ï¼ˆå«Symbolï¼‰</strong></li>\n<li>æµ…æ‹·è´</li>\n<li>åŒåå±æ€§ä¼šè¢«è¦†ç›–</li>\n<li>é™¤é¦–å‚æ•°å¤–ï¼ˆ<code>null</code>ã€<code>undefined</code>ä¼šæŠ¥é”™ï¼‰ï¼Œéå¯¹è±¡ä¼šè¢«è½¬æ¢ä¸ºå¯¹è±¡</li>\n</ul>\n</li>\n<li><p><code>Object.keys</code></p>\n<p>è¿”å›å¯¹è±¡<strong>è‡ªèº«çš„</strong>ã€<strong>å¯éå†çš„</strong>å±æ€§çš„é”®å<strong>æ•°ç»„</strong></p>\n</li>\n<li><p><code>Object.fromEntries/Object.entries</code></p>\n<p><code>Object.fromEntries</code>å°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé€‚åˆå°†<code>Map</code>è½¬æ¢ä¸º<code>Object</code></p>\n<p><code>Object.entries</code>é€†æ“ä½œï¼Œç”¨äºå°†<code>Object</code>è½¬æ¢ä¸ºé”®å€¼å¯¹æ•°ç»„</p>\n</li>\n</ul>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">Arrayæ‰©å±•</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <ul>\n<li><p><code>Array.of</code></p>\n<p>å¼¥è¡¥æ•°ç»„æ„é€ å‡½æ•°<code>Array()</code>çš„ä¸è¶³ã€‚å› ä¸ºå‚æ•°ä¸ªæ•°çš„ä¸åŒï¼Œä¼šå¯¼è‡´<code>Array()</code>çš„è¡Œä¸ºæœ‰å·®å¼‚</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Array</span>() <span class=\"hljs-comment\">//[]</span>\n<span class=\"hljs-title class_\">Array</span>(<span class=\"hljs-number\">3</span>) <span class=\"hljs-comment\">//[ , , ]</span>\n<span class=\"hljs-title class_\">Array</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>) <span class=\"hljs-comment\">//[3, 4, 5]</span>\n\n<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">of</span>() <span class=\"hljs-comment\">// []</span>\n<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">of</span>(<span class=\"hljs-number\">3</span>) <span class=\"hljs-comment\">//[3]</span>\n<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">of</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>) <span class=\"hljs-comment\">//[3, 4, 5]</span>\n</code></pre>\n</li>\n<li><p><code>Array.prototype.copyWithin()</code></p>\n<p>åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-title function_\">copyWithin</span>(target, start = <span class=\"hljs-number\">0</span>, end = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span>)\n\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>].<span class=\"hljs-title function_\">copyWithin</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>)\n<span class=\"hljs-comment\">// [4, 5, 3, 4, 5]</span>\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>].<span class=\"hljs-title function_\">copyWithin</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>)\n<span class=\"hljs-comment\">// [4, 2, 3, 4, 5]</span>\n</code></pre>\n</li>\n<li><p><code>Array.prototype.flat() &amp;&amp; Array.prototype.flatMap()</code></p>\n<p><code>flat()</code>ç”¨äºå°†æ•°æ®é™ç»´ï¼Œå‚æ•°ä¸ºé™ä½çš„ç»´æ•°ï¼ˆé»˜è®¤ä¸º1ï¼‰,å¦‚æœä¸ç®¡æœ‰å¤šå°‘å±‚ç»´ï¼Œéƒ½è¦è½¬ä¸ºä¸€ç»´æ•°ç»„ï¼Œå¯ä½¿ç”¨<code>Infinity</code>å…³é”®å­—ä½œä¸ºå‚æ•°</p>\n<p>å¦‚æœåŸæ•°ç»„æœ‰ç©ºä½<code>flat()</code>ä¼šè·³è¿‡</p>\n<pre><code class=\"hljs language-js\">[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>]].<span class=\"hljs-title function_\">flat</span>()\n<span class=\"hljs-comment\">// [1, 2, 1, 2]</span>\n\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>], [<span class=\"hljs-number\">1</span>, [<span class=\"hljs-number\">2</span>]]].<span class=\"hljs-title function_\">flat</span>()\n<span class=\"hljs-comment\">// [1, 2, 1, 2, 1, [2]]</span>\n\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>], [<span class=\"hljs-number\">1</span>, [<span class=\"hljs-number\">2</span>]]].<span class=\"hljs-title function_\">flat</span>(<span class=\"hljs-number\">2</span>)\n<span class=\"hljs-comment\">// [1, 2, 1, 2, 1, 2]</span>\n\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>], [<span class=\"hljs-number\">1</span>, [<span class=\"hljs-number\">2</span>]]].<span class=\"hljs-title function_\">flat</span>(<span class=\"hljs-title class_\">Infinity</span>)\n<span class=\"hljs-comment\">// [1, 2, 1, 2, 1, 2]</span>\n</code></pre>\n<p><code>flatMap()</code>ç›¸å½“äº<code>Array.prorotype.Map</code> + <code>Array.prorotype.flat</code></p>\n<pre><code class=\"hljs language-js\">[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>].<span class=\"hljs-title function_\">flatMap</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">x</span> =&gt;</span> [x, x * <span class=\"hljs-number\">2</span>])\n<span class=\"hljs-comment\">// [1, 2, 2, 4, 3, 6]</span>\n[<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>].<span class=\"hljs-title function_\">flatMap</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">x</span> =&gt;</span> x * <span class=\"hljs-number\">2</span>)\n<span class=\"hljs-comment\">// [2, 4, 6]</span>\n</code></pre>\n</li>\n</ul>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">iterator</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p><strong>WHAT</strong></p>\n<p>éå†å™¨ï¼ˆ<code>iterator</code>ï¼‰å°±æ˜¯è¿™æ ·ä¸€ç§æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ç§æ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº†<code>iterator</code>æ¥å£ï¼Œå°±å¯ä»¥å®Œæˆ<strong>éå†</strong>æ“ä½œ</p>\n<p><strong>WHY</strong></p>\n<p>JavaScriptåŸæœ‰çš„è¡¨ç¤ºé›†åˆçš„æ•°æ®ç»“æ„ä¸»è¦æ˜¯æ•°ç»„ï¼ˆArrayï¼‰å’Œå¯¹è±¡ï¼ˆObjectï¼‰ï¼ŒES6åˆæ·»åŠ äº†<code>Map</code>ã€<code>Set</code>ã€‚è¿™æ ·å°±æœ‰äº†å››ç§æ•°æ®é›†åˆï¼Œç”¨æˆ·å¯ä»¥ç»„åˆä½¿ç”¨å®ƒä»¬ï¼Œå®šä¹‰è‡ªå·±çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æ•°ç»„çš„æˆå‘˜æ˜¯<code>Map</code>ï¼Œ<code>Map</code>çš„æˆå‘˜æ˜¯å¯¹è±¡ã€‚è¿™æ ·éœ€è¦ä¸€ç§ç»Ÿä¸€çš„æ¥å£æœºåˆ¶æ¥å¤„ç†ä¸åŒçš„æ•°æ®ç»“æ„</p>\n<p>ä¸»è¦ä½œç”¨</p>\n<ul>\n<li><p>ä¸ºå„ç§æ•°æ®ç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£</p>\n</li>\n<li><p>ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—</p>\n</li>\n<li><p>ä¸º<code>for...of</code>æ‰€ä½¿ç”¨</p>\n<p>é€‚åˆéå†Arrayï¼Œæ—¢æœ‰<code>forEach</code>çš„ç®€æ´åˆæœ‰<code>for</code>çš„<code>break</code>ã€<code>return</code>ã€<code>continue</code></p>\n</li>\n</ul>\n<p><strong>HOW</strong></p>\n<p><code>iterator</code>çš„éå†è¿‡ç¨‹</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰çš„æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´éå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡</li>\n<li>ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜</li>\n<li>ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜</li>\n<li>ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®</li>\n</ol>\n<p>æ¯ä¸€æ¬¡è°ƒç”¨<code>next</code>æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«<code>value</code>å’Œ<code>done</code>ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼Œå…¶ä¸­<code>value</code>å±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œ<code>done</code>å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦éå†ç»“æŸ</p>\n<p>ES6è§„å®šï¼Œé»˜è®¤çš„<code>iterator</code>æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„<code>Symbol.iterator</code>å±æ€§ï¼Œæˆ–è€…è¯´ï¼Œä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰<code>Symbol.iterator</code>å±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯å¯éå†çš„ï¼ˆ<code>iterable</code>ï¼‰</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> obj = {\n    <span class=\"hljs-attr\">data</span>: [<span class=\"hljs-string\">&#x27;hello&#x27;</span>, <span class=\"hljs-string\">&#x27;world&#x27;</span>],\n    [<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">iterator</span>](): {\n        <span class=\"hljs-keyword\">const</span> self = <span class=\"hljs-variable language_\">this</span>\n        <span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-number\">0</span>\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-title function_\">next</span>(<span class=\"hljs-params\"></span>) {\n                <span class=\"hljs-keyword\">if</span> (index &lt; self.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">length</span>) {\n                    <span class=\"hljs-keyword\">return</span> {\n                        <span class=\"hljs-attr\">value</span>: self.<span class=\"hljs-property\">data</span>[index++]\n                        <span class=\"hljs-attr\">done</span>: <span class=\"hljs-literal\">false</span>\n                    }\n                }\n                <span class=\"hljs-keyword\">return</span> {\n                    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-literal\">undefined</span>,\n                    <span class=\"hljs-attr\">done</span>: <span class=\"hljs-literal\">true</span>\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>åŸç”Ÿå…·å¤‡iteratoræ¥å£çš„æ•°æ®ç»“æ„ï¼š<code>Mapã€Arrayã€Setã€Stringã€TypedArrayã€argumentsã€NodeListå¯¹è±¡</code></p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">let VS const</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>åœ¨letå’Œconstä¹‹é—´ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨constï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±€ç¯å¢ƒã€‚constä¼˜äºletçš„å‡ ä¸ªåŸå› ï¼š</p>\n<ul>\n<li>constå¯ä»¥æé†’é˜…è¯»ç¨‹åºçš„äººï¼Œè¿™ä¸ªå˜é‡ä¸åº”è¯¥æ”¹å˜</li>\n<li>constæ¯”è¾ƒç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œè¿ç®—ä¸æ”¹å˜å€¼ï¼Œåªæ˜¯æ–°å»ºå€¼ï¼Œè€Œä¸”è¿™æ ·ä¹Ÿæœ‰åˆ©äºå°†æ¥çš„åˆ†å¸ƒå¼è®¡ç®—</li>\n<li>JavaScriptç¼–è¯‘å™¨ä¼šå¯¹constè¿›è¡Œä¼˜åŒ–</li>\n<li>é•¿è¿œæ¥çœ‹ï¼ŒJavaScriptå¯èƒ½ä¼šæœ‰å¤šçº¿ç¨‹çš„å®ç°ï¼Œè¿™æ—¶letè¡¨ç¤ºçš„å˜é‡åªåº”å‡ºç°åœ¨å•çº¿ç¨‹è¿è¡Œçš„ä»£ç ä¸­ï¼Œä¸æ˜¯å¤šçº¿ç¨‹å…±äº«çš„ï¼Œè¿™æ ·æœ‰åˆ©äºçº¿ç¨‹å®‰å…¨</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// bad</span>\n<span class=\"hljs-keyword\">var</span> a = <span class=\"hljs-number\">1</span>, b = <span class=\"hljs-number\">2</span>, c = <span class=\"hljs-number\">3</span>\n<span class=\"hljs-comment\">// good</span>\n<span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-number\">1</span>;\n<span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-keyword\">const</span> c = <span class=\"hljs-number\">3</span>;\n<span class=\"hljs-comment\">// best</span>\n<span class=\"hljs-keyword\">const</span> [a, b, c] = [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>]\n</code></pre>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">generator</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>ES6æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ</p>\n<p>å½¢å¼ä¸Šï¼Œ<code>generator</code>å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚æ‰§è¡Œ<code>generator</code>å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª<strong>éå†å™¨å¯¹è±¡</strong>ã€‚</p>\n<p>è¯­æ³•ä¸Šï¼Œ<code>generator</code>å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ã€‚<code>function</code>å…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ª<code>*</code>ï¼›å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨<code>yield</code>è¡¨è¾¾å¼å®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€</p>\n<p>ä¸æ™®é€šå‡½æ•°ä¸åŒï¼Œgeneratorå‡½æ•°è¢«è°ƒç”¨åå¹¶ä¸æ‰§è¡Œï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡å‘å†…éƒ¨çŠ¶æ€çš„æŒ‡é’ˆå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<strong>éå†å™¨å¯¹è±¡</strong>ã€‚ä¸‹ä¸€æ­¥ï¼Œå¿…é¡»è°ƒç”¨éå†å™¨å¯¹è±¡çš„<code>next</code>æ–¹æ³•ä½¿å¾—æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è°ƒç”¨<code>next</code>æ–¹æ³•ï¼Œå†…éƒ¨æŒ‡é’ˆå°±ä»å‡½æ•°å¤´éƒ¨æˆ–ä¸Šä¸€æ¬¡åœä¸‹æ¥çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª<code>yield</code>è¡¨è¾¾å¼ï¼ˆæˆ–<code>return</code>è¯­å¥ï¼‰</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> str1 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&quot;hello&quot;</span>\n  <span class=\"hljs-comment\">// str1 = 222</span>\n  <span class=\"hljs-keyword\">const</span> str2 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&quot;world&quot;</span>\n  <span class=\"hljs-comment\">// str2 = 333</span>\n  <span class=\"hljs-keyword\">return</span> str2\n}\n\n<span class=\"hljs-keyword\">const</span> iter = <span class=\"hljs-title function_\">gen</span>()\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(iter.<span class=\"hljs-title function_\">next</span>())\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(iter.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">222</span>))\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(iter.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">333</span>))\n</code></pre>\n<p>ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œ<code>generator</code>å‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ª<code>yield</code>è¡¨è¾¾å¼ä¸ºæ­¢ã€‚<code>next</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„<code>value</code>å€¼å°±æ˜¯å½“å‰<code>yield</code>è¡¨è¾¾å¼çš„å€¼ï¼Œdoneçš„å€¼ä¸º<code>false</code></p>\n<p>ç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œ<code>generator</code>ä»ä¸Šæ¬¡yieldè¡¨è¾¾å¼åœä¸‹æ¥çš„åœ°æ–¹ä¸€ç›´æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ª<code>yield</code>è¡¨è¾¾å¼ ğŸ‘† â€¦â€¦</p>\n<p>ç¬¬ä¸‰æ¬¡è°ƒç”¨ï¼Œ<code>generator</code>å‡½æ•°ä»ä¸Šæ¬¡<code>yield</code>è¡¨è¾¾å¼åœä¸‹æ¥çš„åœ°æ–¹ä¸€ç›´æ‰§è¡Œåˆ°<code>return</code>è¯­å¥ï¼Œnextè¿”å›çš„<code>value</code>å€¼å°±æ˜¯<code>return</code>åé¢è¡¨è¾¾å¼çš„å€¼ï¼Œ<code>done</code>ä¸ºtrueï¼ˆå¦‚æœæ˜¯<code>yield</code>åˆ™ä¸º<code>false</code>ï¼‰</p>\n<p><code>yield</code>è¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼ˆæˆ–è€…è¯´æ€»æ˜¯è¿”å›undefinedï¼‰ã€‚<code>next</code>æ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¼šè¢«å½“ä½œ<strong>ä¸Šä¸€ä¸ª</strong><code>yield</code>è¡¨è¾¾å¼çš„è¿”å›å€¼</p>\n"}},"__N_SSG":true}