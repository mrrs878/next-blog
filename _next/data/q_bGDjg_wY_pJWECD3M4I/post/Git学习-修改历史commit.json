{"pageProps":{"post":{"title":"Gitå­¦ä¹ -ä¿®æ”¹å†å²commit","tags":["Git","rebase"],"categories":"Git","description":"æœ‰æ—¶å€™æˆ‘ä»¬åœ¨æäº¤ä»£ç æ—¶é€‰é”™äº†gitè´¦å·æˆ–è€…åˆå§‹åŒ–ä»“åº“æ—¶æ²¡æœ‰é…ç½®gitè´¦å·ï¼Œæ°å¥½ä½ ä¹Ÿå¿½ç•¥æ‰äº†gitçš„æç¤ºï¼š\n\n``` shell\nYour name and email address were configured automatically based\non your username and hostname. Please check that they are accurate.\nYo","createDate":"2022-04-17 20:42:00","updateDate":"2022-04-17 21:35:28","body":"<p>æœ‰æ—¶å€™æˆ‘ä»¬åœ¨æäº¤ä»£ç æ—¶é€‰é”™äº†gitè´¦å·æˆ–è€…åˆå§‹åŒ–ä»“åº“æ—¶æ²¡æœ‰é…ç½®gitè´¦å·ï¼Œæ°å¥½ä½ ä¹Ÿå¿½ç•¥æ‰äº†gitçš„æç¤ºï¼š</p>\n<pre><code class=\"hljs language-shell\">Your name and email address were configured automatically based\non your username and hostname. Please check that they are accurate.\nYou can suppress this message by setting them explicitly:\n\n    git config --global user.name &quot;Your Name&quot;\n    git config --global user.email you@example.com\n\nAfter doing this, you may fix the identity used for this commit with:\n\n    git commit --amend --reset-author\n</code></pre>\n<p>åœ¨è¿™ä¹‹åï¼Œä½ å¯èƒ½åˆè¿›è¡Œäº†å‡ æ¬¡æäº¤......</p>\n<p>æŸä¸€æ—¶åˆ»ä½ çªç„¶æ„è¯†åˆ°å¥½åƒæœ‰ä»€ä¹ˆä¸å¯¹åŠ²ğŸ¤”</p>\n<p><img src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/shiqingbingbujiandan.jpeg\" alt=\"äº‹æƒ…å¹¶ä¸ç®€å•\"></p>\n<p>æ…Œå¿™ä¸­æ‰§è¡Œäº†ä¸€ä¸‹<code>git log</code></p>\n<pre><code class=\"hljs language-shell\">git log\n\ncommit b9955bf47f6437c2d72daf99e809737bbb79f2e1 (HEAD -&gt; master)\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:49:01 2022 +0800\n\n    fix: fix 1.1\n\ncommit ee0c985a1f158dcfe72b319727f401ae0742ed23\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:48:44 2022 +0800\n\n    fix: fix 1.0\n\ncommit f6bac54c00f6b869894e8214aae7b8aaacdec5d5\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:47:23 2022 +0800\n\n    feat: 1.0\n</code></pre>\n<p>å¯„äº†ğŸ™</p>\n<p><code>Author</code>å…¨æ˜¯å¦ä¸€ä¸ªï¼Œå‡è®¾åˆšå¥½ä½ çš„å›¢é˜Ÿæ˜¯æŒ‰ç…§ bugæ•°/ä»£ç é‡ æ¥è¿›è¡Œä»£ç è´¨é‡è¯„ä¼°çš„ï¼Œé‚£ç°åœ¨å²‚ä¸æ˜¯è‡ªå·±ç»™è‡ªå·±æŒ–å‘ï¼Œå¼ºè¡Œæ‹‰ä½åˆ†æ¯</p>\n<p><img src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/wtmlaji.jpeg\" alt=\"æˆ‘tmæ€ä¹ˆè¿™ä¹ˆåƒåœ¾\"></p>\n<p>ç¨³ä½åˆ«æ…Œï¼Œé—®é¢˜ä¸å¤§ã€‚gitè¿™ä¹ˆç‰›é€¼çš„ä¸œè¥¿æ€ä¹ˆå¯èƒ½æ²¡æƒ³åˆ°æˆ‘ä»¬è¿™ç§å‚»ç“œæ“ä½œå‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä¼šåˆ†å‡ ç§ä¸åŒçš„æƒ…å†µåˆ†åˆ«ç»™å‡ºè§£å†³æ–¹æ¡ˆ</p>\n<p>é¦–å…ˆï¼Œæ„Ÿè°¢ç¥–å¸ˆçˆ·ï¼</p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">åªä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>å‡å¦‚ä½ åªæ˜¯æäº¤äº†ä¸€æ¬¡å°±å‘ç°ä¸å¯¹åŠ²ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¾ˆç®€å•åœ°æŒ½æ•‘å›æ¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p>\n<pre><code class=\"hljs language-shell\"><span class=\"hljs-meta\"># </span><span class=\"language-bash\">æ³¨æ„é‚®ç®±éœ€åŒ…æ‹¬&lt;&gt;å°–æ‹¬å·</span>\ngit commit --amend --author=&quot;NewAuthor &lt;NewEmail@address.com&gt;&quot;\n</code></pre>\n<p>æˆ–è€…åœ¨é¡¹ç›®ç›®å½•ä¸‹é…ç½®å¥½gitè´¦å·åæ‰§è¡Œï¼š</p>\n<pre><code class=\"hljs language-shell\">git commit --amend --reset-author\n</code></pre>\n<p>æ­¤æ—¶<code>git log</code>é•¿è¿™æ ·</p>\n<pre><code class=\"hljs language-shell\">git log\n\ncommit 8b7c9afb16d25a89cb2d8c3d864e8422c088966c (HEAD -&gt; master)\nAuthor: mrrs878 &lt;mrrs878@foxmail.com&gt;\nDate:   Sun Apr 17 20:49:01 2022 +0800\n\n    fix: fix 1.1\n\ncommit ee0c985a1f158dcfe72b319727f401ae0742ed23\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:48:44 2022 +0800\n\n    fix: fix 1.0\n\ncommit f6bac54c00f6b869894e8214aae7b8aaacdec5d5\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:47:23 2022 +0800\n\n    feat: 1.0\n</code></pre>\n<p>å¥½è€¶ï¼ğŸ‰</p>\n<p>é‚£å‡å¦‚ä½ æ˜¯æäº¤äº†å¥½å‡ æ¬¡æ‰è®°èµ·æ¥äº†å‘¢</p>\n<p><img src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/cangtianna.png\" alt=\"è‹å¤©å‘\"></p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">ä¿®æ”¹å†å²æäº¤</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>ä¾æ—§ç¨³ä½åˆ«æ…Œï¼Œé—®é¢˜ä¸å¤§</p>\n<p>æ­¤æ—¶å°±è¦ç¥­å‡º<code>git rebase</code>äº†</p>\n<p>å‡å¦‚ä½ çš„<code>git log</code>é•¿è¿™æ ·</p>\n<pre><code class=\"hljs language-shell\">git log\n\ncommit 8b7c9afb16d25a89cb2d8c3d864e8422c088966c (HEAD -&gt; master)\nAuthor: mrrs878 &lt;mrrs878@foxmail.com&gt;\nDate:   Sun Apr 17 20:49:01 2022 +0800\n\n    fix: fix 1.1\n\ncommit ee0c985a1f158dcfe72b319727f401ae0742ed23\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:48:44 2022 +0800\n\n    fix: fix 1.0\n\ncommit f6bac54c00f6b869894e8214aae7b8aaacdec5d5\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:47:23 2022 +0800\n\n    feat: 1.0\n</code></pre>\n<p>ï¼ˆæ²¡é”™ï¼Œæˆ‘è¿˜æ˜¯æ‹¿çš„ä¸Šé¢ä¸¾ä¾‹å­ğŸ‘†ï¼‰</p>\n<p>å‡å¦‚ä½ è¦ä¿®å¤<code>commit message</code>ä¸º<code>fix: fix 1.0</code>çš„è¿™ä¸ª<code>commit</code>ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼š</p>\n<pre><code class=\"hljs language-shell\"><span class=\"hljs-meta\"># </span><span class=\"language-bash\">-i åé¢è·Ÿçš„æ˜¯fix: fix1.0ä¹‹å‰çš„ä¸€ä¸ªcommitçš„<span class=\"hljs-built_in\">hash</span></span>\ngit rebase -i f6bac54c00f6b869894e8214aae7b8aaacdec5d5\n</code></pre>\n<p>æˆ–è€…è¿™æ ·:</p>\n<pre><code class=\"hljs language-shell\"><span class=\"hljs-meta\"># </span><span class=\"language-bash\">HEAD~2 è¡¨ç¤ºåé€€ä¸¤æ­¥</span>\ngit rebase -i HEAD~2\n</code></pre>\n<p>ï¼ˆæ¨èç›´æ¥å†™hashå€¼ï¼Œå½“ä½ çš„commitè½åå¤ªå¤šä¸å¥½è®¡ç®—ğŸ¤£ï¼‰</p>\n<p>æ­¤æ—¶ä½ çš„ç»ˆç«¯å¤§æ¦‚ç‡å¯èƒ½ä¼šå˜æˆè¿™æ ·ï¼š</p>\n<pre><code class=\"hljs language-shell\">echo@echodeMBP î‚° ~/Frontend/test/git-commit-change î‚° â¦ ee0c985 &gt;R&gt; î‚°\n</code></pre>\n<p>è¿™ä¸¤ä¸ªå‘½ä»¤æ‰§è¡Œçš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼š</p>\n<pre><code class=\"hljs language-shell\">pick ee0c985 fix: fix 1.0\npick 8b7c9af fix: fix 1.1\n<span class=\"hljs-meta\">\n# </span><span class=\"language-bash\">Rebase f6bac54..8b7c9af onto f6bac54 (2 commands)</span>\n<span class=\"hljs-meta\">#</span><span class=\"language-bash\">\n<span class=\"hljs-comment\"># Commands:</span></span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">p, pick &lt;commit&gt; = use commit</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">r, reword &lt;commit&gt; = use commit, but edit the commit message</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">e, edit &lt;commit&gt; = use commit, but stop <span class=\"hljs-keyword\">for</span> amending</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">s, squash &lt;commit&gt; = use commit, but meld into previous commit</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">f, fixup [-C | -c] &lt;commit&gt; = like <span class=\"hljs-string\">&quot;squash&quot;</span> but keep only the previous</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">                   commit<span class=\"hljs-string\">&#x27;s log message, unless -C is used, in which case</span></span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\"><span class=\"hljs-string\">                   keep only this commit&#x27;</span>s message; -c is same as -C but</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">                   opens the editor</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">x, <span class=\"hljs-built_in\">exec</span> &lt;<span class=\"hljs-built_in\">command</span>&gt; = run <span class=\"hljs-built_in\">command</span> (the rest of the line) using shell</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">b, <span class=\"hljs-built_in\">break</span> = stop here (<span class=\"hljs-built_in\">continue</span> rebase later with <span class=\"hljs-string\">&#x27;git rebase --continue&#x27;</span>)</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">d, drop &lt;commit&gt; = remove commit</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">l, label &lt;label&gt; = label current HEAD with a name</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">t, reset &lt;label&gt; = reset HEAD to a label</span>\n<span class=\"hljs-meta\"># </span><span class=\"language-bash\">m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [<span class=\"hljs-comment\"># &lt;oneline&gt;]</span></span>\n</code></pre>\n<p>æ­¤æ—¶ä¼šè¿›å…¥å‘½ä»¤è¡Œäº¤äº’çŠ¶æ€</p>\n<p>å…‰æ ‡ç§»åŠ¨åˆ°é€‰æ‹©ä½ è¦ä¿®æ”¹çš„é‚£ä¸ª<code>commit</code>ï¼Œå¹¶å°†å‰æ–¹çš„<code>pick</code>æ”¹ä¸º<code>edit</code>ï¼Œç„¶å<code>:</code> + <code>wq</code>ä¿å­˜é€€å‡º</p>\n<p>æ­¤æ—¶ç»ˆç«¯ä¼šæ‰“å°è¿™ä¸ªæ¶ˆæ¯</p>\n<pre><code class=\"hljs language-shell\">Stopped at ee0c985...  fix: fix 1.0\nYou can amend the commit now, with\n\n  git commit --amend \n\nOnce you are satisfied with your changes, run\n\n  git rebase --continue\n</code></pre>\n<p>æ¥ç€æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼š</p>\n<pre><code class=\"hljs language-shell\">git commit --amend --reset-author\n</code></pre>\n<p>æˆ–è€…æœ€ä¸Šé¢é‚£ä¸ªï¼š</p>\n<pre><code class=\"hljs language-shell\">git commit --amend --author=&quot;NewAuthor &lt;NewEmail@address.com&gt;&quot;\n</code></pre>\n<p>æ­¤æ—¶åˆä¼šè¿›å…¥å‘½ä»¤è¡Œäº¤äº’ç•Œé¢ï¼Œç±»ä¼¼äºæ‰§è¡Œ<code>git commit -m &quot;xxxx&quot;</code>æ—¶ã€‚ç”±äºæˆ‘ä»¬ä»€ä¹ˆéƒ½æ²¡æ”¹ï¼Œå› æ­¤å¯ä»¥<code>:</code> + <code>wq</code>é€€å‡ºå³å¯</p>\n<p>æœ€åæ‰§è¡Œï¼š</p>\n<pre><code class=\"hljs language-shell\">git rebase --continue\n</code></pre>\n<p>è¿™æ—¶å€™å†<code>git log</code>ä¸€ä¸‹çœ‹çœ‹æ•ˆæœğŸ‘€</p>\n<pre><code class=\"hljs language-shell\">commit 24ff96047eeb5531841b1d93242af992b6e54fcc (HEAD -&gt; master)\nAuthor: mrrs878 &lt;mrrs878@foxmail.com&gt;\nDate:   Sun Apr 17 20:49:01 2022 +0800\n\n    fix: fix 1.1\n\ncommit 40074be6073f9f76817665d6de078143dbf6739d\nAuthor: mrrs878 &lt;mrrs878@foxmail.com&gt;\nDate:   Sun Apr 17 21:14:52 2022 +0800\n\n    fix: fix 1.0\n\ncommit f6bac54c00f6b869894e8214aae7b8aaacdec5d5\nAuthor: echo &lt;echo@echodeMBP.lan&gt;\nDate:   Sun Apr 17 20:47:23 2022 +0800\n\n    feat: 1.0\n</code></pre>\n<p>å¥½è€¶ï¼æˆåŠŸäº† ğŸ‰</p>\n<p>åˆ°è¿™é‡Œå¯ä»¥è§£å†³å¤§å¤šæ•°çš„äººçš„é—®é¢˜äº†ï¼Œé‚£å¯èƒ½ä¼šæœ‰äººé—®äº†ï¼Œå¦‚æœæˆ‘ä¸€å¼€å§‹å°±æ˜¯é”™çš„æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>\n<p><img src=\"https://mrrsblog.oss-cn-shanghai.aliyuncs.com/male.jpeg\" alt=\"éº»äº†\"></p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">ä¿®æ”¹ç¬¬ä¸€æ¬¡æäº¤</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p>ä¾æ—§é—®é¢˜ä¸å¤§ï¼Œå°†ä¸Šé¢çš„</p>\n<pre><code class=\"hljs language-shell\">git rebase -i xxx\n</code></pre>\n<p>æ›¿æ¢æˆ</p>\n<pre><code class=\"hljs language-shell\">git rebase -i --root\n</code></pre>\n<p>è¿™æ—¶ä½ ä¼šå‘ç°å¯ä»¥ä¿®æ”¹ç¬¬ä¸€æ¬¡æäº¤äº†</p>\n<pre><code class=\"hljs language-shell\">pick f6bac54 feat: 1.0\npick 40074be fix: fix 1.0\npick 24ff960 fix: fix 1.1\n<span class=\"hljs-meta\">\n# </span><span class=\"language-bash\">Rebase 24ff960 onto fba660d (3 commands)</span>\n</code></pre>\n<p>æ¥ä¸‹æ¥çš„å°±ä¸ç”¨æˆ‘æ•™ä½ äº†å§</p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">æ€»ç»“</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <ul>\n<li><p>å¦‚æœæ˜¯æœ€åä¸€æ¬¡æäº¤é”™è¯¯ï¼Œå¯ä»¥ç®€å•åœ°æ‰§è¡Œ<code>git commit --amend --author=&quot;NewAuthor &lt;NewEmail@address.com&gt;&quot;</code>æˆ–<code>git commit --amend --reset-author</code>æ¥ä¿®æ”¹ä¿¡æ¯</p>\n</li>\n<li><p>å¦‚æœæ˜¯æŸä¸€æ¬¡æäº¤é”™è¯¯ï¼Œå¯ä»¥é€šè¿‡<code>git rebase -i xxx</code> + ç¬¬ä¸€ç§çš„å‘½ä»¤æ¥ä¿®æ”¹ä¿¡æ¯</p>\n</li>\n<li><p>å¦‚æœè¦ä¿®æ”¹ç¬¬ä¸€æ¬¡æäº¤ï¼Œå¯ä»¥å°†ç¬¬äºŒç§çš„<code>git rebase -i xxx</code>æ›¿æ¢æˆ<code>git rebase -i --root</code>æ¥ä¿®æ”¹ä¿¡æ¯</p>\n</li>\n</ul>\n<p>ç»“æŸï¼</p>\n\n      <h2>\n        <span class=\"prefix\"></span>\n        <span class=\"content\">å‚è€ƒ</span>\n        <span class=\"suffix\"></span>\n      </h2>\n    <p><a href=\"https://www.jianshu.com/p/51f5cbb81cae\">Gitä¿®æ”¹æäº¤å†å²ä¸­çš„ä½œè€…åŠé‚®ç®±ä¿¡æ¯</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2246208/change-first-commit-of-project-with-git\">Change first commit of project with Git?</a></p>\n"}},"__N_SSG":true}